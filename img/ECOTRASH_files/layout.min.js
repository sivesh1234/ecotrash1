!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("layout",[],t):"object"==typeof exports?exports.layout=t():(e.CardFields=e.CardFields||{},e.CardFields.layout=t())}("undefined"!=typeof self?self:this,function(){return function(e){function __webpack_require__(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,i){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4807)}({113:function(e,t,i){"use strict";(function(e){i(114);var t=i(115),o=function(e){return e&&e.__esModule?e:{default:e}}(t);e.Promise||(e.Promise=o.default),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],n=0;n<i;){var r=t[n];if(e.call(o,r,n,t))return r;n++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],n=0;n<i;){var r=t[n];if(e.call(o,r,n,t))return n;n++}return-1}}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,i;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),n=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),i=0;i<n;){var r;i in o&&(r=o[i],e.call(t,r,i,o)),i++}}),e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,i){i=i||e;for(var o=0;o<this.length;o++)t.call(i,this[o],o,this)}),!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(e,t){Object.defineProperty(this,e,{get:t,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(e,t){Object.defineProperty(this,e,{set:t,enumerable:!0,configurable:!0})}})),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},o=Math.pow(2,53)-1,n=function(e){var t=i(e);return Math.min(Math.max(t,0),o)};return function(e){var i=this,o=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var s,l=n(o.length),d=t(i)?Object(new i(l)):new Array(l),c=0;c<l;)s=o[c],d[c]=a?void 0===r?a(s,c):a.call(r,s,c):s,c+=1;return d.length=l,d}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.Element&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1})),String.fromCodePoint||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t=String.fromCharCode,i=Math.floor,o=function(){var e,o,n=[],r=-1,a=arguments.length;if(!a)return"";for(var s="";++r<a;){var l=Number(arguments[r]);if(!isFinite(l)||l<0||l>1114111||i(l)!=l)throw RangeError("Invalid code point: "+l);l<=65535?n.push(l):(l-=65536,e=55296+(l>>10),o=l%1024+56320,n.push(e,o)),(r+1==a||n.length>16384)&&(s+=t.apply(null,n),n.length=0)}return s};e?e(String,"fromCodePoint",{value:o,configurable:!0,writable:!0}):String.fromCodePoint=o}(),e.location&&!e.location.origin&&(e.location.origin=e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")),function(){if("function"==typeof e.createNewEvent)return!1;e.createNewEvent=function(t){if("function"==typeof e.Event)var i=new e.Event(t);else{var i=document.createEvent("Event");i.initEvent(t,!0,!0)}return i}}()}).call(t,i(6))},114:function(e,t){!function(e){"use strict";function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(i[Symbol.iterator]=function(){return i}),i}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function readBlobAsArrayBuffer(e){var t=new FileReader,i=fileReaderReady(t);return t.readAsArrayBuffer(e),i}function readBlobAsText(e){var t=new FileReader,i=fileReaderReady(t);return t.readAsText(e),i}function readArrayBufferAsText(e){for(var t=new Uint8Array(e),i=new Array(t.length),o=0;o<t.length;o++)i[o]=String.fromCharCode(t[o]);return i.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&o(e))this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!n(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(e){var t=e.toUpperCase();return r.indexOf(t)>-1?t:e}function Request(e,t){t=t||{};var i=t.body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=normalizeMethod(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function decode(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),o=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function parseHeaders(e){var t=new Headers;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var i=e.split(":"),o=i.shift().trim();if(o){var n=i.join(":").trim();t.append(o,n)}}),t}function Response(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=function(e){return e&&DataView.prototype.isPrototypeOf(e)},n=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var i=this.map[e];this.map[e]=i?i+","+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),iteratorFor(e)},t.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=function(e,i){return new Promise(function(o,n){var r=new Request(e,i),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:parseHeaders(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;o(new Response(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials?a.withCredentials=!0:"omit"===r.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},115:function(e,t,i){(function(t){!function(i){function noop(){}function bind(e,t){return function(){e.apply(t,arguments)}}function Promise(e){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,Promise._immediateFn(function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null===i)return void(1===e._state?resolve:reject)(t.promise,e._value);var o;try{o=i(e._value)}catch(e){return void reject(t.promise,e)}resolve(t.promise,o)})}function resolve(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof Promise)return e._state=3,e._value=t,void finale(e);if("function"==typeof i)return void doResolve(bind(i,t),e)}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise._immediateFn(function(){e._handled||Promise._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function doResolve(e,t){var i=!1;try{e(function(e){i||(i=!0,resolve(t,e))},function(e){i||(i=!0,reject(t,e))})}catch(e){if(i)return;i=!0,reject(t,e)}}var o=setTimeout;Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.then=function(e,t){var i=new this.constructor(noop);return handle(this,new Handler(e,t,i)),i},Promise.all=function(e){return new Promise(function(t,i){function res(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,function(t){res(e,t)},i)}o[e]=r,0==--n&&t(o)}catch(e){i(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var n=o.length,r=0;r<o.length;r++)res(r,o[r])})},Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise?e:new Promise(function(t){t(e)})},Promise.reject=function(e){return new Promise(function(t,i){i(e)})},Promise.race=function(e){return new Promise(function(t,i){for(var o=0,n=e.length;o<n;o++)e[o].then(t,i)})},Promise._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){o(e,0)},Promise._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},Promise._setImmediateFn=function(e){Promise._immediateFn=e},Promise._setUnhandledRejectionFn=function(e){Promise._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=Promise:i.Promise||(i.Promise=Promise)}(this)}).call(t,i(36).setImmediate)},116:function(e,t,i){(function(e,t){!function(e,i){"use strict";function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var a={callback:e,args:t};return r[n]=a,o(n),n++}function clearImmediate(e){delete r[e]}function run(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(i,o)}}function runIfPresent(e){if(a)setTimeout(runIfPresent,0,e);else{var t=r[e];if(t){a=!0;try{run(t)}finally{clearImmediate(e),a=!1}}}}if(!e.setImmediate){var o,n=1,r={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?function(){o=function(e){t.nextTick(function(){runIfPresent(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&runIfPresent(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),o=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},o=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;o=function(t){var i=s.createElement("script");i.onreadystatechange=function(){runIfPresent(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():function(){o=function(e){setTimeout(runIfPresent,0,e)}}(),l.setImmediate=setImmediate,l.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i(6),i(12))},12:function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(i===setTimeout)return setTimeout(e,0);if((i===defaultSetTimout||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function runClearTimeout(e){if(o===clearTimeout)return clearTimeout(e);if((o===defaultClearTimeout||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}function cleanUpNextTick(){s&&r&&(s=!1,r.length?a=r.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(r=a,a=[];++l<t;)r&&r[l].run();l=-1,t=a.length}r=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var i,o,n=e.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){i=defaultSetTimout}try{o="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){o=defaultClearTimeout}}();var r,a=[],s=!1,l=-1;n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},36:function(e,t,i){(function(e){function Timeout(e,t){this._id=e,this._clearFn=t}var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;t.setTimeout=function(){return new Timeout(n.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(n.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(116),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,i(6))},4397:function(e,t,i){"use strict";t.__esModule=!0;var o=t.HiddenQuestionTypes=["control_helper","control_hidden","control_autoincrement"];t.default=o},4643:function(e,t,i){"use strict";(function(e){function isFilled(e){return!(!e||!e.replace(/^\s+|\s+$/g,""))}function isEmpty(e){return!isFilled(e)}function isEmail(e){var t=/^\S[a-z0-9\/.!#$%&'*+\/=?^_`{|}~-]*(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])$/i;return isFilled(e)&&t.test(e)}function isEqual(e,t){return JSON.stringify(e)===JSON.stringify(t)}function isValidUrl(t){var i=e.JotForm.validationRegexes.url;return isFilled(t)&&i.test(t)}t.__esModule=!0,t.isFilled=isFilled,t.isEmpty=isEmpty,t.isEmail=isEmail,t.isEqual=isEqual,t.isValidUrl=isValidUrl}).call(t,i(6))},4645:function(e,t,i){"use strict";t.__esModule=!0;t.ERROR_TYPES=Object.freeze({TOOLTIP:"tooltip"}),t.TOOLTIP_TYPES=Object.freeze({INFO:"info",ERROR:"error"})},4646:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=i(9),r=function(){function Overlay(e){var t=this;_classCallCheck(this,Overlay),this.questions=e.questions,this.hasSaveAndContinueLater=e.hasSaveAndContinueLater,this.overlayWrapper=document.querySelector(".js-overlayWrapper"),this.saclModal=document.getElementById("sacl-modal"),this.overlayImage=this.overlayWrapper.querySelector(".js-overlayImage"),this.overlayClose=this.overlayWrapper.querySelector(".jfOverlay-close"),this.init=this.init.bind(this),this.bindOverlayEvents=this.bindOverlayEvents.bind(this),this.openSaveAndContinueModal=this.openSaveAndContinueModal.bind(this),this.closeSaveAndContinueModal=this.closeSaveAndContinueModal.bind(this),this.clearImageSrc=this.clearImageSrc.bind(this),this.openOverlay=this.openOverlay.bind(this),this.overlayWrapper.addEventListener("click",function(e){var i=(0,n.closest)(e.target,"div");"image"===t.state&&(0,n.hasClass)(e.target,"js-overlayImage")?t.closeOverlay():"sacl"===t.state&&(0,n.hasClass)(i,"js-overlay-modalWrapper")&&t.closeOverlay()}),this.overlayClose.addEventListener("click",function(){t.closeOverlay()}),this.state=!1,this.init()}return Overlay.prototype.init=function(){var e=this;this.questions&&(this.overlayedQuestions=this.questions.filter(function(e){return"control_image"===e.type}),(0,n.forEach)(this.overlayedQuestions,function(t){e.bindOverlayEvents(t)}))},Overlay.prototype.openSaveAndContinueModal=function(){this.clearImageSrc(),this.openOverlay(),(0,n.addClass)(this.saclModal,"isVisible"),this.state="sacl"},Overlay.prototype.closeSaveAndContinueModal=function(){(0,n.removeClass)(this.saclModal,"isVisible")},Overlay.prototype.bindOverlayEvents=function(e){var t=this,i="id_"+e.id,n=document.getElementById(i),r=n.querySelector("img"),a=r.getAttribute("src"),s=o({},e,{src:a}),l=n.querySelector(".js-openNewTab");l&&l.addEventListener("click",function(){t.openOverlay(),t.openImageOverlay(s),t.state="image"})},Overlay.prototype.clearImageSrc=function(){this.overlayImage.src="#"},Overlay.prototype.openOverlay=function(){(0,n.addClass)(this.overlayWrapper,"isVisible")},Overlay.prototype.openImageOverlay=function(e){this.closeSaveAndContinueModal(),this.overlayImage.src=e.src},Overlay.prototype.closeOverlay=function(){this.clearImageSrc(),this.closeSaveAndContinueModal(),this.state=!1,(0,n.removeClass)(this.overlayWrapper,"isVisible")},Overlay}();t.default=r},4647:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(9),a=function(){function Slider(e){if(_classCallCheck(this,Slider),!e.container)throw new Error("Container not found");this.setRange=this.setRange.bind(this),this.setPointerValues=this.setPointerValues.bind(this),this.handleMoveStart=this.handleMoveStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleMoveEnd=this.handleMoveEnd.bind(this),this.setFilled=this.setFilled.bind(this),this.makeInitialSelection=this.makeInitialSelection.bind(this),this.options=this.getDefaultOptions(),e.options&&n(e.options)===n({})&&(this.options=o(this.options,e.options)),this.props=e,this.container=e.container,this.init()}return Slider.prototype.getDefaultOptions=function(){return{rowSelector:".jfMatrixScale",labelSelector:".jfMatrixScale-label",rangeSelector:".jfMatrixScale-item",scaleSeperatorSelector:".scaleSep",visibleClass:"isVisible",transitionClass:"hasTransition",filledClass:"isFilled",scaleListItemSelector:".jfMatrixInputList-item"}},Slider.prototype.getPixelByPercent=function(){return this.sliderRow.getBoundingClientRect().width/100},Slider.prototype.setRange=function(e,t){var i=this.container,o=this.selectedRangeArea,n=this.allScales,a=this.options,s=a.visibleClass,l=a.scaleSeperatorSelector,d=a.labelSelector;o.style.width=e+"%";var c=this.getNearestScale(n,e),u=i.querySelector(d+'[data-scale="'+c+'"]'),h=u.getAttribute("data-scale"),p=i.querySelector(l+'[data-scale="'+h+'"]'),m=p.querySelector("input");if(m&&(!t||"No"===i.dataset.required)){m.checked=!0;var f=m.getAttribute("id"),y=i.querySelectorAll("input");(0,r.forEach)(y,function(e){e.getAttribute("id")!==f&&(e.checked=!1)});var v=(0,r.closest)(m,".form-line");v&&(0,r.triggerEvent)(v,"change")}var g=this.getVisibleLabel();g!==u&&((0,r.removeClass)(g,s),(0,r.addClass)(u,s)),this.currentPercentage=e},Slider.prototype.getVisibleLabel=function(){var e=this.container,t=this.options,i=t.labelSelector,o=t.visibleClass;return e.querySelector(i+"."+o)},Slider.prototype.setPointerValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.selectedRangeArea,i=this.getPixelByPercent();this.startX=e,this.positionX=e,this.currentPercentage=this.currentPercentage||t.offsetWidth/i},Slider.prototype.isTouchEvent=function(e){return!(!e.touches||!e.touches[0])},Slider.prototype.getNearestScale=function(e,t){return e.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})},Slider.prototype.makeInitialSelection=function(){try{var e=this.selectedRangeArea.style.width;if(e){var t=parseInt(e,10);this.lastSelection=t,this.setRange(t,!0),"No"===this.container.dataset.required&&this.setFilled()}}catch(e){}},Slider.prototype.handleMove=function(e){var t=this.isTouchEvent(e)?e.touches[0]:e,i=t.clientX,o=this.positionX,n=this.currentPercentage,r=this.getPixelByPercent(),a=i-o;this.positionX=i;var s=a/r,l=n+s;l<=0?l=0:l>=100&&(l=100),this.setRange(l)},Slider.prototype.handleMoveEnd=function(){var t=this.currentPercentage,i=this.allScales,o=this.selectedRangeArea,n=this.options.transitionClass,a=parseFloat(this.getNearestScale(i,t));a!==this.lastSelection&&(this.props.onChange&&"function"==typeof this.props.onChange&&this.props.onChange({value:a}),(0,r.addClass)(o,n),this.setRange(a),this.lastSelection=a),e.document.body.removeEventListener("mousemove",this.handleMove),e.document.body.removeEventListener("touchmove",this.handleMove),e.document.body.removeEventListener("mouseup",this.handleMoveEnd),e.document.body.removeEventListener("touchend",this.handleMoveEnd),this.sliderRow.click()},Slider.prototype.setFilled=function(){var e=this.selectedRangeArea,t=this.options,i=t.scaleListItemSelector,o=t.filledClass,n=(0,r.closest)(e,i);(0,r.addClass)(n,o)},Slider.prototype.handleMoveStart=function(t){var i=this.selectedRangeArea,o=this.sliderRow,n=this.options.transitionClass,a=o.getBoundingClientRect(),s=a.left,l=this.isTouchEvent(t)?t.touches[0]:t,d=l.clientX,c=(d-s)/this.getPixelByPercent();this.setRange(c),this.setFilled(),(0,r.removeClass)(i,n),this.setPointerValues(d),e.document.body.addEventListener("mousemove",this.handleMove),e.document.body.addEventListener("touchmove",this.handleMove),e.document.body.addEventListener("mouseup",this.handleMoveEnd),e.document.body.addEventListener("touchend",this.handleMoveEnd)},Slider.prototype.init=function(){var e=this.options,t=e.rowSelector,i=e.labelSelector,o=e.rangeSelector,n=this.container;this.sliderRow=n.querySelector(t),this.allScales=(0,r.map)(n.querySelectorAll(i),function(e){return e.getAttribute("data-scale")}),this.selectedRangeArea=n.querySelector(o),this.makeInitialSelection(),this.sliderRow.addEventListener("mousedown",this.handleMoveStart),this.sliderRow.addEventListener("touchstart",this.handleMoveStart)},Slider}();t.default=a}).call(t,i(6))},4648:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function Storage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{adapter:"cookie"};_classCallCheck(this,Storage),this.adapter=e.adapter}return Storage.prototype.isAvailable=function(){try{return"localstorage"===this.adapter?(e.localStorage.setItem("jottest","jottest"),e.localStorage.removeItem("jottest"),!0):"cookie"===this.adapter}catch(e){return!1}},Storage.prototype.get=function(t){var i=void 0;switch(this.adapter){case"cookie":i=e.document.readCookie(t);break;case"localstorage":i=e.localStorage.getItem(t)}return i},Storage.prototype.set=function(t,i){var o=void 0;switch(this.adapter){case"cookie":o=e.document.createCookie(t,i,7);break;case"localstorage":o=e.localStorage.setItem(t,i)}return o},Storage.prototype.delete=function(t){var i=void 0;switch(this.adapter){case"cookie":i=e.document.eraseCookie(t);break;case"localstorage":i=e.localStorage.removeItem(t)}return i},Storage.prototype.deleteAll=function(t){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t){if("cookie"===this.adapter)return console.error("This feature is implemented only for LocalStorage"),!1;var n=new RegExp(t,o);Object.keys(e.localStorage).forEach(function(e){n.test(e)&&i.delete(e)})}},Storage}();t.default=i}).call(t,i(6))},4807:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=i(4808),s=_interopRequireDefault(a);i(4810),i(113);var l=i(9),d=i(4645),c=i(4397),u=i(4811),h=_interopRequireDefault(u),p=i(4646),m=_interopRequireDefault(p),f=i(4812),y=_interopRequireDefault(f),v=i(4818),g=_interopRequireDefault(v),C=i(4819),b=_interopRequireDefault(C),S=i(4820),E=_interopRequireDefault(S),w=i(4823),P=_interopRequireDefault(w),F=i(4824),I=_interopRequireDefault(F),x=i(4825),k=_interopRequireDefault(x),T=i(4826),q=_interopRequireDefault(T),A=i(4827),L=_interopRequireDefault(A),M=i(4830),_=_interopRequireDefault(M),B=i(4831),j=_interopRequireDefault(B),D=i(4832),H=_interopRequireDefault(D),O=i(4648),V=_interopRequireDefault(O),N=i(4833),R=_interopRequireDefault(N),W=i(4834),J=_interopRequireDefault(W),U=i(4835),z=(_interopRequireDefault(U),{INPUT:[37,39],TEXTAREA:[13,37,39]}),Q=["control_image","control_text"],K=function(){function Cards(t){var i=this;if(_classCallCheck(this,Cards),this.bindFullScreenMode=this.bindFullScreenMode.bind(this),this.bindCardClickEvents=this.bindCardClickEvents.bind(this),this.setFormMode=this.setFormMode.bind(this),this.setCardIndex=this.setCardIndex.bind(this),this.setCardMode=this.setCardMode.bind(this),this.selectQuestion=this.selectQuestion.bind(this),this.selectNextQuestion=this.selectNextQuestion.bind(this),this.selectPreviousQuestion=this.selectPreviousQuestion.bind(this),this.bindResizeEvent=this.bindResizeEvent.bind(this),this.recalculateLayout=this.recalculateLayout.bind(this),this.recalculateSmartEmbedLayout=this.recalculateSmartEmbedLayout.bind(this),this.getVisibleIndex=this.getVisibleIndex.bind(this),this.updateCardIndexes=this.updateCardIndexes.bind(this),this.updateCardLabels=this.updateCardLabels.bind(this),this.bindPrevNextButtonsClick=this.bindPrevNextButtonsClick.bind(this),this.bindInputChange=this.bindInputChange.bind(this),this.bindSelectChange=this.bindSelectChange.bind(this),this.bindKeyUpEvent=this.bindKeyUpEvent.bind(this),this.bindDragPage=this.bindDragPage.bind(this),this.bindFormSubmit=this.bindFormSubmit.bind(this),this.bindStartButton=this.bindStartButton.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this),this.onWheel=this.onWheel.bind(this),this.bindInputFocus=this.bindInputFocus.bind(this),this.addScrollLeftDelta=this.addScrollLeftDelta.bind(this),this.getScrollLeft=this.getScrollLeft.bind(this),this.getTotalWidth=this.getTotalWidth.bind(this),this.onSubmit=this.onSubmit.bind(this),this.validateCard=this.validateCard.bind(this),this.onFieldCorrected=this.onFieldCorrected.bind(this),this.onFieldErrored=this.onFieldErrored.bind(this),this.onFormOverviewClicked=this.onFormOverviewClicked.bind(this),this.onProgressItemSelected=this.onProgressItemSelected.bind(this),this.shakeCard=this.shakeCard.bind(this),this.setCardVisibility=this.setCardVisibility.bind(this),this.onFieldVisibilityChanged=this.onFieldVisibilityChanged.bind(this),this.onRequireField=this.onRequireField.bind(this),this.onEnableDisableField=this.onEnableDisableField.bind(this),this.updateCardProgressItem=this.updateCardStatus.bind(this),this.focusToFirstInput=this.focusToFirstInput.bind(this),this.getNearestCardIndexInScrollMode=this.getNearestCardIndexInScrollMode.bind(this),this.renderReCaptcha=this.renderReCaptcha.bind(this),this.recaptchaCallback=this.recaptchaCallback.bind(this),this.onCreditCardAddressVisibilityChanged=this.onCreditCardAddressVisibilityChanged.bind(this),this.repositionActionButtons=this.repositionActionButtons.bind(this),this.setCardActionMode=this.setCardActionMode.bind(this),this.shortenHeaders=this.shortenHeaders.bind(this),this.hideHeader=this.hideHeader.bind(this),this.showHeader=this.showHeader.bind(this),this.onCalendarSelected=this.onCalendarSelected.bind(this),this.initBackgroundImageLoader=this.initBackgroundImageLoader.bind(this),this.onCalendarInit=this.onCalendarInit.bind(this),this.bindChangeEventForPressEnter=this.bindChangeEventForPressEnter.bind(this),this.getFormData=this.getFormData.bind(this),this.prepareReviewMarkup=this.prepareReviewMarkup.bind(this),this.showFormPreview=this.showFormPreview.bind(this),this.replaceSubmitWithReviewAndSubmit=this.replaceSubmitWithReviewAndSubmit.bind(this),this.setFieldIsFilledIfHasValue=this.setFieldIsFilledIfHasValue.bind(this),this.calculateAvailableHeightForFields=this.calculateAvailableHeightForFields.bind(this),this.calculateCardsHeight=this.calculateCardsHeight.bind(this),this.calculateCardHeight=this.calculateCardHeight.bind(this),this.onFileUploadChanged=this.onFileUploadChanged.bind(this),this.fillInitialValuesForEditMode=this.fillInitialValuesForEditMode.bind(this),this.checkCardsIfFilled=this.checkCardsIfFilled.bind(this),this.getSectionHeaderForIndex=this.getSectionHeaderForIndex.bind(this),this.arrangeSectionHeaders=this.arrangeSectionHeaders.bind(this),this.updateFormHeader=this.updateFormHeader.bind(this),this.recalculateBackgroundStyle=this.recalculateBackgroundStyle.bind(this),this.checkAndSetDeviceType=this.checkAndSetDeviceType.bind(this),this.checkHeaderSubHeaderCharLimits=this.checkHeaderSubHeaderCharLimits.bind(this),this.onLocationHashChange=this.onLocationHashChange.bind(this),this.isVisibleIndex=this.isVisibleIndex.bind(this),this.getFirstVisibleIndex=this.getFirstVisibleIndex.bind(this),this.getLastVisibleIndex=this.getLastVisibleIndex.bind(this),this.setMobilePrevNextQuestionButtons=this.setMobilePrevNextQuestionButtons.bind(this),this.setDropdownInitialValues=this.setDropdownInitialValues.bind(this),this.disableTransitions=this.disableTransitions.bind(this),this.translateSectionHeader=this.translateSectionHeader.bind(this),this.translateDefaultCardFormTexts=this.translateDefaultCardFormTexts.bind(this),this.onFormTranslated=this.onFormTranslated.bind(this),this.updateMatrixLayout=this.updateMatrixLayout.bind(this),this.handleKeyboardTabs=this.handleKeyboardTabs.bind(this),this.handleFullScreenToggle=this.handleFullScreenToggle.bind(this),this.bindMobileValidations=this.bindMobileValidations.bind(this),this.initMobileVersion=this.initMobileVersion.bind(this),this.doObjectsCollide=this.doObjectsCollide.bind(this),this.attachComponentClassToCard=this.attachComponentClassToCard.bind(this),this.showInputTooltip=this.showInputTooltip.bind(this),this.clearAddressFields=this.clearAddressFields.bind(this),this.toggleFullScreenMode=this.toggleFullScreenMode.bind(this),this.toggleFullScreenDisplayMode=this.toggleFullScreenDisplayMode.bind(this),this.getCurrentCard=this.getCurrentCard.bind(this),this.autoSelectNextQuestion=this.autoSelectNextQuestion.bind(this),this.handleFeedbackButtonProgress=this.handleFeedbackButtonProgress.bind(this),this.updateFeedbackEmbedHeight=this.updateFeedbackEmbedHeight.bind(this),this.bindChangeEventForNextButtons=this.bindChangeEventForNextButtons.bind(this),this.findEmailAnswer=this.findEmailAnswer.bind(this),this.calculateWelcomeSize=this.calculateWelcomeSize.bind(this),this.createDatetimeReviewString=this.createDatetimeReviewString.bind(this),this.showProgress=this.showProgress.bind(this),this.hiddenSubmit=this.hiddenSubmit.bind(this),this.handleFormSubmitError=this.handleFormSubmitError.bind(this),this.setInitialSelectionForMatrixSliders=this.setInitialSelectionForMatrixSliders.bind(this),this.checkConditionOnCurrentCard=this.checkConditionOnCurrentCard.bind(this),this.isSaveAndContinueLaterActivated=t.isSaveAndContinueLaterActivated,this.formID=t.formID,this.erroredCards=[],this.isProduction=t.isProduction||!0,this.apiURL=t.apiURL||"https://api.jotform.com",this.continueLater={active:this.isContinueLaterActivated,useStorage:!1,lastAnswers:!1,tempForm:!1},this.storageEngine=new V.default,this.patch=new y.default({onSubmit:this.onSubmit,onFieldCorrected:this.onFieldCorrected,onFieldErrored:this.onFieldErrored,onFieldVisibilityChanged:this.onFieldVisibilityChanged,onRequireField:this.onRequireField,onEnableDisableField:this.onEnableDisableField,onCreditCardAddressVisibilityChanged:this.onCreditCardAddressVisibilityChanged,onCalendarSelected:this.onCalendarSelected,onCalendarInit:this.onCalendarInit,captchaMode:t.captchaMode,onFileUploadChanged:this.onFileUploadChanged,formID:t.formID,storageEngine:this.storageEngine,continueLater:this.continueLater,showTooltip:this.showInputTooltip}),this.addressTypeSuffixMap={country:"country",administrative_area_level_1:"state",postal_code:"postal",locality:"city",street:"addr_line1",street2:"addr_line2",searchField:"addr_search"},this.isSaveAndContinueLaterActivated&&(this.saveAndContinueLater=new J.default(this.continueLater,this.hiddenSubmit,this.findEmailAnswer)),this.jsForm=!1,this.hasWelcome="welcome"===t.formMode,e.location.href.indexOf("autoNextCards=1")>-1){var o=function(){"welcome"===i.layoutParams.formMode?i.setFormMode("form"):i.selectNextQuestion(!0)};setInterval(o,3e3)}this.isOpenedOnJotFormMobileApp=e.location.href.indexOf("jotformNext=1")>-1,this.init(t)}return Cards.prototype.init=function(t){var i=this,o=(0,l.hasTouch)();this.arrangeSectionHeaders(t.welcomePageProps,t.sectionHeaders),this.layoutElements={cardAnimationWrapper:document.getElementById("cardAnimationWrapper"),startButton:document.getElementById("jfCard-welcome-start"),previousButton:document.getElementById("jfCard-welcome-previous"),welcomeWrapper:document.querySelector(".jfWelcome-wrapper"),welcomeContainer:document.querySelector(".jfWelcome"),welcomeHeaderContainer:document.getElementById("header_welcomePage"),welcomeSubHeaderContainer:document.querySelector(".jfWelcome-description"),welcomeSectionInfoText:document.querySelector(".jfWelcome-sectionInfo-text"),welcomeSectionInfoQuestionCount:document.querySelector(".jfWelcome-sectionInfo-questionCount"),logoContainer:document.querySelector(".jfForm-logo"),progressWrapper:document.querySelector(".jfProgress#cardProgress"),progressContainer:document.querySelector(".jfProgress-infoContent"),mobileNavigationWrapper:document.querySelector(".jsMobileNavigation"),mobileNextButton:document.querySelector(".jsMobileNext"),mobilePrevButton:document.querySelector(".jsMobilePrev"),mobileSubmitButton:document.querySelector(".jsMobileSubmit"),mobileProgressInfo:document.querySelector(".jfProgress-info"),fullScreenProxy:document.getElementById("jfQuestion-proxy"),formWrapper:document.querySelector(".jfForm-all"),overlayWrapper:document.querySelector(".js-overlayWrapper")};var r=(0,l.map)(document.querySelectorAll(".jfCard-wrapper"),function(e){return e}),a=(0,l.map)(document.querySelectorAll(".jfCard"),function(e){return e}),d=(0,l.map)(document.querySelectorAll(".jfCard-index"),function(e){return e}),u=(0,l.map)(document.querySelectorAll(".form-line"),function(e){return e}),p=(0,l.map)(document.querySelectorAll(".jfPressEnter")),f=(0,l.map)(document.querySelectorAll(".jfQuestion-fields:not([class*='js-']), .jfQuestion-fields.js-productModuleWrapper"),function(e){return e}),y=this.isEditMode(),v=!!t.ownerView,C=function(e){var t=!!e.isHidden;return y&&v&&"direct_embed"!==e.widgetType&&(t=!1),-1===c.HiddenQuestionTypes.indexOf(e.type)||t||(t=!0),t};this.cards=t.questions.map(function(e,t){return{question:e,cardContainer:a[t],cardToolbar:r[t].querySelector(".jfToolbar"),wrapperContainer:r[t],indexContainer:d[t],pressEnterContainer:p[t],fieldContainer:f[t],questionContainer:a[t].querySelector(".jfCard-question"),formLine:u.find(function(t){return t.id==="id_"+e.id}),isHidden:C(e),isReadOnly:!!e.isReadOnly,hideSingleProduct:!!e.hideSingleProduct,actionButtonsWrapper:a[t].querySelector(".jfCard-actions"),actionsButtons:{prev:a[t].querySelector(".jfCard-actions .forPrev"),next:a[t].querySelector(".jfCard-actions .forNext"),submit:a[t].querySelector(".jfCard-actions .forSubmit"),mode:"middle"}}}),this.cards.forEach(function(e){var t=e;t.validate=i.validateCard.bind(i,t)}),a.length>0&&(this.cards[this.cards.length-1].hasSubmit=!0),this.cards=_.default.populateCards(this.cards),this.updateCardLabels(),this.layoutParams={questions:t.questions,currentCardSize:l.cardSize.cardwidthxl,leftMargin:0,currentCardIndex:this.cards.findIndex(function(e){return!e.isHidden}),cardMode:"single",formMode:null,cardScrollScale:.6,scaleFactor:1,scrollLeftExtra:0,resolutionType:"",deviceType:this.getDeviceType().toLowerCase(),browserName:s.default.name,osName:s.default.osname,forTemplate:t.forTemplate,hasTouch:o||this.isPreviewMode,reviewBeforeSubmit:t.reviewBeforeSubmit,globalCardScaleFactor:1,isFeedbackEmbed:!1,allQuestions:t.allQuestions,smartEmbedMaxHeight:264,isEditMode:y,isFullScreenMode:!1,isFeedbackEmbedButton:this.isFeedbackEmbedButton,fullscreenForm:t.fullscreenMode,isEmbed:e.parent!==e},this.minLabelFontSize=18,this.minDescFontSize=12,this.ownerPercentage=!!t.ownerPercentage&&parseInt(t.ownerPercentage,10),this.initMobileVersion(),(0,l.addClass)(document.body,"is"+this.getDeviceType()),this.layoutParams.isFeedbackEmbed&&this.initializeFeedbackEmbedMode(),this.layoutParams.isFeedbackEmbedButton&&(this.hwFeedbackEmbed=new I.default({formID:this.formID}),this.initializeHWFeedbackEmbedButton()),Cards.layoutParams=this.layoutParams,this.dropdown=new q.default({cards:this.cards,layoutParams:this.layoutParams,validateCard:this.validateCard,isPreviewMode:this.isPreviewMode}),this.address=new g.default({cards:this.cards,layoutParams:this.layoutParams,setFieldIsFilledIfHasValue:this.setFieldIsFilledIfHasValue,updateFeedbackEmbedHeight:this.updateFeedbackEmbedHeight}),this.datetimeHandler=new j.default({cards:this.cards,hasTouch:this.layoutParams.hasTouch}),this.overlay=new m.default({questions:this.layoutParams.questions}),this.cards=this.cards.map(function(e){return e.question&&"control_textarea"===e.question.type&&e.fieldContainer&&"mde"===e.fieldContainer.getAttribute("data-render-type")?n({},e,{markdownEditor:new L.default(e,i.layoutParams.browserName,i.layoutParams.osName)}):e}),this.progress=new h.default({items:this.cards.map(function(e){return{label:e.label}}),cards:this.cards,onFormOverviewClicked:this.onFormOverviewClicked,onItemSelected:this.onProgressItemSelected,hiddenIndexes:this.cards.map(function(e){return e.isHidden}),deviceType:this.layoutParams.deviceType,isFeedbackEmbedButton:this.isFeedbackEmbedButton,isSaveAndContinueLaterActivated:this.isSaveAndContinueLaterActivated,isFormProgressVisible:t.isFormProgressVisible}),this.bindCardClickEvents(),this.checkAndSetDeviceType();var b=this.getQuestionIdFromUrlHash(e.location.href),S=this.layoutParams.currentCardIndex;if(b){var E=parseInt(b,10)-1;S=this.isVisibleIndex(E)?E:S}var w=(b&&1!==parseInt(b,10)?"form":t.formMode)||"welcome";this.setCardIndex(S,!1,!0),this.setFormMode(w,!0),this.updateFormHeader(this.getSectionHeaderForIndex(S)),this.bindResizeEvent(),this.recalculateLayout(),this.recalculateBackgroundStyle(),this.bindPrevNextButtonsClick(),setTimeout(function(){return i.bindInputChange()}),this.bindSelectChange(),this.bindKeyUpEvent(),this.bindDragPage(),window.addEventListener("load",function(){if(i.isFullscreenFormEnabled){i.FS=new k.default;var t=document.documentElement,o=function fn(){(0,l.addClass)(document.body,"fsOpenedOnce"),i.FS.request(),t.removeEventListener("click",fn),i.bindStartButton(),t.click()};t.addEventListener("click",o);var n=document.getElementById("fullscreen-toggle");n&&n.addEventListener("click",i.FS.toggle)}else i.bindStartButton();if(e.Raven&&"function"==typeof e.Raven.config){var r={enviroment:"production",whitelistUrls:[/jotform/i],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i,/tinymce/i],ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","tinymce","for="]};e.Raven.config("https://abc78a66d1bf4f77bfb7e3469cef2658@sentry.io/291077",r).install()}}),this.bindTouchSwipeEvents(),this.bindInputFocus(),this.bindFocusOnMobileWithKeyboard(),this.repositionActionButtons(),this.setMobilePrevNextQuestionButtons(this.layoutParams.currentCardIndex),this.renderReCaptcha(t.captchaMode),this.updateCardIndexes(),this.bindChangeEventForPressEnter(),this.bindHashChangeEvent(),(0,l.forEach)(this.cards,function(e){i.attachComponentClassToCard(e),i.attachFallbackComponentsToCard(e,i.layoutParams.deviceType),i.checkCardIfMoveAutomatically(e)}),this.handleFullScreenToggle(),"mobile"===this.layoutParams.deviceType&&this.bindMobileValidations(),"form"===this.layoutParams.formMode&&setTimeout(function(){i.enableTransitions()},100),this.initBackgroundImageLoader(),t.reviewBeforeSubmit?this.replaceSubmitWithReviewAndSubmit():this.bindFormSubmit(),this.checkCardsIfFilled(this.cards),e.onEditModeCompleted=function(e){i.cards.forEach(i.fillInitialValuesForEditMode),i.clearAddressFields(),i.setDropdownInitialValues(),i.checkCardsIfFilled(i.cards),e&&e.continueCardIndex&&(i.setCardIndex(e.continueCardIndex,!1,!0),i.showProgress())},setTimeout(function(){i.isAdmin=e.JotForm&&e.JotForm.isAdmin,i.bindFullScreenMode(),i.setDropdownInitialValues(),i.checkCardsIfFilled(i.cards)},100),this.embedOptions=new R.default(this),e.JotForm.sessionID&&this.isSaveAndContinueLaterActivated&&this.saveAndContinueLater&&this.saveAndContinueLater.continue(),this.layoutParams.isEmbed&&1===this.layoutParams.questions.length&&(0,l.addClass)(document.querySelector("body"),"singleQuestion")},Cards.prototype.initMobileVersion=function(){var t="mobile"===this.layoutParams.deviceType;if(t){e.document.body.classList.remove("isSmartEmbed");var i="0",n=document.querySelector(".formFooter-content");if(t){this.layoutElements.mobileNavigationWrapper&&(this.layoutElements.mobileNavigationWrapper.style.display="block"),"object"===o(e.FS)&&"function"==typeof e.FS.setUserVars&&e.FS.setUserVars({isCardFormNewMobile_bool:!0});var r=document.querySelector(".jsNewFormFooter");n&&r&&n.parentElement.removeChild(n),i="1"}else if(n&&n.childNodes&&n.childNodes[0]){var a=document.querySelector(".formFooter-button"),s=document.querySelector(".formFooter-logoLink");a&&s&&(a.href=a.getAttribute("href")+"_mobile",s.href=s.getAttribute("href")+"_mobile")}var d=(0,l.createInput)({type:"hidden",name:"newCardFormMobile",value:i}),c=document.querySelector(".jotform-form");c&&d&&c.appendChild(d)}},Cards.prototype.createUniqueSubmitterID=function(e){return e+"_"+Date.now()+"_"+Math.floor(1e3*Math.random())},Cards.prototype.initializeHWFeedbackEmbedButton=function(){(0,l.addClass)(document.body,"forMiniCard");var e=(0,l.createInput)({type:"hidden",name:"feedbackEmbedButton",value:""}),t=document.querySelector(".jotform-form");t&&e&&t.appendChild(e),this.hwFeedbackEmbed.setDeviceType(this.getDeviceType()),this.hwFeedbackEmbed.setOS(this.layoutParams.osName)},Cards.prototype.getCurrentCard=function(){var e=this.layoutParams.currentCardIndex;return this.cards[e]},Cards.prototype.attachComponentClassToCard=function(e){var t=void 0,i=e.question;switch(i.type){case"control_matrix":t=new b.default({question:i,isFeedbackEmbedButton:this.isFeedbackEmbedButton,selectNextQuestion:this.selectNextQuestion});break;case"control_email":t=new E.default({question:i,cardContainer:e.cardContainer,showTooltip:this.showInputTooltip,removeTooltip:this.removeInputTooltip,formID:this.formID});break;case"control_emojislider":t=new P.default({question:i,cardContainer:e.cardContainer})}t&&(i.componentClass=t)},Cards.prototype.attachFallbackComponentsToCard=function(e,t){if(["Internet Explorer","Safari"].indexOf(s.default.name)>-1&&"desktop"===t){var i=e.question,o=i.type,n=i.qid;"control_datetime"===o&&(i.fallbackClass=new H.default(n,"date"))}},Cards.prototype.checkFeedbackEmbedMode=function(){return e.location.href.indexOf("?feedbackEmbed=1")>-1||window.parent&&!!window.parent.JotformFeedbackManager},Cards.prototype.initializeFeedbackEmbedMode=function(){(0,l.addClass)(document.body,"feedbackEmbedMode")},Cards.prototype.checkCardsIfFilled=function(e){var t=this;e.forEach(function(e){-1===Q.indexOf(e.question.type)&&-1===["paymentType","products"].indexOf(e.type)&&t.updateCardStatus(e,!1,!0);var i=(0,l.map)(e.cardContainer.querySelectorAll("input.jfInput-input, jfInput-textarea, select.form-dropdown"),function(e){return e});"control_datetime"!==e.question.type&&i.forEach(t.setFieldIsFilledIfHasValue)})},Cards.prototype.bindMobileValidations=function(){var t=this,i=function(){var e=t.cards[t.layoutParams.currentCardIndex];-1!==t.erroredCards.indexOf(e)&&t.validateCard(e,!1)};e.document.body.addEventListener("input",i)},Cards.prototype.handleKeyboardTabs=function(e){var t=this.layoutParams,i=t.deviceType,o=t.currentCardIndex;if("mobile"===i){var n="blur"===e.type?e.relatedTarget:e.target,r=(0,l.closest)(n,".jfCard"),a=this.cards.findIndex(function(e){return e.cardContainer===r});o+1===a&&this.selectNextQuestion(!0,!0),o-1===a&&this.selectPreviousQuestion(!0)}},Cards.prototype.handleFullScreenToggle=function(){"mobile"===this.layoutParams.deviceType||this.cards.forEach(function(e){var t=["control_textarea"],i=e.question.type,o=e.cardContainer.querySelector(".jfQuestion-fullscreen");if(o&&-1===t.indexOf(i)){var n=e.questionContainer.clientHeight;isNaN(n)||(n+6<e.questionContainer.scrollHeight?(0,l.removeClass)(o,"isHidden"):(0,l.addClass)(o,"isHidden"))}})},Cards.prototype.toggleFullScreenMode=function(){var e=this.layoutParams.currentCardIndex,t=this.cards[e],i=e>-1?t.cardContainer:null;if(i){var o=this.layoutElements.fullScreenProxy,n=e>-1?t.cardToolbar:null,r=i.querySelector(".jfCard-actions"),a=i.querySelector(".jfCard-actionsNotification");if((0,l.hasClass)(document.body,"isFullScreen")?((0,l.removeClass)(document.body,"isFullScreen"),this.layoutParams.isFullScreenMode=!1):((0,l.addClass)(document.body,"isFullScreen"),this.layoutParams.isFullScreenMode=!0),this.layoutParams.isFullScreenMode){var s=i.querySelector(".jfCard-question"),d=i.querySelector(".form-error-message");if(s){var c=s.cloneNode(!0),u=t.question&&t.question.type?t.question.type:"";if((0,l.addClass)(c,"isShadow"),o.appendChild(s),o.setAttribute("data-type",u),i.insertBefore(c,r),n){var h=n.cloneNode(!0);(0,l.addClass)(h,"isShadow"),(0,l.addClass)(o,"hasToolbar"),i.insertBefore(h,r),o.appendChild(n)}d&&((0,l.addClass)(o,"hasError"),o.appendChild(d)),this.applyFullScreenModeUI()}}else{var p=o.querySelector(".jfCard-question"),m=o.querySelector(".form-error-message");p&&(this.layoutParams.isFullScreenMode=!1,(0,l.removeClass)(o,"hasToolbar"),o.removeAttribute("data-type"),i.querySelector(".jfCard-question.isShadow").remove(),i.insertBefore(p,r),m&&a.appendChild(m),n&&((0,l.removeClass)(o,"hasError"),i.insertBefore(n,r),i.querySelector(".jfToolbar.isShadow").remove()),this.applyFullScreenModeUI())}}},Cards.prototype.toggleFullScreenDisplayMode=function(){var e=this.layoutElements.fullScreenProxy;(0,l.hasClass)(e,"isNightMode")?(0,l.removeClass)(e,"isNightMode"):(0,l.addClass)(e,"isNightMode")},Cards.prototype.applyFullScreenModeUI=function(){var e=this.layoutParams,t=e.currentCardIndex,i=e.isFullScreenMode,o=this.cards[t],n=o.question.type,r=this.layoutElements.fullScreenProxy,a=t>-1?o.cardContainer:null,s=t>-1?o.cardToolbar:null;if(a)switch(n){case"control_textarea":var d=r.querySelector(".jfTextarea-infoSpan"),c=r.querySelector(".jfTextarea-modeSpan");i?(d&&r.appendChild(d),c&&c.addEventListener("click",this.toggleFullScreenDisplayMode)):d&&s&&(s.appendChild(d),(0,l.removeClass)(r,"isNightMode"))}},Cards.prototype.bindFullScreenMode=function(){var e=this;this.cards.forEach(function(t){var i=t.cardContainer,o=i.querySelector(".jfQuestion-fullscreen");o&&o.addEventListener("click",function(){e.toggleFullScreenMode()})})},Cards.prototype.bindInputFocus=function(){var t=this,i=e.document.querySelectorAll("input, textarea, select"),o=null,n=function(){t.layoutParams.hasTouch&&(o?(0,l.addClass)(document.body,"isTouchKeyboardOpen"):(0,l.removeClass)(document.body,"isTouchKeyboardOpen"))};(0,l.forEach)(i,function(e){"radio"!==e.type&&"checkbox"!==e.type&&(e.addEventListener("focus",function(e){t.handleKeyboardTabs(e),o=e.target,n()}),e.addEventListener("blur",function(e){e.preventDefault(),t.handleKeyboardTabs(e),o===e.target&&(o=null,n())}))})},Cards.prototype.bindStartButton=function(){var t=this;if(this.layoutElements.startButton){var i="welcome"===this.layoutParams.formMode;this.layoutElements.startButton.addEventListener("click",function(){t.setFormMode("form"),i&&t.shortenHeaders(),e.JotForm.nextPage&&t.selectNextQuestion()}),this.layoutElements.previousButton&&this.layoutElements.previousButton.addEventListener("click",function(){t.setFormMode("form"),t.selectPreviousQuestion()})}},Cards.prototype.onSubmit=function(){var t=this;setTimeout(function(){if(t.cards.find(function(e){return e.hasError&&!e.isHidden})&&e.JotForm.showButtonMessage(),"mobile"===t.layoutParams.deviceType){var i=document.querySelector("#jsSubmitError"),o=t.cards.reduce(function(e,t){return t.hasError?e+1:e},0);o&&((0,l.addClass)(i,"isVisible"),i.innerHTML=o+" incomplete field"+(1===o?"":"s")+".",(0,l.addClass)(t.layoutElements.progressContainer,"isLeftAligned"),t.onFormOverviewClicked(null,!0),"review"===t.layoutParams.formMode&&t.setFormMode("form"))}},50)},Cards.prototype.validateCard=function(t){var i=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t;"creditCard"===r.type&&"control_square"===r.question.type&&e.JotForm.squarePayment.validateFields(),o&&(0,l.forEach)(r.cardContainer.querySelectorAll("input, textarea, select"),function(e){return e.blur()});var a=r.cardContainer.querySelectorAll('*[class*="validate"]'),s=r.cardContainer.querySelectorAll('*[class*="widget-required"]'),d=!0;if((0,l.forEach)(a,function(e){e.validateInput&&(d=e.validateInput(!1,n)&&d)}),"creditCard"===r.type&&"control_braintree"===r.question.type){(!e.JotForm.shoppingBag||e.JotForm.shoppingBag.getTotalSelectedItems()>0)&&e.JotForm.paymentTotal>0&&(d=e.JotForm.braintree.validateFields())}if(s.length)d=0!==s[0].value.length;else if("control_fileupload"===r.question.type)d=!a.length||r.cardContainer.querySelector(".jfUpload-files-container").validateInput();else if("control_address"===r.question.type){var c=r.cardContainer.querySelector(".jfAddress-clean"),u=document.getElementById("input_"+r.question.id+"_addr_search");c&&u&&u.value&&(c.classList.remove("jfAddress-clean"),this.setAddressFieldValue(r,"street",u.value))}else d=!r.hasError&&d;r.hasError=!d,setTimeout(function(){i.cards.find(function(e){return e.hasError})||e.JotForm.hideButtonMessage()},50);var h=this.erroredCards.indexOf(r);return d||-1===h||this.erroredCards.splice(h,1),d},Cards.prototype.isCardFilled=function(e){var t=e;if("control_fileupload"===t.question.type)return this.onFileUploadChanged(t.question.id);var i=Array.prototype.slice.call(t.cardContainer.querySelectorAll("input, textarea, select")),o=t.question.type;i=i.filter(function(e){return("control_time"!==o||!e.match('[name*="ampm"]'))&&(("control_address"!==o||!e.match('[name*="dropdown_search"]')&&!e.match('[name*="country"]'))&&(("control_captcha"!==o||!e.match('[name="recaptcha_visible"]'))&&("control_datetime"!==o||!(e.match('[name*="ampm"]')||e.match('[name*="hour"]')||e.match('[name*="min"]')))))});for(var n=0;n<i.length;n++){var r=i[n];if(!(r.className.indexOf("form-widget-settings")>-1))if("radio"===r.type||"checkbox"===r.type){if(r.checked)return t.isFilled=!0,!0}else if(r.value)return t.isFilled=!0,!0}return t.isFilled=!1,!1},Cards.prototype.onFieldCorrected=function(t){if("mobile"===this.layoutParams.deviceType){var i=this.cards.reduce(function(e,t){return t.hasError?e+1:e},0),o=document.querySelector("#jsSubmitError");i&&""!==o.innerHTML&&(0,l.hasClass)(o,"isVisible")?(o.innerHTML=i+" incomplete field"+(1===i?"":"s")+".",(0,l.addClass)(this.layoutElements.progressContainer,"isLeftAligned")):((0,l.removeClass)(this.layoutElements.progressContainer,"isLeftAligned"),(0,l.removeClass)(o,"isVisible"))}var n=e.JotForm.getContainer(t),r=this.layoutParams.isFullScreenMode?this.cards[this.layoutParams.currentCardIndex]:this.cards.find(function(e){return e.cardContainer===n});r.hasError=!1,this.updateCardStatus(r,!1,!1),(0,l.hasClass)(t,"form-dropdown")&&this.updateDropdown(t,!1),"control_mixed"===n.getAttribute("data-type")&&((0,l.addClass)(t.parentNode,"isValid"),(0,l.removeClass)(t.parentNode,"hasError"))},Cards.prototype.onFieldErrored=function(t){var i=e.JotForm.getContainer(t),o=this.layoutParams.isFullScreenMode?this.cards[this.layoutParams.currentCardIndex]:this.cards.find(function(e){return e.cardContainer===i});this.layoutParams.isFullScreenMode&&(0,l.addClass)(o,"hasError"),o.hasError=!0,-1===this.erroredCards.indexOf(o)&&this.erroredCards.push(o),this.updateCardStatus(o,!1,!1),(0,l.hasClass)(t,"form-dropdown")&&this.updateDropdown(t,!0),"control_mixed"===i.getAttribute("data-type")&&((0,l.removeClass)(t.parentNode,"isValid"),(0,l.addClass)(t.parentNode,"hasError"))},Cards.prototype.updateDropdown=function(e,t){var i=(0,l.closest)(e,".jfField"),o=i.querySelector(".jfInput-dropdown");t?(0,l.addClass)(o,"form-validation-error"):(0,l.removeClass)(o,"form-validation-error")},Cards.prototype.recalculateTransform=function(){var e=this.layoutElements.cardAnimationWrapper,t=this.layoutParams,i=t.leftMargin,o=t.currentCardSize,n=t.scaleFactor,r=t.cardScrollScale,a=t.scrollLeftExtra,s=t.formMode,l=t.cardMode,d=t.resolutionType,c=t.globalCardScaleFactor,u=("scroll"===l&&"mobile"!==d?r:1)*n*c,h=this.getScrollLeft()+a,p=i+h+o/2,m="welcome"===s?" 62%":" 50%",f=p+"px "+m+" 0",y="translate3d(-"+h+"px, 0,0) scale3d("+u*n+", "+u*n+",1)";e.style.transform=y,e.style.webkitTransform=y,e.style.MozTransform=y,e.style.msTransform=y,e.style.transformOrigin=f,e.style.webkitTransformOrigin=f,e.style.MozTransformOrigin=f,e.style.msTransformOrigin=f},Cards.prototype.onFormOverviewClicked=function(e,t){var i="mobile"===this.layoutParams.deviceType;if("scroll"===this.layoutParams.cardMode)!this.progress.isFormProgressVisible&&!i&&this.progress.layoutElements.progressItemsLine&&this.progress.layoutElements.progressItemWrapper&&((0,l.addClass)(this.progress.layoutElements.progressItemsLine," jfProgress-hiddenWrapper"),(0,l.addClass)(this.progress.layoutElements.progressItemWrapper," jfProgress-hiddenWrapper")),this.setCardIndex(this.getNearestCardIndexInScrollMode()),this.setCardMode("single");else if(this.setCardMode("scroll",!0),i){if(t){var o=document.querySelector(".jfProgress-item.hasError");if(o){var n=o.getBoundingClientRect(),r=n.x,a=document.querySelector(".jfProgress#cardProgress");a.scrollTop=r}}}else!this.progress.isFormProgressVisible&&this.progress.layoutElements.progressItemsLine&&this.progress.layoutElements.progressItemWrapper&&((0,l.removeClass)(this.progress.layoutElements.progressItemsLine,"jfProgress-hiddenWrapper"),(0,l.removeClass)(this.progress.layoutElements.progressItemWrapper,"jfProgress-hiddenWrapper")),this.recalculateSmartEmbedLayout()},Cards.prototype.handleFeedbackButtonProgress=function(){if(this.isFeedbackEmbedButton){var e=this.cards.filter(function(e){return!e.isHidden});if(e.length){var t=this.layoutParams.currentCardIndex||1,i=this.cards[t],o=e.indexOf(i)+1,n=document.querySelector(".jsFeedbackProgressLine"),r=Math.ceil(o/e.length*100);n.style.width=r+"%"}}},Cards.prototype.onProgressItemSelected=function(e){if("mobile"===this.layoutParams.resolutionType)return this.removeLayoutAnimation(),this.setCardIndex(e,!0),this.setCardMode("single",!0),void this.addLayoutAnimation(10);"scroll"===this.layoutParams.cardMode?(this.setCardIndex(e),this.removeLayoutAnimation(400)):this.selectQuestion(e)},Cards.prototype.arrangeSectionHeaders=function(e,t){this.sectionHeaders=t,this.sectionHeaders.forEach(function(e){var t=e;t.props.hidden&&"Yes"===t.props.hidden.value&&(t.isHidden=!0)}),this.welcomePageProps={index:0,props:e||{}},this.welcomePageProps.props.text||(this.welcomePageProps.props.text={}),this.welcomePageProps.props.subHeader||(this.welcomePageProps.props.subHeader={})},Cards.prototype.getSectionHeaderForIndex=function(e){if(!this.layoutParams.formMode||"welcome"===this.layoutParams.formMode)return this.welcomePageProps;var t=void 0;if(this.sectionHeaders&&this.sectionHeaders.length)for(var i=this.sectionHeaders.length-1;i>=0;i--){var o=this.sectionHeaders[i];if(o.index<=e){t=o;break}}return t||(t=this.welcomePageProps),t},Cards.prototype.updateFormHeader=function(e){var t=this;if(this.sectionHeaders&&e&&this.sectionHeaders.length&&this.currentHeader!==e){var i=e.props.text?e.props.text.value:void 0,o=e.props.subHeader?e.props.subHeader.value:void 0,n=!(!e.props.showQuestionCount||"Yes"!==e.props.showQuestionCount.value),r="",a="",s=void 0,d=void 0;if(e===this.welcomePageProps)s=this.welcomePageProps.props.buttonText?this.welcomePageProps.props.buttonText.value:"Start",(0,l.removeClass)(document.querySelector(".jfWelcome-wrapper"),"isHeader"),this.layoutElements.previousButton&&((0,l.removeClass)(this.layoutElements.previousButton," jfInput-button"),(0,l.removeClass)(this.layoutElements.previousButton," forPrev-heading")),(0,l.removeClass)(this.layoutElements.startButton," jfInput-button"),(0,l.removeClass)(this.layoutElements.startButton," forNext-heading");else{var c=this.cards[0]?this.cards[0].actionsButtons.next.innerHTML:"Next",u=this.cards[0]?this.cards[0].actionsButtons.prev.innerHTML:"Previous";s=e.props.nextButtonText&&e.props.nextButtonText.value?e.props.nextButtonText.value:c,d=e.props.previousButtonText&&e.props.previousButtonText.value?e.props.previousButtonText.value:u,(0,l.addClass)(document.querySelector(".jfWelcome-wrapper"),"isHeader"),this.layoutElements.previousButton&&((0,l.addClass)(this.layoutElements.previousButton," jfInput-button"),(0,l.addClass)(this.layoutElements.previousButton," forPrev-heading")),(0,l.addClass)(this.layoutElements.startButton," jfInput-button"),(0,l.addClass)(this.layoutElements.startButton," forNext-heading")}this.layoutElements.welcomeHeaderContainer.innerHTML=void 0!==i?i:this.welcomePageProps.props.text.value,this.layoutElements.welcomeSubHeaderContainer.innerHTML=void 0!==o?o:this.welcomePageProps.props.subHeader.value||"";var h=this.layoutParams.allQuestions,p=this.layoutElements,m=p.welcomeSectionInfoText,f=p.welcomeSectionInfoQuestionCount;if(n&&"welcomePage"!==e.props.id.value){var y=this.sectionHeaders.map(function(e){return e.props.id.value}).indexOf(e.props.id.value),v=e.props.id.value.toString(),g=!!this.sectionHeaders[y+1]&&this.sectionHeaders[y+1].props.id.value.toString(),C=h.map(function(e){return e.id}),b=C.indexOf(v);if(-1!==b){var S=!!g&&C.indexOf(g);a=(S?h.slice(b+1,S):h.slice(b+1)).map(function(e){return t.cards.find(function(t){return t.question.id===e.id})}).filter(function(e){return!e.isHidden}).length,r=a>1?"Questions":"Question"}}else n&&"welcomePage"===e.props.id.value&&(a=this.cards.filter(function(e){return!e.isHidden&&"control_head"!==e.question.type}).length,r=a>1?"Questions":"Question");f.innerHTML=a,m.innerHTML=r,this.layoutElements.startButton.innerHTML=s,this.layoutElements.previousButton&&(this.layoutElements.previousButton.innerHTML=d,0===e.index?(this.layoutElements.previousButton.style.display="none",(0,l.addClass)(document.querySelector(".jfWelcome-wrapper"),"noPrevButton")):(this.layoutElements.previousButton.style.display="inline",(0,l.removeClass)(document.querySelector(".jfWelcome-wrapper"),"noPrevButton"))),setTimeout(function(){},10)}this.currentHeader=e,this.checkHeaderSubHeaderCharLimits(e),this.translateSectionHeader(),"form"===this.layoutParams.formMode&&this.shortenHeaders(),"sectionHeader"===this.layoutParams.formMode&&this.calculateWelcomeSize()},Cards.prototype.checkHeaderSubHeaderCharLimits=function(e){if(e){var t=e.props.text?e.props.text.value:void 0,i=e.props.subHeader?e.props.subHeader.value:void 0;"mobile"===this.layoutParams.resolutionType&&(t&&t.length>("welcome"===this.layoutParams.formMode?100:75)?(0,l.addClass)(this.layoutElements.welcomeHeaderContainer,"isLong"):(0,l.removeClass)(this.layoutElements.welcomeHeaderContainer,"isLong"),i&&i.length>("welcome"===this.layoutParams.formMode?100:75)?(0,l.addClass)(this.layoutElements.welcomeSubHeaderContainer,"isLong"):(0,l.removeClass)(this.layoutElements.welcomeSubHeaderContainer,"isLong"))}},Cards.prototype.setPrevNextQuestion=function(e){var t=e+1,i=e-1;for(this.cards.forEach(function(e){(0,l.removeClass)(e.wrapperContainer,"prevQuestion"),(0,l.removeClass)(e.wrapperContainer,"nextQuestion")});t<this.cards.length&&this.cards[t].isHidden;)t++;for(t<this.cards.length&&(0,l.addClass)(this.cards[t].wrapperContainer,"nextQuestion");i>-1&&this.cards[i].isHidden;)i--;i>-1&&(0,l.addClass)(this.cards[i].wrapperContainer,"prevQuestion")},Cards.prototype.setMobilePrevNextQuestionButtons=function(e){if("mobile"===this.layoutParams.deviceType||this.isFeedbackEmbedButton){var t=this.layoutElements,i=t.mobileNextButton,o=t.mobilePrevButton,n=t.mobileSubmitButton,r=t.mobileProgressInfo,a=this.getFirstVisibleIndex(),s=this.getLastVisibleIndex(),l=a!==e?"block":"none",d=s!==e?"block":"none",c=s===e?"inline-block":"none",u=s!==e?"block":"none";i&&(i.style.display=d),o&&(o.style.display=l),n&&(n.style.display=c),r&&(r.style.display=u)}},Cards.prototype.doObjectsCollide=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=function(t){var i=t.getBoundingClientRect();return{top:i.top+e.document.body.scrollTop,left:i.left+e.document.body.scrollLeft,offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight}},r=function(e,t,i,o,n,r,a,s,l){var d=void 0===l?0:l;return!(e+r-d<i||e+d>i+s||t+n-d<o||t+d>o+a)};return function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t instanceof e.HTMLElement?n(t):t,s=i instanceof e.HTMLElement?n(i):i;return r(a.top,a.left,s.top,s.left,a.offsetWidth,a.offsetHeight,s.offsetWidth,s.offsetHeight,o)}(t,i,o)},Cards.prototype.updateFeedbackEmbedHeight=function(){if(this.layoutParams.isFeedbackEmbedButton){var e=this.cards[this.layoutParams.currentCardIndex],t=e.cardContainer.querySelector(".jfCard-question"),i=t.getBoundingClientRect().height,o=Math.abs(t.scrollHeight-i);this.hwFeedbackEmbed.updateWindowHeight({messageType:"updateHeight",questionHeight:i,scrollHeight:o,bottomBarHeight:48})}},Cards.prototype.recalculateSmartEmbedLayout=function(){var e=this,t=this.layoutElements,i=t.welcomeWrapper,o=t.progressWrapper,n=t.welcomeContainer,r=t.progressContainer,a=t.logoContainer,s=this.layoutParams,d=s.smartEmbedMaxHeight,c=s.currentCardIndex,u=s.cardMode,h=s.formMode,p=s.resolutionType,m=c>-1?this.cards[c].cardContainer:null,f=m?m.getBoundingClientRect():{y:100,height:100},y=d+200,v=(0,l.hasClass)(document.body,"isSmartEmbed"),g="mobile"===p;if(m&&a&&setTimeout(function(){e.doObjectsCollide(m,a,15)?(0,l.addClass)(a,"isHidden"):(0,l.removeClass)(a,"isHidden")},300),v&&this.layoutParams.isEmbed&&this.jsForm){var C=n.getBoundingClientRect(),b=r.getBoundingClientRect(),S=f.height+120;"single"===u&&"form"===h&&(n.style.width=f.width+"px"),"scroll"===u||"welcome"===h?((0,l.removeClass)(document.body,"isSmartEmbedCleanState"),C.height&&(i.style.height=C.height+"px"),o.style.height="scroll"===u&&g?null:b.height+20+"px"):S>y?((0,l.addClass)(document.body,"isSmartEmbedCleanState"),i.style.height=C.height+"px",o.style.height=b.height+20+"px"):((0,l.removeClass)(document.body,"isSmartEmbedCleanState"),i.style.height=f.y+"px",o.style.height=f.y+"px")}else i.style.height=null,o.style.height=null},Cards.prototype.handleFormSubmitError=function(e){var t=e.cardContainer.querySelector(".jfCard-actions .forSubmit"),i=e.cardContainer.querySelector(".jfCard-actionsNotification"),o=i.querySelector(".form-error-message"),n=this.cards.filter(function(e){return!e.isHidden}).reduce(function(e,t,i){return t.hasError&&e.push({card:t,index:i+1}),e},[]),r=n.length;if(!r)return t.removeAttribute("disabled"),void i.removeChild(o);var a="";if(1===r)a=""+n[0].index;else{var s=n[r-1].index,l=n.map(function(e){return e.index});if(r<=4){l.pop();a=l.join(", ")+" and "+s}else{a=l.splice(0,3).join(", ")+" and "+(r-3)+" other questions"}}var d="Please answer the question "+a+" before continuing.";if(o)o.innerHTML=d;else{var c=document.createElement("div");c.className="form-error-message",c.innerHTML=d,i.appendChild(c)}t.setAttribute("disabled","disabled")},Cards.prototype.setCardIndex=function(t,i,o){var n=this;if(-1!==t){this.cards[t].isHidden&&console.warn("trying to select a hidden question!!!");var r=this.layoutParams,a=r.currentCardIndex,s=r.formMode;this.updateCardStatus(this.cards[a],!1,!0);var d=this.layoutParams.isLayoutAnimated;i?this.removeLayoutAnimation():this.addLayoutAnimation(),this.setPrevNextQuestion(t),(0,l.removeClass)(this.cards[a].wrapperContainer,"isVisible"),this.layoutParams.currentCardIndex=t;var c=this.cards[this.layoutParams.currentCardIndex];(0,l.addClass)(c.wrapperContainer,"isVisible"),"control_matrix"===c.question.type&&e.JotForm.setMatrixLayout(c.question.id);var u=this.hasWelcome?0:1;"form"===s&&t>=u||"form"===s&&!this.welcomePageProps.props.isFormTitleVisible?this.hideHeader():this.showHeader(),i?this.updateFeedbackEmbedHeight():setTimeout(function(){n.updateFeedbackEmbedHeight()},300),this.handleFeedbackButtonProgress(),this.setMobilePrevNextQuestionButtons(t),this.layoutParams.scrollLeftExtra=0,this.progress.selectIndex(t),this.recalculateTransform(),"form"!==this.layoutParams.formMode||this.layoutParams.hasTouch||this.focusToFirstInput(this.cards[t]),this.datetimeHandler.closeAllCalendars(),this.dropdown.closeAllDropdowns(),d&&i&&this.addLayoutAnimation(1),this.updateFormHeader(this.getSectionHeaderForIndex(t)),o||this.hiddenSubmit(),this.recalculateSmartEmbedLayout(),this.layoutParams.formMode,this.pressEnterHint&&"form"===this.layoutParams.formMode&&!this.canQuestionMoveAutomatically(this.getCurrentCard().question.question_type)&&this.pressEnterHint.show(),this.calculateAvailableHeightForFields(t),t<2&&"form"===s&&e.FormTranslation&&e.FormTranslation.properties&&"1"===e.FormTranslation.properties.firstPageOnly&&this.setLanguageDropdownVisibility(t),this.handleWidgetsVisibility(c)}},Cards.prototype.hiddenSubmit=function(t){var i=this,o=!1,n=!1;if(this.isSaveAndContinueLaterActivated&&this.saveAndContinueLater.inited&&this.continueLater.active?o=!0:e.JotForm.sessionID&&(n=!0),!o&&!n)return!1;var r=this.getInputNamesAndValues(),a=this.getFormDataDiff(r,this.continueLater.lastAnswers);if((a.length>0||t)&&!e.JotForm.loadingPendingSubmission){this.continueLater.lastAnswers=r;var s=this.mergeDiffWithStaticData(a);if(!s)return;var d=document.forms[0],c=null;c=this.continueLater.tempForm?this.continueLater.tempForm:d.cloneNode(!1),document.body.appendChild(c);for(var u=0;u<s.length;u++){var h=s[u];if(!h.name.include("[other]")||h.value)if(c.elements.namedItem(h.name))c.elements.namedItem(h.name).value=h.value;else{var p=(0,l.createInput)({type:"hidden",name:h.name,value:h.value});c.appendChild(p)}else{var m=c[h.name];m&&c.removeChild(m)}}this.continueLater.tempForm=c,e.JotForm.hiddenSubmit(c,{async:!0,onSuccessCb:function(){i.saveAndContinueLater.changeState(i.saveAndContinueLater.states.saved)},onFailureCb:function(){i.saveAndContinueLater.changeState(i.saveAndContinueLater.states.error)},onCompleteCb:function(){document.body.removeChild(c)}})}},Cards.prototype.mergeDiffWithStaticData=function(t){var i=[],o=document.getElementById("simple_spc");i.push({name:"session_id",value:e.JotForm.sessionID}),e.JotForm.submissionID&&i.push({name:"submission_id",value:e.JotForm.submissionID}),o&&i.push({name:"simple_spc",value:o.value}),i.push({name:"submission_token",value:e.JotForm.submissionToken}),i.push({name:"formID",value:this.formID}),i.push({name:"continue_card_index",value:this.layoutParams.currentCardIndex});for(var n=[].concat(t),r=0;r<i.length;r++)!function(e){!!n.find(function(t){return t.name===i[e].name})||n.push(i[e])}(r);return n},Cards.prototype.getFormDataDiff=function(e,t){return t?e.filter(function(e){return function(t){return 0===e.filter(function(e){return e.value===t.value&&e.name===t.name}).length}}(t)):e},Cards.prototype.showInputTooltip=function(e,t){var i=this,o=t.message,n=t.callback,r=t.onClose,a=(0,l.closest)(e,".jfQuestion-fields"),s=(0,l.closest)(e,".jfCard-wrapper"),d=o.split("|"),c=d[0],u=d[1],h=d[2],p=!!a&&a.querySelector(".js-tooltipContainer");if(p){s.addEventListener("click",function(t){(0,l.closest)(t.target,".js-tooltipContainer")||i.removeInputTooltip(e)});var m=p.querySelector(".js-tooltipMessageContainer-info");p.querySelector(".js-tooltipCloseButton").addEventListener("click",function(t){t.preventDefault(),i.removeInputTooltip(e),r&&r()}),m.innerHTML="";var f=document.createTextNode(c);if(m.appendChild(f),u){var y=document.createElement("span");if(y.innerHTML=u,y.className="jfCardTooltip-link",m.appendChild(y),y.addEventListener("click",function(t){n&&n(t),i.removeInputTooltip(e)}),h){var v=document.createTextNode(h);m.appendChild(v)}}(0,l.addClass)(a,"isTooltipOpen")}},Cards.prototype.removeInputTooltip=function(e){var t=(0,l.closest)(e,".jfQuestion-fields"),i=!!t&&t.querySelector(".js-tooltipContainer");if(i){i.querySelector(".js-tooltipMessageContainer-info").innerHTML="";var o=Object.keys(d.TOOLTIP_TYPES).map(function(e){return d.TOOLTIP_TYPES[e]}),n=!0;o.forEach(function(e){(0,l.hasClass)(i,e)&&(n=!1)}),n&&(0,l.removeClass)(t,"isTooltipOpen")}},Cards.prototype.bindFormSubmit=function(){var e=this;("mobile"===this.layoutParams.deviceType||this.isFeedbackEmbedButton)&&this.layoutElements.mobileSubmitButton.addEventListener("click",function(t){t.preventDefault(),e.submitFormWithJS(document.querySelector(".jotform-form"))})},Cards.prototype.bindTouchSwipeEvents=function(){var e=this,t=this.layoutParams.deviceType,i={},o=["image","text"];document.addEventListener("touchstart",function(t){var n=e.layoutElements.overlayWrapper;if(!(n&&(0,l.hasClass)(n,"isVisible")||e.layoutParams.isFullScreenMode)){var r=t.target.getAttribute("data-component");r||(r=(0,l.closest)(t.target,"div").getAttribute("data-component"));!(-1!==o.indexOf(r))&&(0,l.closest)(t.target,".jfQuestion-fields")||(i.startX=t.touches[0].screenX,i.startY=t.touches[0].screenY)}}),document.addEventListener("touchmove",function(e){i.moveX=e.touches[0].screenX,i.moveY=e.touches[0].screenY}),document.addEventListener("touchend",function(){if(void 0!==i.startX&&void 0!==i.startY&&!e.layoutParams.isFullScreenMode){var o=Math.abs(i.startY-i.moveY)>70;if("scroll"!==e.layoutParams.cardMode)if(!o&&i.startX>i.moveX+70){var n=e.layoutParams.formMode;"welcome"===n?e.setFormMode("form"):e.selectNextQuestion("mobile"===t)}else!o&&i.startX+70<i.moveX&&e.selectPreviousQuestion()}i={}})},Cards.prototype.bindResizeEvent=function(){var t=this;e.addEventListener("resize",function(){var e=s.default&&s.default.android,i="INPUT"===document.activeElement.tagName||"TEXTAREA"===document.activeElement.tagName||"true"===document.activeElement.getAttribute("contenteditable");e&&"mobile"===t.layoutParams.deviceType&&i&&document.activeElement.scrollIntoView(),t.disableTransitions(),t.recalculateLayout(),t.recalculateSmartEmbedLayout(),t.handleFullScreenToggle(),t.recalculateBackgroundStyle(),setTimeout(function(){t.enableTransitions(),t.updateMatrixLayout(),t.recalculateSmartEmbedLayout(),t.calculateWelcomeSize()},100),t.isOpenedOnJotFormMobileApp&&setTimeout(function(){t.recalculateLayout()},251)},!0),e.addEventListener("orientationchange",function(){setTimeout(function(){t.recalculateLayout(),t.updateMatrixLayout(),t.recalculateSmartEmbedLayout(),t.calculateWelcomeSize()},1e3)},!0)},Cards.prototype.bindHashChangeEvent=function(){e.addEventListener("hashchange",this.onLocationHashChange,!0)},Cards.prototype.addScrollLeftDelta=function(e){if("mobile"!==this.layoutParams.resolutionType){var t=this.layoutParams,i=t.currentCardIndex,o=t.currentCardSize,n=this.cards.filter(function(e){return!e.isHidden}).length;this.layoutParams.scrollLeftExtra+=e;var r=this.getVisibleIndex(i),a=r*o+(n-1-r)*o,s=this.layoutParams.scrollLeftExtra+this.getScrollLeft();s<=0&&(this.layoutParams.scrollLeftExtra=0-this.getScrollLeft()),s>=a&&(this.layoutParams.scrollLeftExtra=a-this.getScrollLeft()),this.recalculateTransform()}},Cards.prototype.bindCardClickEvents=function(){var e=this,t="mobile"===this.layoutParams.deviceType;this.cards.forEach(function(i,o){!function(o){i.cardContainer.addEventListener("click",function(){"scroll"===e.layoutParams.cardMode&&(e.setCardIndex(o),e.setCardMode("single"),!e.progress.isFormProgressVisible&&!t&&e.progress.layoutElements.progressItemsLine&&e.progress.layoutElements.progressItemWrapper&&((0,l.addClass)(e.progress.layoutElements.progressItemsLine," jfProgress-hiddenWrapper"),(0,l.addClass)(e.progress.layoutElements.progressItemWrapper," jfProgress-hiddenWrapper")))})}(o)})},Cards.prototype.setAddressFieldValue=function(e,t,i){var o=e.question.id,n=e.cardContainer,r=this.addressTypeSuffixMap[t],a=n.querySelector("#input_"+o+"_"+r);if(a&&(a.value=i,this.setFieldIsFilledIfHasValue(a),"SELECT"===a.tagName)){var s=n.querySelector('[data-type="'+r+'"] #jfDropdown_'+o);s&&(s.value=i)}},Cards.prototype.autoSelectNextQuestion=function(e){var t=this,i=this.layoutElements,o=i.mobileNextButton,n=i.mobilePrevButton,r=e.actionsButtons,a=r.prev,s=r.next,d=[n,o,a,s];(0,l.enableDisableDOMElements)(d,!1),this.isCardFilled(e)&&(this.autoSelectionTimeout&&(this.autoSelectionTimeout=clearTimeout(this.autoSelectionTimeout)),this.autoSelectionTimeout=setTimeout(function(){t.selectNextQuestion(!0),t.autoSelectionTimeout=clearTimeout(t.autoSelectionTimeout),(0,l.enableDisableDOMElements)(d,!0)},500))},Cards.prototype.bindInputChange=function(){var t=this;this.cards.forEach(function(i){"control_datetime"!==i.question.type&&function(){for(var o=i.cardContainer.querySelectorAll(".jfInput-input, .jfRadio-input, .jfInput-textarea, .jfRating-input, .jsToggle"),n=t.canQuestionMoveAutomatically(i.question.type),r=0;r<o.length;r++)o[r].addEventListener("change",function(o){!n||(0,l.hasClass)(o.target,"jfRadio-otherInputField")||(0,l.hasClass)(o.target,"jfRadio-otherInput")||(void 0!==e.JotForm.conditions.length&&t.checkConditionOnCurrentCard(),t.autoSelectNextQuestion(i));var r=o.target||o.srcElement;t.setFieldIsFilledIfHasValue(r)})}()})},Cards.prototype.bindSelectChange=function(){var e=this;this.cards.forEach(function(t){if("control_datetime"!==t.question.type){var i=t.cardContainer.querySelectorAll("select.form-dropdown");(0,l.forEach)(i,function(t){t.addEventListener("change",function(t){var i=t.target||t.srcElement;e.setFieldIsFilledIfHasValue(i)})})}})},Cards.prototype.setFieldIsFilledIfHasValue=function(e){var t=(0,l.closest)(e,".jfField","body");t&&(e.value.length>0||["select-one","select-multiple"].indexOf(e.type)>=0?(0,l.addClass)(t,"isFilled"):(0,l.removeClass)(t,"isFilled"))},Cards.prototype.isEditMode=function(){return-1!==window.location.href.indexOf("/edit/")||-1!==window.location.href.indexOf("mode=inlineEdit")},Cards.prototype.setFormMode=function(e,t,i){var o=this,n=this.layoutParams.formMode;if(n!==e){if(this.layoutParams.formMode=e,"form"===e){if("welcome"===n){if(this.sectionHeaders&&this.sectionHeaders.length&&0===this.sectionHeaders[0].index){if(!this.sectionHeaders[0].isHidden)return void this.setFormMode("sectionHeader",!0,!1)}this.hideHeader()}this.layoutParams.scaleFactor=1,t||this.layoutParams.isLayoutAnimated||i||this.enableTransitions(),this.layoutElements.startButton&&(this.layoutElements.startButton.style.display="none"),this.layoutElements.previousButton&&(this.layoutElements.previousButton.style.display="none"),this.layoutParams.hasTouch||this.focusToFirstInput(this.cards[this.layoutParams.currentCardIndex])}else if("sectionHeader"===e){this.updateFormHeader(this.sectionHeaders[0]),this.layoutElements.startButton.style.display="inline";var r=document.querySelector(".jfWelcome-image");r&&(0,l.addClass)(r,"collapse"),this.layoutParams.scaleFactor=.2,this.showHeader()}else this.layoutParams.scaleFactor=.2,this.layoutElements.startButton&&(this.layoutElements.startButton.style.display="inline"),this.layoutElements.previousButton&&(this.layoutElements.previousButton.style.display="none");(0,l.removeClass)(document.body,"formMode"),(0,l.removeClass)(document.body,"welcomeMode"),(0,l.removeClass)(document.body,"thankyouMode"),(0,l.removeClass)(document.body,"reviewMode"),(0,l.removeClass)(document.body,"sectionHeaderMode"),(0,l.addClass)(document.body,this.layoutParams.formMode+"Mode"),this.calculateWelcomeSize(),this.checkHeaderSubHeaderCharLimits(this.currentHeader),t||this.recalculateTransform(),this.recalculateSmartEmbedLayout(),"form"!==this.layoutParams.formMode||this.welcomePageProps.props.isFormTitleVisible||this.hideHeader(),setTimeout(function(){o.calculateAvailableHeightForFields(),o.calculatePaymentHeights(),o.recalculateSmartEmbedLayout(),o.updateFeedbackEmbedHeight()},300)}},Cards.prototype.calculatePaymentHeights=function(){e.JotForm.productPages&&e.JotForm.productPages.initProductPages()},Cards.prototype.addLayoutAnimation=function(e){var t=this;if("form"===this.layoutParams.formMode&&this.isTransitionsEnabled){var i=this.layoutElements.cardAnimationWrapper;return e?setTimeout(function(){(0,l.addClass)(i,"transition-all-03s"),t.layoutParams.isLayoutAnimated=!0},e):((0,l.addClass)(i,"transition-all-03s"),this.layoutParams.isLayoutAnimated=!0,!1)}},Cards.prototype.setScale=function(e){this.layoutParams.scaleFactor=e,this.recalculateTransform()},Cards.prototype.setGlobalCardScale=function(e){this.layoutParams.globalCardScaleFactor=e,document.querySelector(".jfWelcome-header").style.fontSize="1.2em",this.recalculateTransform()},Cards.prototype.enableTransitions=function(){this.isTransitionsEnabled=!0,this.addLayoutAnimation(),this.cards.forEach(function(e){(0,l.addClass)(e.wrapperContainer,"transition-all-015s")})},Cards.prototype.disableTransitions=function(){this.isTransitionsEnabled=!0,this.removeLayoutAnimation(),this.cards.forEach(function(e){(0,l.removeClass)(e.wrapperContainer,"transition-all-015s")})},Cards.prototype.removeLayoutAnimation=function(e){var t=this,i=this.layoutElements.cardAnimationWrapper;e?(this.removeLayoutAnimation.timeout&&clearTimeout(this.removeLayoutAnimation.timeout),this.removeLayoutAnimation.timeout=setTimeout(function(){t.removeLayoutAnimation.timeout=null,(0,l.removeClass)(i,"transition-all-03s"),t.layoutParams.isLayoutAnimated=!1},e)):((0,l.removeClass)(i,"transition-all-03s"),this.layoutParams.isLayoutAnimated=!1)},Cards.prototype.showProgress=function(){var e=this;(0,l.removeClass)(this.progress.layoutElements.progress,"progress-animate"),setTimeout(function(){(0,l.addClass)(e.progress.layoutElements.progress,"no-animate")},700)},Cards.prototype.checkCardIfMoveAutomatically=function(e){var t=e.question.type;this.canQuestionMoveAutomatically(t)&&(0,l.addClass)(e.cardContainer,"canMoveAuto")},Cards.prototype.canQuestionMoveAutomatically=function(e){return["control_radio","control_imagechoice","control_yesno","control_rating","control_scale"].indexOf(e)>-1},Cards.prototype.selectNextQuestion=function(t){var i=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.layoutParams,r=n.currentCardIndex,a=n.cardMode;if("sectionHeader"===n.formMode)return this.setFormMode("form"),void this.updateFormHeader(this.getSectionHeaderForIndex(r));if(r>-1)if("scroll"===a||t||this.validateCard(this.cards[r])){this.showProgress();for(var s=r+1;s<this.cards.length&&this.cards[s].isHidden;)s++;if(e.JotForm.nextPage){for(var l=r,d=e.JotForm.nextPage.id.substring(e.JotForm.nextPage.id.indexOf("_")+1),c=0;c<this.cards.length;c++)if(this.cards[c].question.id===d){l=c;break}s=l,e.JotForm.nextPage=!1}if(s<this.cards.length){var u=[this.getSectionHeaderForIndex(r),this.getSectionHeaderForIndex(s)],h=u[0],p=u[1];"scroll"===a||h===p||p.isHidden?this.setCardIndex(s,o):(this.setFormMode("sectionHeader"),this.calculateWelcomeSize(),this.updateFormHeader(p),setTimeout(function(){i.setCardIndex(s,!1)},350)),"scroll"===a&&this.removeLayoutAnimation(400)}}else this.shakeCard(r)},Cards.prototype.selectPreviousQuestion=function(){var t=this.layoutParams,i=t.currentCardIndex,o=t.cardMode;if("sectionHeader"!==t.formMode){for(var n=i-1;n>-1&&this.cards[n].isHidden;)n--;if(n>-1&&(this.setCardIndex(n),"scroll"===o&&this.removeLayoutAnimation(400)),e.JotForm.prevPage){for(var r=e.JotForm.prevPage.id.split("_")[1],a=0,s=0;s<this.cards.length;s++)if(this.cards[s].question.id===r){a=s;break}this.setCardIndex(a),e.JotForm.prevPage=!1}}},Cards.prototype.bindPrevNextButtonsClick=function(){var t=this;document.body.addEventListener("click",function(i){void 0!==e.JotForm.conditions.length&&(0,l.hasClass)(i.target,"forNext")&&(0,l.hasClass)(i.target,"forMobileNav")&&t.checkConditionOnCurrentCard(),(0,l.hasClass)(i.target,"forNext")?(i.preventDefault(),t.selectNextQuestion()):(0,l.hasClass)(i.target,"forPrev")&&(i.preventDefault(),t.selectPreviousQuestion())})},Cards.prototype.findEmailAnswer=function(){var e=this.cards.filter(function(e){return"control_email"===e.question.type&&!e.isHidden&&!e.hasError});return 0===e.length?"":e[0].fieldContainer.querySelector('input[type="email"]').value},Cards.prototype.bindKeyUpEvent=function(){var t=this;document.addEventListener("keydown",function(i){var o=t.layoutElements.overlayWrapper;if(!o||!(0,l.hasClass)(o,"isVisible")){var n=t.layoutParams,r=n.formMode,a=n.cardMode,s=n.currentCardIndex,d=t.cards[s]?t.cards[s].question:{},c=z[i.target.tagName],u=document.activeElement,h=u.isContentEditable,p=u.getAttribute("data-disable-enter-event"),m=u.getAttribute("data-disable-escape-event");if(!(!!t.autoSelectionTimeout||c&&-1!==c.indexOf(i.keyCode)&&i.target.value)){if(!m&&(27===i.keyCode&&t.layoutParams.isFullScreenMode||13===i.keyCode&&i.shiftKey&&(i.metaKey||i.altKey)))return void("form"===r&&"single"===a&&t.toggleFullScreenMode());if(t.layoutParams.isFullScreenMode)return;13===i.keyCode&&void 0!==e.JotForm.conditions.length&&t.checkConditionOnCurrentCard(),h||p||(39!==i.keyCode&&13!==i.keyCode||document.getElementById("isStripeACHVerification")?37===i.keyCode&&("sectionHeader"===t.layoutParams.formMode&&t.setFormMode("form"),t.selectPreviousQuestion()):"welcome"!==t.layoutParams.formMode&&"sectionHeader"!==t.layoutParams.formMode||13!==i.keyCode?"scroll"===t.layoutParams.cardMode&&13===i.keyCode?(t.setCardIndex(t.getNearestCardIndexInScrollMode()),t.setCardMode("single")):13!==i.keyCode||"control_address"!==d.type||!u||u!==document.body&&u.id!=="input_"+d.id+"_addr_search"?(i.preventDefault(),t.selectNextQuestion()):i.preventDefault():(t.setFormMode("form"),t.shortenHeaders(),i.preventDefault()))}}})},Cards.prototype.getNearestCardIndexInScrollMode=function(){var e=this.layoutParams,t=e.scrollLeftExtra,i=e.currentCardIndex,o=e.currentCardSize,n=o,r=parseInt(Math.abs(t)/n,10),a=Math.abs(t)%n>n/2?1:0,s=r+a,l=0;if(t>0){for(var d=i+1;d<this.cards.length&&s>0;d++)this.cards[d].isHidden?l++:s--;return i+r+a+l}for(var c=i-1;c>=0&&s>0;c--)this.cards[c].isHidden?l++:s--;return i-(r+a)-l},Cards.prototype.shakeCard=function(e){var t=this.cards[e].cardContainer;(0,l.addClass)(t,"animate-shake"),setTimeout(function(){(0,l.removeClass)(t,"animate-shake")},400)},Cards.prototype.setCardMode=function(t,i){var o=this,n=this.layoutElements.cardAnimationWrapper;this.layoutParams.cardMode=t,"scroll"===this.layoutParams.cardMode?((0,l.addClass)(this.layoutElements.cardAnimationWrapper,"noselect"),this.removeLayoutAnimation(400),(0,l.addClass)(n,"onScrollMode"),(0,l.addClass)(document.body,"onScrollMode"),e.addEventListener("wheel",this.onWheel)):((0,l.removeClass)(this.layoutElements.cardAnimationWrapper,"noselect"),i?this.recalculateSmartEmbedLayout():(this.addLayoutAnimation(),setTimeout(function(){o.recalculateSmartEmbedLayout()},300),clearTimeout(this.removeLayoutAnimation.timeout)),(0,l.removeClass)(n,"onScrollMode"),(0,l.removeClass)(document.body,"onScrollMode"),e.removeEventListener("wheel",this.onWheel)),this.recalculateTransform()},Cards.prototype.onWheel=function(e){var t=this.layoutParams,i=t.cardMode,o=t.resolutionType;"scroll"===i&&"mobile"!==o&&(e.preventDefault(),this.addScrollLeftDelta(Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX))},Cards.prototype.selectQuestion=function(e){var t=this;this.setCardMode("scroll"),setTimeout(function(){t.setCardIndex(e)},400),setTimeout(function(){t.setCardMode("single")},800)},Cards.prototype.getTotalWidth=function(){return this.cards.filter(function(e){return!e.isHidden}).length*this.layoutParams.currentCardSize+this.layoutParams.leftMargin},Cards.prototype.getVisibleIndex=function(e){return e-this.cards.slice(0,e).reduce(function(e,t){return t.isHidden?e+1:e},0)},Cards.prototype.getScrollLeft=function(){return this.layoutParams.currentCardSize*this.getVisibleIndex(this.layoutParams.currentCardIndex)},Cards.prototype.setWrapperWidth=function(){var e=this,t=this.layoutElements.cardAnimationWrapper,i=this.layoutParams,o=i.currentCardSize,n=i.leftMargin;t.style.width=this.getTotalWidth(),this.cards.forEach(function(t,i){var r=t.wrapperContainer;r.style.width=o+"px",e.layoutParams.for1Template||0===e.getVisibleIndex(i)?r.style.marginLeft=n+"px":r.style.marginLeft="0px"})},Cards.prototype.getCurrentOrientation=function(){var t=e,i=t.screen,o=t.orientation,n=i.orientation||i.mozOrientation||i.msOrientation;if(n&&"string"==typeof n.type)return n.type;var r=o||n&&n.angle||0;return(0,l.calculateOrientationType)(r)},Cards.prototype.getDeviceType=function(){return e.location&&e.location.href.indexOf("&forceMobileDevice=1")>-1?"Mobile":s.default&&(s.default.mobile||s.default.tablet)?s.default.mobile?"Mobile":"Tablet":"Desktop"},Cards.prototype.checkAndSetBrowserBasedClasses=function(){var e=["browserName-","browserVersion-","browserType-","isWebKit","osName-","osVersion-","browserOrientation-"],t=this.getCurrentOrientation().split("-"),i=t[0],o=document.body.className.split(" "),n=["browserName-"+(s.default.name?s.default.name.split(" ").join(""):""),"browserVersion-"+s.default.version,"browserOrientation-"+i];s.default.webkit&&n.push("isWebKit"),(s.default.mobile||s.default.tablet)&&n.push("browserType-"+(s.default.mobile?"mobile":"tablet")),s.default.osname&&n.push("osName-"+s.default.osname),s.default.osversion&&n.push("osVersion-"+s.default.osversion),e.forEach(function(e){var t=o.find(function(t){return t.indexOf(e)>-1}),i=n.find(function(t){return t.indexOf(e)>-1});t!==i&&(t&&(0,l.removeClass)(document.body,t),i&&(0,l.addClass)(document.body,i))})},Cards.prototype.checkAndSetDeviceType=function(){var e=window.innerWidth;e<=l.deviceSize.cardwidthp?this.layoutParams.resolutionType="mobile":e<=l.deviceSize.cardwidthpt?this.layoutParams.resolutionType="mobile":e<=l.deviceSize.cardwidtht?this.layoutParams.resolutionType="":e<=l.deviceSize.cardwidthsm?this.layoutParams.resolutionType="":e<=l.deviceSize.cardwidthm?this.layoutParams.resolutionType="":(l.deviceSize.cardwidthxl,this.layoutParams.resolutionType=""),this.checkAndSetBrowserBasedClasses()},Cards.prototype.recalculateLayout=function(){var e=this.layoutElements.cardAnimationWrapper;this.checkAndSetDeviceType();var t=void 0,i=window.innerWidth;t=i<=l.deviceSize.cardwidthp?l.cardSize.cardwidthp:i<=l.deviceSize.cardwidthpt?l.cardSize.cardwidthpt:i<=l.deviceSize.cardwidtht?l.cardSize.cardwidtht:i<=l.deviceSize.cardwidthsm?l.cardSize.cardwidthsm:i<=l.deviceSize.cardwidthm?l.cardSize.cardwidthm:(l.deviceSize.cardwidthxl,l.cardSize.cardwidthxl),"string"==typeof t&&t.indexOf("%")>-1&&(t=window.innerWidth*(+t.replace("%","")/100)),this.layoutParams.leftMargin=(window.innerWidth-t)/2,this.layoutParams.currentCardSize=t,e.style.width=this.getTotalWidth(),this.setWrapperWidth(),this.calculateAvailableHeightForFields(),this.recalculateTransform(),this.updateFeedbackEmbedHeight()},Cards.prototype.recalculateBackgroundStyle=function(){var t=document.querySelector(".jfForm-backgroundContainer")||document.querySelector(".jfForm-wrapper"),i=document.querySelector(".jfProgress#cardProgress"),o=e.window,n=o.innerHeight,r=o.innerWidth,a=r>n?"landscape":"portrait";if("mobile"===this.layoutParams.resolutionType){if(!this.layoutParams.isEmbed){var s=function(){switch(a){case"landscape":return{size:"cover",position:"center"};case"portrait":return{size:"auto "+(n+1)+"px",position:"top center"};default:return null}}();t.style.backgroundSize=s.size,t.style.backgroundPosition=s.position,i.style.backgroundSize=s.size,i.style.backgroundPosition=s.position}}else t.style.backgroundSize=null,t.style.backgroundPosition=null,i.style.backgroundSize=null,i.style.backgroundPosition=null},Cards.prototype.getXPos=function(e){return e.clientX?e.clientX:e.touches&&e.touches.length?e.touches[0].clientX:0},Cards.prototype.mouseDown=function(e){"scroll"===this.layoutParams.cardMode&&(this.layoutParams.isDraggingStart=!0,this.layoutParams.dragStartX=this.getXPos(e))},Cards.prototype.mouseUp=function(){var e=this;"scroll"===this.layoutParams.cardMode&&(this.layoutParams.isDraggingStart=!1,setTimeout(function(){e.layoutParams.isDragging=!1},10))},Cards.prototype.mouseMove=function(e){if("scroll"===this.layoutParams.cardMode&&this.layoutParams.isDraggingStart){this.layoutParams.isDragging=!0;var t=this.layoutParams.dragStartX-this.getXPos(e);this.layoutParams.dragStartX=this.getXPos(e),this.addScrollLeftDelta(t)}},Cards.prototype.bindDragPage=function(){document.body.addEventListener("mousedown",this.mouseDown),document.body.addEventListener("mouseup",this.mouseUp),document.body.addEventListener("mousemove",this.mouseMove),document.body.addEventListener("touchstart",this.mouseDown),document.body.addEventListener("touchend",this.mouseUp),document.body.addEventListener("touchmove",this.mouseMove),document.body.addEventListener("pointerdown",this.mouseDown),document.body.addEventListener("pointerup",this.mouseUp),document.body.addEventListener("pointermove",this.mouseMove)},Cards.prototype.onFieldVisibilityChanged=function(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];var r=o[0],a=this.cards.filter(function(e){return e.question.id===r&&e.isHidden===t});if(e&&a&&(t&&(a=a.filter(function(e){return!e.forceHide})),a.length&&this.setCardVisibility(a,t)),0===a.length&&this.sectionHeaders&&this.sectionHeaders.length){var s=this.sectionHeaders.find(function(e){return e.props.id.value===r});s&&!!s.isHidden==!!t&&(s.isHidden=!t,t||"welcome"===this.layoutParams.formMode||this.setFormMode("form"))}},Cards.prototype.setCardVisibility=function(e,t){var i=this,o=Array.isArray(e)?e:[e];this.removeLayoutAnimation(),this.cards.forEach(function(e){(0,l.removeClass)(e.wrapperContainer,"transition-all-015s")});var n=t?[]:o.map(function(e){return i.cards.indexOf(e)});if(o.forEach(function(e){var o=e;o.isHidden=!t,i.progress.setIndexVisibility(i.cards.indexOf(o),t)}),this.setPrevNextQuestion(this.layoutParams.currentCardIndex),this.setWrapperWidth(),this.recalculateTransform(),this.updateCardIndexes(),setTimeout(function(){i.enableTransitions()},50),n.indexOf(this.layoutParams.currentCardIndex)>-1){for(var r=-1,a=1;a<this.cards.length;a++){var s=(this.layoutParams.currentCardIndex+a)%this.cards.length;if(!this.cards[s].isHidden){r=s;break}}r>-1?this.setCardIndex(r):console.warn("no visible card exists")}this.updateCardLabels(),this.repositionActionButtons()},Cards.prototype.updateCardIndexes=function(){var e=this;this.cards.forEach(function(t,i){t.indexContainer.textContent=e.getVisibleIndex(i)+1})},Cards.prototype.updateCardLabels=function(){(0,l.forEach)(this.visibleCards,function(e,t){var i=e,o=e.cardContainer.querySelector(".jfQuestion-label");o&&o.childNodes&&o.childNodes[0]?i.label=o.childNodes[0].textContent:i.label="Question "+(t+1)}),this.progress&&this.progress.setQuestionOrderNumbers()},Cards.prototype.onRequireField=function(e,t){var i=this;this.cards.filter(function(t){return t.question.id===e}).forEach(function(e){var o=e.cardContainer,n=o.querySelector(".jfRequiredStar");t?n?n.style.display="initial":i.addRequiredElementToCard(o):(n&&(n.style.display="none"),e.hasError?i.updateCardStatus(e):i.updateCardStatus(e,!1,!1))})},Cards.prototype.addRequiredElementToCard=function(e){var t=document.createElement("span");t.className="jfRequiredStar";var i=document.createElement("span");i.className="jfRequiredStar-message",i.textContent="This field is required",t.appendChild(document.createTextNode("*")),t.appendChild(i);var o=e.querySelector(".jfQuestion-label");o&&o.appendChild(t)},Cards.prototype.updateCardStatus=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.cards.indexOf(e);this.progress.unsetInvalidIndex(o),this.progress.unsetValidIndex(o),t&&this.validateCard(e),i&&this.isCardFilled(e),e.hasError?this.progress.setInvalidIndex(o):(e.isFilled||Q.indexOf(e.question.type)>-1)&&this.progress.setValidIndex(o)},Cards.prototype.bindFocusOnMobileWithKeyboard=function(){function handleKeyPress(){if((0,l.hasTouch)()){var e=document.querySelector(".form-line .isVisible").parentElement;if("control_textarea"===e.getAttribute("data-type")){var t=e.querySelector(".jfTextarea-editor");if(t)return t.focus()}var i=e.querySelectorAll("input"),o=document.activeElement.localName.indexOf("input")>-1||document.activeElement.classList.toString().indexOf("jfInput")>-1;i&&i.length>0&&!o&&i[0].focus()}}document.onkeypress=handleKeyPress.bind(this)},Cards.prototype.focusToFirstInput=function(e){if(e){var t=this.layoutParams,i=t.browserName,o=t.forTemplate;if((!this.layoutParams.isEmbed||this.layoutParams.currentCardIndex>0)&&"single"===this.layoutParams.cardMode&&!o&&"products"!==e.type){var n=e.question&&"control_textarea"===e.question.type,r=n&&e.markdownEditor?"#"+e.question.qid+"_editor":'*[class*="jfInput"]',a=e.cardContainer.querySelector(r);setTimeout(function(){a&&a.focus(),n&&e.markdownEditor&&["Safari","Firefox"].indexOf(i)>-1&&e.markdownEditor.saveSelection()},500)}}},Cards.prototype.onEnableDisableField=function(e,t){var i=this;this.cards.filter(function(t){return t.question.id===e}).forEach(function(e){var o=e;o.isDisabled=!t;var n=o.cardContainer.querySelector(".jfCard-question");if(n.style.pointerEvents=t?"all":"none",["control_textarea","control_matrix"].indexOf(o.question.type)>-1&&setTimeout(function(){var e=t?n.removeEventListener:n.addEventListener;["click","mousedown","mouseup","mousemove","touchstart","touchend","touchmove","keydown","keyup","pointerup","pointerdown","pointermove"].forEach(function(t){e.call(n,t,i.eventBlocker,!0)})},500),t)o.cardContainer.querySelector(".jfQuestion-fields, [data-wrapper-react=true]").style.opacity=1;else{var r=o.cardContainer.querySelector(".jfCard-actions").querySelectorAll("button");(0,l.forEach)(r,function(e){(0,l.removeClass)(e,"conditionallyDisabled"),e.disabled=!1}),o.cardContainer.querySelector(".jfQuestion-fields, [data-wrapper-react=true]").style.opacity=.5}})},Cards.prototype.eventBlocker=function(e){e.preventDefault(),e.stopPropagation()},Cards.prototype.renderReCaptcha=function(t){var i=this;window.onload=function(){if(e.grecaptcha)if("invisible"===t&&document.querySelector("#recaptcha_invisible"))e.grecaptcha.render("recaptcha_invisible",{sitekey:"6LcG3CgUAAAAAGOEEqiYhmrAm6mt3BDRhTrxWCKb",size:"invisible",badge:"inline",callback:i.recaptchaCallback});else if("visible"===t&&document.querySelector("#recaptcha_visible")){e.grecaptcha.render("recaptcha_visible",{sitekey:"6LdU3CgUAAAAAB0nnFM3M3T0sy707slYYU51RroJ",size:i.layoutParams.currentCardSize<385?"compact":"normal"});var o=document.querySelector(".g-recaptcha-response");o&&(o.addClassName("validate[required]"),e.JotForm.setFieldValidation(o))}}},Cards.prototype.recaptchaCallback=function(){e.captchaFilled=!0,this.submitFormWithJS(document.querySelector(".jotform-form"))},Cards.prototype.submitFormWithJS=function(t){("mobile"!==this.layoutParams.deviceType||"mobile"===this.layoutParams.deviceType&&e.JotForm.validateAll())&&e.JotForm.disableButtons();var i=t.ownerDocument.createElement("input");i.style.display="none",i.type="submit",t.appendChild(i).click(),t.removeChild(i)},Cards.prototype.onCreditCardAddressVisibilityChanged=function(e){var t=this.cards.filter(function(e){return e.type===_.default.paymentCards.creditCard||e.type===_.default.paymentCards.address});t&&t.length&&(t.forEach(function(t){var i=t;i.forceHide=!e,i.wrapperContainer.style.display=e?"block":"none"}),this.setCardVisibility(t,e))},Cards.prototype.setCardActionMode=function(e,t){var i=e;i.actionsButtons.mode=t,i.actionsButtons.prev.style.display="last"===t||"middle"===t?"block":"none",i.actionsButtons.next.style.display="first"===t||"middle"===t?"block":"none",i.actionsButtons.submit.style.display="last"===t||"submit"===t?"block":"none","block"===i.actionsButtons.submit.style.display?((0,l.addClass)(i.actionsButtons.submit,"form-submit-button"),i.actionsButtons.submit.oldText=i.actionsButtons.submit.innerHTML):(0,l.removeClass)(i.actionsButtons.submit,"form-submit-button")},Cards.prototype.repositionActionButtons=function(){var e=this,t=this.getFirstVisibleIndex();if(-1!==t){for(var i=0,o=this.cards.length-1;o>=0;o--)if(!this.cards[o].isHidden){i=o;break}if(this.setMobilePrevNextQuestionButtons(this.layoutParams.currentCardIndex),t===i)return this.setCardActionMode(this.cards[t],"submit");this.setCardActionMode(this.cards[t],"first"),this.setCardActionMode(this.cards[i],"last"),this.cards.slice(t+1,i).forEach(function(t){e.setCardActionMode(t,"middle")})}},Cards.prototype.shortenHeaders=function(){if("form"===this.layoutParams.formMode){var e=this.layoutElements.welcomeWrapper.querySelector("#header_welcomePage"),t=this.layoutElements.welcomeWrapper.querySelector("#subHeader_welcomePage");this.shortenElementContent(e,150),this.shortenElementContent(t,150)}},Cards.prototype.hideHeader=function(){this.layoutElements.welcomeWrapper.style.opacity=0,this.layoutElements.welcomeWrapper.style.display="none"},Cards.prototype.showHeader=function(){this.layoutElements.welcomeWrapper.style.opacity=1,this.layoutElements.welcomeWrapper.style.display="block"},Cards.prototype.shortenElementContent=function(e,t){var i=e.textContent;i.length>t&&(e.setAttribute("title",i),e.textContent=i.slice(0,t)+"...")},Cards.prototype.onCalendarSelected=function(e,t){var i=this.cards.find(function(t){return t.cardContainer===e});this.datetimeHandler.onCalendarSelected(i,t)},Cards.prototype.onCalendarInit=function(e,t){var i=t.split("-")[2],o=this.cards.find(function(e){return e.question.id===i});this.datetimeHandler.onCalendarInit(o,e)},Cards.prototype.initBackgroundImageLoader=function(){var t=this,i=window.getComputedStyle(document.querySelector(".jfForm-backgroundContainer")||document.querySelector(".jfForm-wrapper")),o=i?i.getPropertyValue("background-image"):void 0,n=function(){var e=!1;return function(){if(!e){(0,l.removeClass)(document.body,"notLoaded");if((0,l.hasClass)(document.body,"isSmartEmbed")&&t.cards.length){var i=t.getFirstVisibleIndex();t.setCardIndex(i,!1,!0)}e=!0,"welcome"===t.layoutParams.formMode&&t.calculateWelcomeSize()}}}();if(o&&o.indexOf("url(")>-1){var r=o.split('"')[1],a=new e.Image(0,0);setTimeout(function(){n()},5e3);var s=setInterval(function(){if(a.complete){document.querySelector(".jfForm-backgroundUnderlay")&&setTimeout(function(){(0,l.addClass)(document.body,"backgroundImageReady")},125),n(),clearInterval(s)}},500);a.src=r}else n()},Cards.prototype.bindChangeEventForPressEnter=function(){},Cards.prototype.bindChangeEventForNextButtons=function(){var e=this,t=function(t){var i=(0,l.closest)(t.target,".form-line","body");if(i&&"control_address"!==i.getAttribute("data-type")){var o=e.cards.find(function(e){return e.formLine===i});if(e.validateCard(o,!1,!0)){var n=(0,l.closest)(t.target,".jfCard","body"),r=n.querySelector(".forNext");(0,l.hasClass)(r,"animateNextButton")||(0,l.addClass)(r,"animateNextButton")}}};setTimeout(function(){document.body.addEventListener("change",t),document.body.addEventListener("input",t)},100)},Cards.prototype.getInputNamesAndValues=function(){var e=document.forms[0].serialize().split("&").map(function(e){return{name:decodeURIComponent(e.split("=")[0]),value:decodeURIComponent(e.split("=")[1])}});return this.cards.forEach(function(t){var i=-1!==["control_radio","control_checkbox","control_imagechoice"].indexOf(t.question.type),o=-1!==["control_textarea"].indexOf(t.question.type);if(i){var n=t.cardContainer.querySelectorAll("input"),r=!0;(0,l.forEach)(n,function(t){if(t.checked&&(r=!1),r&&t.hasAttribute("data-otherhint")){e.find(function(e){return e.name===t.name}).empty=!0}}),r&&e.push({name:n[0].name,value:"",empty:!0})}if(o){var a=t.cardContainer.querySelectorAll("textarea");(0,l.forEach)(a,function(i){var o=t.markdownEditor?"#"+t.question.qid+"_editor":'*[class*="jfInput-textarea"]',n=t.cardContainer.querySelector(o),r=t.markdownEditor?n.innerHTML:n.value;e.push({name:i.name,value:r,empty:!0})})}}),e},Cards.prototype.getFormData=function(){var t=this,i=e.FormTranslation,o=function(t){if(t){var o=e.JotForm.decodeHtmlEntities(t).strip();return i.translate(o)}return null},n=this.getInputNamesAndValues(),r=n.reduce(function(e,n){var r=n.name,a=n.value,s=n.empty;if(r.indexOf("_")>-1&&0===r.split("_")[0].indexOf("q")){var d=document.forms[0][r];if(d.tagName||(0,l.forEach)(d,function(e){e.value===a&&(d=e)}),d.tagName||(d=d[0]),d.id.indexOf("addr_search")>-1)return e;var c=t.cards.find(function(e){return e.cardContainer===(0,l.closest)(d,".jfCard","body")}),u=e.find(function(e){return e.card===c});c&&i&&"to"in i&&(c.label=o(c.label)),u?u.elements.push(d):e.push({card:c,elements:[d],empty:s})}return e},[]).map(function(e){if(e.card){var t=null,i=e.empty?[]:e.elements.map(function(e){return t="select-multiple"===e.type?Array.from(e.querySelectorAll("option[selected]")).map(function(e){return e.value}).join(", "):null,{element:e,name:e.name,value:t||e.value}});return{card:e.card,label:e.card?e.card.label:"",valid:!(!e.card||!e.card.validate)&&e.card.validate(),inputs:i}}}).filter(function(e){return void 0!==e});return r.forEach(function(e){e.customDraw=t.getCardReviewCustomDraw(e.card,e.inputs)}),r.filter(function(e){return!e.card.isHidden})},Cards.prototype.getCardReviewCustomDraw=function(t,i){var o=this;if(t.type===_.default.paymentCards.products){var n=document.createElement("div"),r=document.createElement("div"),a=t.cardContainer;if((0,l.forEach)(a.querySelectorAll(".product"),function(t){var i=Array.from(t.childNodes).find(function(e){return"INPUT"===e.tagName});if(i&&i.checked){var o=t.querySelector(".product__title").innerHTML,a=document.createElement("span");a.appendChild(e.document.createTextNode(o+", ")),r.appendChild(a);var s=t.querySelectorAll(".jfProductOption");(0,l.forEach)(s,function(t,i){var o=t.getAttribute("data-name");if(o){var n=o,a=t.querySelector("select, input").value,l=document.createElement("span");l.appendChild(e.document.createTextNode(n+": "+a+(i<s.length-1?",":"")+" ")),r.appendChild(l)}});var d=t.querySelector(".jfSubProductTable");if(d){var c=d.cloneNode(!0);(0,l.forEach)(c.querySelectorAll("select, input"),function(t){if("SELECT"!==t.tagName&&("hidden"===t.type||"none"===t.style.display))return void t.parentNode.removeChild(t);var i=t.value;if(i&&"0"!==i){var o=(0,l.closest)(t,"td");(0,l.map)(o.childNodes,function(e){return e}).forEach(function(e){o.removeChild(e)}),o.appendChild(e.document.createTextNode(i))}else{var n=(0,l.closest)(t,"tr");n.parentNode.removeChild(n)}}),r.appendChild(c)}n.appendChild(r)}}),a.querySelector(".donation-wrapper")){var s=t.cardContainer.querySelector(".js-donationCurrency"),d=i&&i[0]&&i[0].value?i[0].value:"";n.appendChild(e.document.createTextNode(d+" "+(s&&s.textContent?s.textContent:"")))}else{var c=t.cardContainer.querySelector(".currency__left"),u=e.document.getElementById("payment_footer_total"),h=t.cardContainer.querySelector(".currency__right"),p=c&&c.textContent?c.textContent:"",m=h&&h.textContent?h.textContent:"",f=u&&u.textContent?u.textContent:"",y=document.createElement("span");y.appendChild(e.document.createTextNode("Total: "+p+f+m)),n.appendChild(y)}return n}if(t.type===_.default.paymentCards.creditCard){var v=document.createElement("span");return i.map(function(e){var t=e.value;return e.value?(0,l.hasClass)(e.element,"cc_number")?"************"+t.substring(t.length-4):t:null}).filter(function(e){return e}).forEach(function(t,o){var n=document.createElement("span"),r=t+(o<i.length-1?", ":"");n.appendChild(e.document.createTextNode(r)),v.appendChild(n)}),v}if("control_imagechoice"===t.question.type){if(i&&i.length){var g=document.createElement("div");return i.forEach(function(t,o){var n=t.element.parentElement.querySelector("[class*=-labelText]").innerHTML;if(n){var r=document.createElement("span");r.appendChild(e.document.createTextNode(n+(o<i.length-1?", ":""))),g.appendChild(r)}}),g}}else if("control_widget"===t.question.type&&i){var C=i[0];if(C){var b=document.createElement("div");try{var S=JSON.parse(C.value);S.widget_metadata.value.forEach(function(t,i){if(t&&t.name){var o=document.createElement("span");o.appendChild(e.document.createTextNode(t.name+(i<S.widget_metadata.value.length-1?", ":""))),b.appendChild(o)}})}catch(t){var E=document.createElement("span");E.appendChild(e.document.createTextNode(C.value)),b.appendChild(E)}return b}}else{if("control_signature"===t.question.type){var w=document.createElement("div"),P=new e.Image;return P.src=i[0].value,w.appendChild(P),w}if("control_matrix"===t.question.type&&i){var F=document.querySelector("#matrix_"+t.question.id),I=F.getAttribute("data-type");if("Radio Button"===I){var x=document.createElement("div");return i.forEach(function(t,n){var r=t.value,a="";if("mobile"===o.layoutParams.deviceType){var s=(0,l.closest)(t.element,".jfMatrix-choiceWrapper"),d=s.getAttribute("data-order"),c=(0,l.closest)(t.element,".jfMatrix").querySelectorAll(".jfMobileMatrix-question"),u=(0,l.map)(c,function(e){return e}).filter(function(e){return e.getAttribute("data-order")===d});a=u&&u[0]?u[0].innerHTML:""}else{a=(0,l.closest)(t.element,".jfMatrixTable-row").querySelectorAll(".jfMatrixTable-cell")[0].querySelector(".form-matrix-row-headers").innerHTML}x.appendChild(e.document.createTextNode(a+": "+r)),n<i.length-1&&x.appendChild(document.createElement("br"))}),x}}else{if("control_datetime"===t.question.type)return this.createDatetimeReviewString(i);if("control_textarea"===t.question.type&&t.markdownEditor&&t.markdownEditor.editorContainer){var k=e.document.createElement("span"),T=t.markdownEditor.editorContainer.childNodes;return(0,l.forEach)(T,function(e){var t=e.cloneNode(!0);k.appendChild(t)}),k}if("control_time"===t.question.type){var q=i.find(function(e){return e.name.indexOf("ampm")>-1}),A=document.createElement("div");return i.forEach(function(t,o){if(t&&t.value){var n=document.createElement("span"),r="";o<i.length-1&&(void 0!==q?(r=t.name.indexOf("[ampm]")>-1?", ":":",i[o+1]&&i[o+1].name.indexOf("ampm")>-1&&(r=" ")):r=i[o+1]&&i[o+1].name.indexOf("hourSelectRange")>-1?", ":":",i[o+1]&&i[o+1].name.indexOf("timeRangeDuration")>-1&&(r=" :")),n.appendChild(e.document.createTextNode(""+t.value+r)),A.appendChild(n)}}),A}if("control_mixed"===t.question.type){var L=document.createElement("div"),M=document.createElement("span"),B=i.filter(function(e){return e&&e.value&&""!==e.value});return B.forEach(function(t,i){M.appendChild(e.document.createTextNode(t.value+(i<B.length-1?", ":"")+" ")),L.appendChild(M)}),L}}}},Cards.prototype.createDatetimeReviewString=function(t){var i={year:"",month:"",day:"",hour:"",min:"",ampm:"",datetimeString:""};Object.keys(i).forEach(function(e){var o=t.findIndex(function(t){return t.name.indexOf("["+e+"]")>-1});i[e]=-1!==o?t[o].value:""});var o=new Date;i.year&&i.month&&i.day&&(o.setYear(i.year),o.setMonth(i.month-1),o.setDate(i.day),i.datetimeString=o.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})),i.hour&&i.min&&("AM"===i.ampm?"12"===i.hour&&(i.hour="0"):"PM"===i.ampm&&"12"!==i.hour&&(i.hour=parseInt(i.hour,10)+12),o.setHours(i.hour),o.setMinutes(i.min),i.datetimeString=i.datetimeString+" "+o.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}));var n=e.document.createTextNode(i.datetimeString);return document.createElement("span").appendChild(n)},Cards.prototype.prepareReviewMarkup=function(t){var i=this,o=e.document.querySelector("#reviewBeforeSubmit .js-reviewItemTemplate"),n=t.map(function(t){var n=o.cloneNode(!0);n.style.display="block";var r=i.cards.filter(function(e){return!e.isHidden}).indexOf(t.card)+1,a=n.querySelector(".js-reviewItemTitle"),s=n.querySelector(".js-reviewItemIndex"),d=n.querySelector(".js-reviewItemAnswer");if(n.querySelector(".js-reviewItemEditLink").addEventListener("click",function(){i.showFormPreview(!1,i.cards.indexOf(t.card))}),!t.valid){var c=n.querySelector(".jfReviewItem-header");(0,l.addClass)(c,"hasError")}var u=t.label?t.label.match(/([^{]*?)\w(?=\})/gim):null;if(u){var h=t.label;u.forEach(function(e){for(var t=void 0,o=0;o<i.cards.length;o++){if(t=i.cards[o].cardContainer.querySelector('span[class*="_'+e+'"]'))break}if(t&&""!==t.innerHTML){var n=new RegExp("{"+e+"}","g");h=h.replace(n,t.innerHTML)}}),a.appendChild(e.document.createTextNode(h))}else a.appendChild(e.document.createTextNode(t.label));if(s.appendChild(e.document.createTextNode(r)),t.customDraw)d.appendChild(t.customDraw);else{var p=t.inputs.map(function(e){return e.value}),m=p.filter(function(e,t){return e&&p.indexOf(e)===t});m.forEach(function(i,o){var n=document.createElement("span"),r=void 0;r="control_fullname"===t.card.question.type?i+(o<m.length-1?" ":""):i+(o<m.length-1?", ":""),n.appendChild(e.document.createTextNode(r)),d.appendChild(n)})}return n}),r=e.document.createElement("div");return r.className="js-reviewItemsContainer",n.sort(function(e,t){var i=e.querySelector(".js-reviewItemIndex").textContent/1,o=t.querySelector(".js-reviewItemIndex").textContent/1;return i>o?1:i<o?-1:0}),n.forEach(function(e){r.appendChild(e)}),r},Cards.prototype.showFormPreview=function(t,i){var o=this,n=e.document.getElementById("reviewBeforeSubmit"),r=n.querySelector(".js-reviewItemList");if(t){var a=n.querySelector(".js-reviewItemsContainer");a&&a.parentNode.removeChild(a);var s=this.prepareReviewMarkup(this.getFormData());r.appendChild(s),this.setFormMode("review")}else this.setFormMode("form",!1,!0),void 0!==i&&setTimeout(function(){return o.setCardIndex(i,!0)},0)},Cards.prototype.replaceSubmitWithReviewAndSubmit=function(){var t=this,i=this.cards[0].actionsButtons.submit.cloneNode(!0),o=this.cards[0].actionsButtons.submit.cloneNode(!0),n=this.layoutElements,r=n.mobileSubmitButton,a=n.mobileNavigationWrapper,s=r.cloneNode(!0);o.style.display="none",o.style.position="absolute",document.forms[0].appendChild(o),i.removeAttribute("style"),(0,l.addClass)(i,"form-submit-button");var d=this.layoutParams.reviewBeforeSubmit,c=d.reviewText,u=d.backText,h=function(e){e.textContent=c,e.type="button",(0,l.removeClass)(e,"form-submit-button"),(0,l.removeClass)(e,"forSubmit"),(0,l.removeClass)(e,"jsMobileSubmit"),(0,l.addClass)(e,"forReviewButton"),(0,l.addClass)(e,"forReview")};this.cards.forEach(function(e){h(e.actionsButtons.submit)}),h(this.layoutElements.mobileSubmitButton);var p=[i,s];(0,l.forEach)(p,function(e){return e.addEventListener("click",function(){o.click()})});var m=e.document.querySelector("#reviewBeforeSubmit .forReviewButton"),f=e.document.querySelectorAll("#reviewBeforeSubmit .forBackToForm, .jsMobileNavigation .forBackToForm");(0,l.forEach)(f,function(e){e.textContent=u,e.addEventListener("click",function(){t.showFormPreview(!1)})}),m.parentNode.replaceChild(i,m),e.document.addEventListener("click",function(e){if((0,l.closest)(e.target,".forReviewButton")){t.showFormPreview(!0);!!a.querySelector(".form-submit-button")||a.appendChild(s)}})},Cards.prototype.calculateAvailableHeightForFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.cards&&this.cards[0]){var t=(0,l.hasClass)(document.body,"isSmartEmbed"),i=document.getElementById("header_welcomePage").getBoundingClientRect(),o=document.getElementById("subHeader_welcomePage")?document.getElementById("subHeader_welcomePage").getBoundingClientRect():{height:0},n=o.height>2.9*i.height?3.9*i.height:i.height+o.height,r=document.getElementById("cardProgress").getBoundingClientRect(),a=document.querySelector(".formFooter")?document.querySelector(".formFooter").getBoundingClientRect().height:0,s=window.innerHeight,d=.05*s,c="mobile"===this.layoutParams.deviceType?60:54,u="mobile"===this.layoutParams.resolutionType?c+a:r.height+a;u=0===u?d:u,"form"===this.layoutParams.formMode&&(document.querySelector(".jfForm-wrapper").style.paddingBottom=t?0:u,document.querySelector(".jfForm-wrapper").style.paddingTop=t?0:d+n+("mobile"===this.layoutParams.deviceType?-15:0)),"mobile"===this.layoutParams.deviceType&&this.cards.forEach(function(e){if(e.label){for(var t=e.cardContainer.querySelector(".jfQuestion-label"),i=[0,100,200,300,400],o=["p1","p2","p3","p4","p5"],n=0;e.label.length>=i[n];)n++;n=0===n?0:n-1,t&&(0,l.addClass)(t,""+o[n])}}),this.calculateCardsHeight(e),this.handleFullScreenToggle()}},Cards.prototype.onFileUploadChanged=function(e){var t=this.cards.find(function(t){return t.question.id===e});if(t){var i=t.cardContainer.querySelectorAll(".qq-upload-list li");t.isFilled=i.length>0}},Cards.prototype.fillInitialValuesForEditMode=function(e){if("control_datetime"===e.question.type){var t=e.question.id,i=e.cardContainer.querySelector("#day_"+t),o=e.cardContainer.querySelector("#month_"+t),n=e.cardContainer.querySelector("#year_"+t);if(i.value&&o.value&&n.value){e.cardContainer.querySelector(".jfCardDateInput").value=n.value+"-"+o.value+"-"+i.value}}else if("control_rating"===e.question.type){var r=(0,l.map)(e.cardContainer.querySelectorAll(".jfRating-item.jfRating-selection"),function(e){return e}),a=r.findIndex(function(e){return!0===e.querySelector("input").checked});if(a>-1){for(var s=0;s<=a;s++)(0,l.addClass)(r[s],"checked");var d=document.querySelector('input[name="q'+e.question.id+'_stars"]');d.value=a+parseInt(d.dataset.lowest,10)}}},Cards.prototype.isVisibleIndex=function(e){var t=this.cards[e];return t&&!t.isHidden},Cards.prototype.getFirstVisibleIndex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?this.cards.findIndex(function(t){return!t.isHidden&&t.question.type===e}):this.cards.findIndex(function(e){return!e.isHidden})},Cards.prototype.getLastVisibleIndex=function(){for(var e=0,t=this.cards.length-1;t>=0;t--)if(!this.cards[t].isHidden){e=t;break}return e},Cards.prototype.getQuestionIdFromUrlHash=function(e){var t=e.match(/#([0-9]+)/);return!!t&&t[1]},Cards.prototype.onLocationHashChange=function(){var t=e.location.href||"",i=this.getQuestionIdFromUrlHash(t),o=i?parseInt(i,10)-1:0;if(o!==this.layoutParams.currentCardIndex){if(this.isVisibleIndex(o))return void this.setCardIndex(o);var n=this.getFirstVisibleIndex();this.setCardIndex(n)}},Cards.prototype.setDropdownInitialValues=function(){this.dropdown.setInitialValues()},Cards.prototype.onFormTranslated=function(){this.translateDefaultCardFormTexts(),this.translateSectionHeader(),this.updateMatrixLayout()},Cards.prototype.translateDefaultCardFormTexts=function(){var t=e.FormTranslation;if(t){var i=[".cardProgress-goBack",".jfWelcome-sectionInfo-text",".js-sacl-saved",".js-sacl-valid-email",".js-sacl-error",".js-sacl-textarea",".js-sacl-title",".js-emailSent-feedback",".js-saveContinueSendEmail",".js-sacl-link",".js-sacl-share",".js-sacl-state-text",".js-saveContinueTryAgain",".jfUpload-button",".jfUpload-heading .forDesktop",".jfUpload-heading .forMobile",".jfUpload-subheading .minFileSize",".jfUpload-subheading .maxFileSize"];(0,l.forEach)(i,function(e){var i=document.querySelector(e);if(i){var o=i.innerHTML,n=t.originalFormElements.filter(function(e){return e.element===i}),r=n&&n[0]&&n[0].html;if(i&&o){var a=t.translateCardTexts(r);i.innerHTML=a||r}}})}},Cards.prototype.translateSectionHeader=function(){var t=e.FormTranslation;if(t){var i=this.currentHeader,o=function(i){if(i){var o=e.JotForm.decodeHtmlEntities(i).strip();return t.translate(o)}return null},n=this.layoutElements,r=n.welcomeHeaderContainer,a=n.welcomeSubHeaderContainer,s=n.welcomeSectionInfoText,l=o(i.props.text.value);l&&(r.innerHTML=l);var d=o(i.props.subHeader.value);if(d&&(a.innerHTML=d),i.props.showQuestionCount&&"Yes"===i.props.showQuestionCount.value){var c=s.innerHTML,u=t.cardTexts,h=t.to;u&&h&&u[h]&&c&&(s.innerHTML=u[h][c]?u[h][c]:c)}var p="Next";i===this.welcomePageProps&&i.props.buttonText&&i.props.buttonText.value?p=i.props.buttonText.value:i.props.nextButtonText&&i.props.nextButtonText.value&&(p=i.props.nextButtonText.value);var m=i.props.previousButtonText&&i.props.previousButtonText.value?i.props.previousButtonText.value:"Previous",f=o(p);f&&(this.layoutElements.startButton.innerHTML=f);var y=o(m);y&&(this.layoutElements.previousButton.innerHTML=y)}},Cards.prototype.setInitialSelectionForMatrixSliders=function(e){var t=this.cards.find(function(t){return t.question.id==e}).question;!!(t&&t.componentClass&&t.componentClass.sliders&&t.componentClass.sliders.length>0)&&t.componentClass.sliders.forEach(function(e){e.slider.makeInitialSelection()})},Cards.prototype.updateMatrixLayout=function(){this.layoutParams.questions.forEach(function(t){"control_matrix"===t.type&&e.JotForm.setMatrixLayout(t.id)})},Cards.prototype.clearAddressFields=function(){var t=e.document.getElementsByClassName("jfAddress-clean");(0,l.forEach)(t,function(e){return(0,l.removeClass)(e,"jfAddress-clean")})},Cards.prototype.calculateWelcomeSize=function(){var t=document.querySelector(".jfWelcome-wrapper"),i=document.querySelector(".jfForm-background-mask"),o=t.cloneNode(!0);o.style.height="auto",o.style.visibility="hidden",-1!==e.location.href.indexOf("nofs=1")&&(o.style.position="absolute",o.style.visibility="visible"),t.parentElement.appendChild(o),i.style.width=o.getBoundingClientRect().width,i.style.height=o.getBoundingClientRect().height,t.parentElement.removeChild(o)},Cards.prototype.calculateCardsHeight=function(t){var i=e.location.href.indexOf("forceCardHeightCalc=true")>=0;(i||"mobile"!==this.layoutParams.deviceType)&&(!i&&this.isFeedbackEmbedButton||(null===t?this.cards.forEach(this.calculateCardHeight):this.calculateCardHeight(this.cards[t])))},Cards.prototype.calculateCardHeight=function(e){var t=e,i=this.layoutElements.formWrapper.clientHeight,o=function(e){return parseInt(window.getComputedStyle(e).fontSize.replace("px",""),10)},n=function(e){var t=e;t.style.fontSize=o(t)-2+"px"},r=function(e){return e.questionContainer.scrollHeight>e.questionContainer.clientHeight},a=function(e){var t=parseInt(window.getComputedStyle(e).lineHeight.replace("px",""),10);return e.clientHeight<=t},s=t.cardContainer.querySelector(".jfQuestion-label"),l=null!==t.actionButtonsWrapper&&t.actionButtonsWrapper.getBoundingClientRect().height,d=t.cardContainer.querySelector(".form-button-error");if("scroll"===this.layoutParams.cardMode&&(l/=this.layoutParams.cardScrollScale),t.hasSubmit&&d&&(i-=d.getBoundingClientRect().height),t.cardContainer.style.maxHeight=i+"px",t.questionContainer.style.maxHeight=i-l+"px",t.questionContainer.style.overflowY="auto",s&&function(e){var t=e;t.style.maxHeight="unset",t.style.overflowY="unset"}(s),r(t)){var c=t.cardContainer.querySelector(".jfQuestion-description");if(s||c){var u=0,h=0;s&&(u=o(s)),c&&(h=o(c));for(var p=0;r(t)&&(!a(s)&&u>this.minLabelFontSize||h>this.minDescFontSize)&&(s&&u>this.minLabelFontSize&&(a(s)||n(s),u=o(s)),c&&h>this.minDescFontSize&&(n(c),h=o(c)),!(++p>10)););}}},Cards.prototype.setLanguageDropdownVisibility=function(e){var t=document.querySelector("#langDd");t&&(e>0?t.classList.add("firstPageOnly"):t.classList.remove("firstPageOnly"))},Cards.prototype.handleWidgetsVisibility=function(t){var i=t.question,o=i.id;"control_widget"===i.type&&e.JotForm.showWidget(o)},Cards.prototype.checkConditionOnCurrentCard=function(){var t=this.getCurrentCard(),i=t&&t.question&&t.question.id;e.JotForm.conditions.each(function(t){var o=!0;i&&(o=Array.isArray(t.terms)&&t.terms.some(function(e){return e.field===i.toString()})),o&&e.JotForm.checkCondition(t)})},r(Cards,[{key:"visibleCards",get:function(){var e=this;return this.cards.filter(function(t,i){return!!e.isVisibleIndex(i)&&t})}},{key:"isFeedbackEmbedButton",get:function(){return-1!==window.location.href.indexOf("?feedbackEmbedButton")}},{key:"isContinueLaterActivated",get:function(){return!!this.hiddenSubmissionSessionID&&!this.isEditMode()}},{key:"hiddenSubmissionSessionID",get:function(){return e.JotForm.sessionID||(e.JotForm.sessionID=document.get.session),e.JotForm.sessionID}},{key:"isPreviewMode",get:function(){return e.location&&e.location.href.indexOf("preview=true")>=0}},{key:"isFullscreenFormEnabled",get:function(){var e=this.layoutParams.fullscreenForm&&this.layoutParams.isEmbed,t="mobile"===this.layoutParams.deviceType,i=this.isFeedbackEmbedButton,o=this.isPreviewMode,n=this.isEditMode(),r=1===this.cards.length&&"form"===this.layoutParams.formMode;return(t||i||o||n||r)&&(e=!1),e}}]),Cards}();t.default=K,e.CardLayout=K}).call(t,i(6))},4808:function(e,t,i){!function(t,o,n){void 0!==e&&e.exports?e.exports=n():i(4809)("bowser",n)}(0,0,function(){function detect(t){function getFirstMatch(e){var i=t.match(e);return i&&i.length>1&&i[1]||""}function getSecondMatch(e){var i=t.match(e);return i&&i.length>1&&i[2]||""}var i,o=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),n=/like android/i.test(t),r=!n&&/android/i.test(t),a=/nexus\s*[0-6]\s*/i.test(t),s=!a&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),d=/silk/i.test(t),c=/sailfish/i.test(t),u=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),p=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!p&&/windows/i.test(t)),f=!o&&!d&&/macintosh/i.test(t),y=!r&&!c&&!u&&!h&&/linux/i.test(t),v=getSecondMatch(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=getFirstMatch(/version\/(\d+(\.\d+)?)/i),C=/tablet/i.test(t)&&!/tablet pc/i.test(t),b=!C&&/[^-]mobi/i.test(t),S=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:g||getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:g||getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:getFirstMatch(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:getFirstMatch(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:g||getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:getFirstMatch(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:g||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},v?(i.msedge=e,i.version=v):(i.msie=e,i.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:v}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i)||g}:c?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):d?i={name:"Amazon Silk",silk:e,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:g||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",osname:"WebOS",webos:e,version:g||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:u?i={name:"Tizen",osname:"Tizen",tizen:e,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?i={name:"Android",version:g}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},g&&(i.version=g)):o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},g&&(i.version=g)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:getFirstMatch(/googlebot\/(\d+(\.\d+))/i)||g}:{name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&g&&(i.version=g)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!r&&!i.silk?!i.windowsphone&&o?(i[o]=e,i.ios=e,i.osname="iOS"):f?(i.mac=e,i.osname="macOS"):S?(i.xbox=e,i.osname="Xbox"):m?(i.windows=e,i.osname="Windows"):y&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var E="";i.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?E=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?(E=getFirstMatch(/Mac OS X (\d+([_\.\s]\d+)*)/i),E=E.replace(/[_\s]/g,".")):o?(E=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i),E=E.replace(/[_\s]/g,".")):r?E=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):i.webos?E=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?E=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?E=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(E=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(i.osversion=E);var w=!i.windows&&E.split(".")[0];return C||s||"ipad"==o||r&&(3==w||w>=4&&!b)||i.silk?i.tablet=e:(b||"iphone"==o||"ipod"==o||r||a||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===compareVersions([i.version,"1.0"])||i.mzbrowser&&1===compareVersions([i.version,"6.0"])||i.focus&&1===compareVersions([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}function getVersionPrecision(e){return e.split(".").length}function map(e,t){var i,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i++)o.push(t(e[i]));return o}function compareVersions(e){for(var t=Math.max(getVersionPrecision(e[0]),getVersionPrecision(e[1])),i=map(e,function(e){var i=t-getVersionPrecision(e);return e+=new Array(i+1).join(".0"),map(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(i[0][t]>i[1][t])return 1;if(i[0][t]!==i[1][t])return-1;if(0===t)return 0}}function isUnsupportedBrowser(e,i,o){var n=t;"string"==typeof i&&(o=i,i=void 0),void 0===i&&(i=!1),o&&(n=detect(o));var r=""+n.version;for(var a in e)if(e.hasOwnProperty(a)&&n[a]){if("string"!=typeof e[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return compareVersions([r,e[a]])<0}return i}function check(e,t,i){return!isUnsupportedBrowser(e,t,i)}var e=!0,t=detect("undefined"!=typeof navigator?navigator.userAgent||"":"");return t.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in t)return!0}return!1},t.isUnsupportedBrowser=isUnsupportedBrowser,t.compareVersions=compareVersions,t.check=check,t._detect=detect,t.detect=detect,t})},4809:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},4810:function(e,t,i){"use strict";(function(e){var t=0;void 0===e.Symbol&&(e.Symbol=function(e){return"__"+e+"_"+Math.floor(1e9*Math.random())+"_"+ ++t+"__"},e.Symbol.iterator=e.Symbol("Symbol.iterator")),function(e){"window"in e&&"document"in e&&function(){function FormData(e){if(this._data=[],e)for(var t=0;t<e.elements.length;++t){var i=e.elements[t];""!==i.name&&this.append(i.name,i.value)}}function newIterator(e,t){return{next:function(){return this._i>=this._data.length?{done:!0}:(++this._i,{done:!1,value:t(this._data[this._i-1])})},_i:0,_data:e}}if(!("FormData"in e&&"set"in e.FormData.prototype)){FormData.prototype={append:function(t,i,o){var n=String(t),r=i;"Blob"in e&&i instanceof e.Blob&&(r=new File(i,"blob")),o&&"File"in e&&i instanceof e.File&&(r=new File(r,o)),this._data.push([n,r])},toString:function(){return this._data.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&")}},FormData.prototype.set=function(t,i,o){for(var n=!1,r=0;r<this._data.length;++r)this._data[r][0]===t&&(n?(this._data.splice(r,1),--r):(this._data[r][1]=i,o&&"File"in e&&i instanceof e.File&&(this._data[r][1].name=o),n=!0));n||this.append(t,i,o)},FormData.prototype.get=function(e){for(var t=0;t<this._data.length;++t)if(this._data[t][0]===e)return this._data[t][1];return null},FormData.prototype.getAll=function(e){for(var t=[],i=0;i<this._data.length;++i)this._data[i][0]===e&&t.push(this._data[i][1]);return t},FormData.prototype.has=function(e){return null!==this.get(e)},FormData.prototype.delete=function(e){for(var t=0;t<this._data.length;++t)this._data[t][0]===e&&(this._data.splice(t,1),--t)},FormData.prototype.entries=function(){return newIterator(this._data,function(e){return[e[0],e[1]]})},FormData.prototype.keys=function(){return newIterator(this._data,function(e){return e[0]})},FormData.prototype.values=function(){return newIterator(this._data,function(e){return e[1]})},FormData.prototype[Symbol.iterator]=function(){return this._data[Symbol.iterator]()},e.FormData=FormData;var t=e.XMLHttpRequest.prototype.send;e.XMLHttpRequest.prototype.send=function(e){return e instanceof FormData&&(this.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),arguments[0]=e.toString()),t.apply(this,arguments)}}}()}(self)}).call(t,i(6))},4811:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function Progress(e){_classCallCheck(this,Progress),this.selectIndex=this.selectIndex.bind(this),this.setValidIndexes=this.setValidIndexes.bind(this),this.setInvalidIndexes=this.setInvalidIndexes.bind(this),this.setIndexVisibility=this.setIndexVisibility.bind(this),this.setCurrentIndexText=this.setCurrentIndexText.bind(this),this.getVisibleIndex=this.getVisibleIndex.bind(this),this.bindSwipeOverviewMode=this.bindSwipeOverviewMode.bind(this),this.populateProgressItems=this.populateProgressItems.bind(this),this.hideProgressBar=this.hideProgressBar.bind(this),this.showProgressBar=this.showProgressBar.bind(this),this.setFirstLastCellClasses=this.setFirstLastCellClasses.bind(this),this.setQuestionOrderNumbers=this.setQuestionOrderNumbers.bind(this),this.shouldProgressDisplayed=this.shouldProgressDisplayed.bind(this),this.init=this.init.bind(this),this.init(e)}return Progress.prototype.init=function(e){var t=this;this.layoutElements={progress:document.getElementById("cardProgress"),progressItems:null,progressToggle:document.getElementById("cardProgressToggle"),progressCurrentIndexText:document.getElementById("cardProgress-currentIndex"),progressQuestionCountText:document.getElementById("cardProgress-questionCount"),progressItemsLine:document.getElementsByClassName("jfProgress-itemWrapperLine")[0],progressItemWrapper:document.getElementsByClassName("jfProgress-itemWrapper")[0]},this.isFormProgressVisible=e.isFormProgressVisible,this.populateProgressItems(e.items),this.layoutElements.progressItems=this.layoutElements.progress.querySelectorAll(".jfProgress-item"),this.layoutElements.progressItemCells=this.layoutElements.progress.querySelectorAll(".jfProgress-itemCell"),this.cards=e.cards,this.layoutParams={items:e.items,selectedIndex:e.selectedIndex||0,hiddenIndexes:e.hiddenIndexes||[],validIndexes:e.validIndexes||[],invalidIndexes:e.invalidIndexes||[],deviceType:e.deviceType,isHidden:!1,isFeedbackEmbedButton:e.isFeedbackEmbedButton,isSaveAndContinueLaterActivated:e.isSaveAndContinueLaterActivated},this.layoutParams.hiddenIndexes.forEach(function(e,i){e&&(0,o.addClass)(t.layoutElements.progressItemCells[i],"isHidden")});var i=this.events={onFormOverviewClicked:e.onFormOverviewClicked,onItemSelected:e.onItemSelected},n=this.layoutElements,r=n.progressToggle,a=n.progressItems;r.addEventListener("click",function(){i.onFormOverviewClicked()}),this.bindSwipeOverviewMode(),(0,o.forEach)(a,function(e){!function(t){e.addEventListener("click",function(){i.onItemSelected(t)})}(+e.getAttribute("data-index"))}),this.setCurrentIndexText(),this.setFirstLastCellClasses(),this.setQuestionOrderNumbers(),this.shouldProgressDisplayed()||this.hideProgressBar()},Progress.prototype.bindSwipeOverviewMode=function(){var e=this,t=null,i=null;document.addEventListener("touchstart",function(e){t=(0,o.closest)(e.target,"#cardProgressToggle")?e.touches[0].screenY:null}),document.addEventListener("touchmove",function(e){i=e.touches[0].screenY}),document.addEventListener("touchend",function(){if(null!==t&&null!==i){var n=(0,o.hasClass)(document.body,"onScrollMode"),r=i-t;r=n?r:0-r,r>=70&&e.events.onFormOverviewClicked()}t=null,i=null})},Progress.prototype.selectIndex=function(e){(0,o.removeClass)(this.layoutElements.progressItems[this.layoutParams.selectedIndex],"isActive"),this.layoutParams.selectedIndex=e,(0,o.addClass)(this.layoutElements.progressItems[this.layoutParams.selectedIndex],"isActive"),this.layoutElements.progressCurrentIndexText.innerText=this.getVisibleIndex(this.layoutParams.selectedIndex)+1+" "},Progress.prototype.setValidIndexes=function(e){this.layoutParams.validIndexes=e,(0,o.forEach)(this.layoutElements.progressItems,function(t,i){e.indexOf(i)>-1?((0,o.removeClass)(t,"hasError"),(0,o.addClass)(t,"isValid")):(0,o.removeClass)(t,"isValid")})},Progress.prototype.getVisibleIndex=function(e){var t=this;return e-this.layoutParams.items.slice(0,e).reduce(function(e,i,o){return t.layoutParams.hiddenIndexes[o]?e+1:e},0)},Progress.prototype.setCurrentIndexText=function(){var e=this,t=this.layoutParams.items.filter(function(t,i){return!e.layoutParams.hiddenIndexes[i]}).length;this.layoutElements.progressQuestionCountText.innerText=" "+t,this.layoutElements.progressCurrentIndexText.innerText=this.getVisibleIndex(this.layoutParams.selectedIndex)+1+" "},Progress.prototype.setValidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,o.removeClass)(t,"hasError"),(0,o.addClass)(t,"isValid")},Progress.prototype.setInvalidIndexes=function(e){this.layoutParams.invalidIndexes=e,(0,o.forEach)(this.layoutElements.progressItems,function(t,i){e.indexOf(i)>-1?((0,o.removeClass)(t,"isValid"),(0,o.addClass)(t,"hasError")):(0,o.removeClass)(t,"hasError")})},Progress.prototype.setInvalidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,o.removeClass)(t,"isValid"),(0,o.addClass)(t,"hasError")},Progress.prototype.setIndexVisibility=function(e,t){t?(0,o.removeClass)(this.layoutElements.progressItemCells[e],"isHidden"):(0,o.addClass)(this.layoutElements.progressItemCells[e],"isHidden"),this.layoutParams.hiddenIndexes[e]=!t,this.setCurrentIndexText(),this.setFirstLastCellClasses(),this.setQuestionOrderNumbers(),this.shouldProgressDisplayed()?this.showProgressBar():this.hideProgressBar()},Progress.prototype.unsetInvalidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,o.removeClass)(t,"hasError")},Progress.prototype.unsetValidIndex=function(e){var t=this.layoutElements.progressItems[e];(0,o.removeClass)(t,"isValid")},Progress.prototype.populateProgressItems=function(e){var t=this.layoutElements.progress.querySelector(".jfProgress-itemCell"),i=e.map(function(e,i){var o=t.cloneNode(!0);return o.querySelector(".jfProgress-item").setAttribute("data-index",i),o.querySelector(".jfProgress-itemLabel").innerText=""+e.label,o}),o=t.parentNode;o.removeChild(t),i.forEach(function(e){o.appendChild(e)})},Progress.prototype.hideProgressBar=function(){this.layoutElements.isHidden||((0,o.addClass)(this.layoutElements.progress,"isHidden"),this.layoutElements.isHidden=!0)},Progress.prototype.showProgressBar=function(){this.layoutElements.isHidden&&((0,o.removeClass)(this.layoutElements.progress,"isHidden"),this.layoutElements.isHidden=!1)},Progress.prototype.setFirstLastCellClasses=function(){for(var e=!1,t=!1,i=0;i<this.layoutElements.progressItemCells.length;i++){var n=this.layoutElements.progressItemCells[i];e?(0,o.removeClass)(n,"isFirst"):(0,o.hasClass)(n,"isHidden")?(0,o.removeClass)(n,"isFirst"):(e=!0,(0,o.addClass)(n,"isFirst"))}for(var r=this.layoutElements.progressItemCells.length-1;r>=0;r--){var a=this.layoutElements.progressItemCells[r];t?(0,o.removeClass)(a,"isLast"):(0,o.hasClass)(a,"isHidden")?(0,o.removeClass)(a,"isLast"):(t=!0,(0,o.addClass)(a,"isLast"))}},Progress.prototype.setQuestionOrderNumbers=function(){var e=this,t=[];(0,o.forEach)(this.layoutElements.progressItemCells,function(e,i){(0,o.hasClass)(e,"isHidden")||t.push({cell:e,index:i})}),(0,o.forEach)(t,function(t,i){e.layoutElements.progressItems[t.index].querySelector(".jfProgress-itemLabel").innerText=i+1+". "+e.cards[t.index].label})},Progress.prototype.shouldProgressDisplayed=function(){var e=this;if("mobile"===this.layoutParams.deviceType||this.layoutParams.isFeedbackEmbedButton)return!0;return this.layoutParams.items.filter(function(t,i){return!e.layoutParams.hiddenIndexes[i]}).length>=4},Progress}();t.default=n},4812:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=i(9),r=i(4645),a=i(4813),s=i(4814),l=_interopRequireDefault(s),d=i(4816),c=_interopRequireDefault(d),u=i(4817),h=_interopRequireDefault(u),p=function(){function Patch(t){_classCallCheck(this,Patch),this.params=t,this.formID=t.formID,this.storageEngine=t.storageEngine,this.continueLater=t.continueLater,this.showTooltip=t.showTooltip,this.patchSubmit=this.patchSubmit.bind(this),this.postFormData=this.postFormData.bind(this),this.patchErrored=this.patchErrored.bind(this),this.patchCorrected=this.patchCorrected.bind(this),this.patchDateTime=this.patchDateTime.bind(this),this.patchShowHideFields=this.patchShowHideFields.bind(this),this.patchRequireField=this.patchRequireField.bind(this),this.patchEnableDisableField=this.patchEnableDisableField.bind(this),this.patchCreditCardAddressVisibilityChanged=this.patchCreditCardAddressVisibilityChanged.bind(this),this.patchFileUploaderTemplates=this.patchFileUploaderTemplates.bind(this),this.patchIsVisible=this.patchIsVisible.bind(this),this.patchHandleSavedForm=this.patchHandleSavedForm.bind(this),this.patchHandlePaymentSubProducts=this.patchHandlePaymentSubProducts.bind(this),this.patchSetSubmissionID=this.patchSetSubmissionID.bind(this),this.patchInitShoppingBag=this.patchInitShoppingBag.bind(this),this.patchInitProductPages=this.patchInitProductPages.bind(this),this.patchInitDonation=this.patchInitDonation.bind(this),this.patchSubmit(),this.patchErrored(),this.patchCorrected(),this.patchDateTime(),this.patchShowHideFields(),this.patchRequireField(),this.patchEnableDisableField(),this.patchCreditCardAddressVisibilityChanged(),this.patchFileUploaderTemplates(),this.patchIsVisible(),this.patchHandleSavedForm(),this.patchSetSubmissionID(),this.patchHandlePaymentSubProducts(),this.patchInitShoppingBag(),this.patchInitProductPages(),this.patchInitDonation(),e.JotForm.isFullScreen=function(){return(0,n.hasClass)(document.body,"isFullScreen")},e.JotForm.getContainer=function(t){return e.JotForm.isFullScreen()?document.getElementById("jfQuestion-proxy"):(0,n.closest)(t,".jfCard")},this.checkFieldFilledClass=this.checkFieldFilledClass.bind(this)}return Patch.prototype.patchSubmit=function(){var t=this;document.querySelector(".jotform-form").addEventListener("submit",function(i){"invisible"===t.params.captchaMode&&e.grecaptcha&&!e.captchaFilled&&e.JotForm.validateAll(i.target)?(i.preventDefault(),i.stopImmediatePropagation(),e.grecaptcha.execute(),e.JotForm.enableButtons()):t.params.onSubmit&&t.params.onSubmit(i)})},Patch.prototype.postFormData=function(t,i,o){var n=new e.XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?o():o(n.status);n.send(i)}},Patch.prototype.getFormData=function(e){var t=function(e,t){var i=t;return e&&(i=[e],i.push(t)),i};return function(e){var i=e.elements,o={},n=0,r=null;for(n=0;n<i.length;n+=1)switch(r=i[n],r.type){case"submit":break;case"radio":r.checked&&(o[r.name]=r.value);break;case"checkbox":r.checked&&(o[r.name]=t(o[r.name],r.value));break;default:o[r.name]=t(o[r.name],r.value)}return o}(e)},Patch.prototype.patchHandleSavedForm=function(){var t=this;if(e.JotForm.handleSavedForm){var i=e.JotForm.handleSavedForm;e.JotForm.handleSavedForm=function(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];var s=(0,n.makeHiddenSubmissionKey)(t.formID),l=e.JotForm,d=l.sessionID,c=l.submissionToken,u=l.submissionID,h=t.continueLater.useStorage&&t.storageEngine.isAvailable()?t.storageEngine.get(s):null;!h||d&&c&&u||(h=(0,n.parseJSON)(h),h||t.storageEngine.delete(s),e.JotForm.sessionID=h.sessionID,e.JotForm.submissionToken=h.submissionToken,e.JotForm.submissionID=h.submissionID);var p=e.document.forms[0];if(e.JotForm.submissionToken){var m=(0,n.createInput)({type:"hidden",name:"submission_token",id:"submission_token",value:e.JotForm.submissionToken});p.appendChild(m)}if(e.JotForm.submissionID){var f=(0,n.createInput)({type:"hidden",name:"submission_id",id:"submission_id",value:e.JotForm.submissionID});p.appendChild(f)}if(e.JotForm.sessionID){var y=(0,n.createInput)({type:"hidden",name:"session_id",id:"session",value:e.JotForm.sessionID});p.appendChild(y),i.call.apply(i,[e.JotForm].concat(r))}}}},Patch.prototype.patchSetSubmissionID=function(){if(e.JotForm.setSubmissionID){var t=e.JotForm.setSubmissionID;e.JotForm.setSubmissionID=function(){for(var i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];t.call.apply(t,[e.JotForm].concat(o))}}},Patch.prototype.patchErrored=function(){var t=this;e.JotForm.errored&&(e.JotForm.errored=function(i,o,a,s){var l=i,d=o.replace(/<br>/g,""),c=e.JotForm.isFullScreen();if(a)return!1;if(l.errored)return!1;var u=l.parentElement.querySelector(".jfCheckbox-otherInputField"),h=l.parentElement.querySelector(".jfRadio-otherInputField");if((0,n.hasClass)(l,"jfCheckbox-otherInput")&&null!==u&&""===u.value&&l.checked){var p=(0,n.closest)(l,".jfField",".jfCard");(0,n.addClass)(p,"hasOtherError")}else if((0,n.hasClass)(l,"jfRadio-otherInput")&&null!==h&&""===h.value&&l.checked){var m=(0,n.closest)(l,".jfField",".jfCard");(0,n.addClass)(m,"hasOtherError")}if(s===r.ERROR_TYPES.TOOLTIP&&t.showTooltip(l,{message:d,type:r.TOOLTIP_TYPES.ERROR}),l.id&&l.id.indexOf("disabled")>0)return!0;l.errored=!0,l.errorMessage=o,(0,n.addClass)(l,"form-validation-error");var f=e.JotForm.getContainer(l);if(c)(0,n.addClass)(f,"hasError");else{var y=(0,n.closest)(l,".form-line");(0,n.addClass)(y,"form-line-error")}var v=c?f:f.querySelector(".jfCard-actionsNotification"),g=f.querySelector(".jsMobileErrorWrapper"),C=function(t,i,o,n){if(!t.querySelector("."+i)){var r=new e.Element("div",{className:n?i+" jfCard-error":i});r.textContent=d,o&&(n?o.prepend(r):o.appendChild(r))}};return s!==r.ERROR_TYPES.TOOLTIP&&(C(f,"form-error-message",v,c),C(f,"form-mobile-error-message",g,!1)),t.params.onFieldErrored&&t.params.onFieldErrored(l),!1})},Patch.prototype.patchCorrected=function(){var t=this;e.JotForm.corrected&&(e.JotForm.corrected=function(i){var o=i;o.errored=!1;var r=(0,n.closest)(o,".form-line"),a=e.JotForm.getContainer(o);if(!a)return!0;if((0,n.removeClass)(a,"hasError"),o.id&&o.id.indexOf("disabled")>0)return!0;var s=o.parentElement.querySelector(".jfCheckbox-otherInputField"),l=o.parentElement.querySelector(".jfRadio-otherInputField");if((0,n.hasClass)(o,"jfCheckbox-otherInput")&&null!==s&&(!o.checked||""!==s.value&&o.checked)){var d=(0,n.closest)(o,".jfField",".jfCard");(0,n.removeClass)(d,"hasOtherError")}else if((0,n.hasClass)(o,"jfRadio-otherInput")&&null!==l&&(!o.checked||""!==l.value&&o.checked)){var c=(0,n.closest)(o,".jfField",".jfCard");(0,n.removeClass)(c,"hasOtherError")}(0,n.removeClass)(o,"form-validation-error");var u=a.querySelectorAll(".form-validation-error");void 0!==r&&"function"==typeof r.getAttribute&&"control_matrix"===r.getAttribute("data-type")&&Array.prototype.forEach.call(u,function(e){(0,n.removeClass)(e,"form-validation-error")}),r&&0===r.querySelectorAll(".form-validation-error").length&&(0,n.removeClass)(r,"form-line-error");var h=a.querySelectorAll(".form-error-message, .form-mobile-error-message");return h&&0===u.length&&Array.prototype.forEach.call(h,function(e){e.parentElement.removeChild(e)}),t.params.onFieldCorrected&&t.params.onFieldCorrected(o),!0})},Patch.prototype.patchDateTime=function(){var t=this;if(e.Calendar){var i=this;this.originalCalendarSetup=e.Calendar.setup;var o=this.checkFieldFilledClass;e.Calendar.setup=function(e){function selectHandler(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=t[0];r.call.apply(r,[this].concat(t)),o(s.dateField);var l=(0,n.closest)(t[0].dateField,".jfCard");i.params.onCalendarSelected(l,t[1])}var r=e.selectHandler,a=t.originalCalendarSetup({dateField:e.dateField,parentElement:e.parentElement,triggerElement:e.triggerElement,startOnMonday:e.startOnMonday,limits:e.limits,selectHandler:selectHandler});return i.params.onCalendarInit(a,e.parentElement),a}}},Patch.prototype.checkFieldFilledClass=function(e){e.validateInput&&e.validateInput()},Patch.prototype.patchShowHideFields=function(){var t=this,i=e.JotForm,o=i.showField,n=i.hideField;e.JotForm.showField=function(){for(var i,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o.call.apply(o,[e.JotForm].concat(r));(i=t.params.onFieldVisibilityChanged).call.apply(i,[null,s,!0].concat(r))},e.JotForm.hideField=function(){for(var i,o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];var s=n.call.apply(n,[e.JotForm].concat(r));(i=t.params.onFieldVisibilityChanged).call.apply(i,[null,s,!1].concat(r))}},Patch.prototype.patchRequireField=function(){var t=this,i=e.JotForm.requireField;e.JotForm.requireField=function(){for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];var a=n[0],s=n[1];i.call.apply(i,[e.JotForm].concat(n)),t.params.onRequireField.call(null,a,s)}},Patch.prototype.patchEnableDisableField=function(){var t=this,i=e.JotForm.enableDisableField;e.JotForm.enableDisableField=function(){for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];var a=n[0],s=n[1];i.call.apply(i,[e.JotForm].concat(n)),t.params.onEnableDisableField.call(null,a,s)}},Patch.prototype.patchFileUploaderTemplates=function(){var t=this;e.qq&&(e.qq.getUploaderTemplate=function(){return a.getUploaderTemplate.apply(void 0,arguments)},e.qq.getUploadedFileTemplate=function(){return a.getUploadedFileTemplate.apply(void 0,arguments)},e.qq.getUploaderSelectors=function(){return a.getUploaderSelectors.apply(void 0,arguments)},e.qq.onUploadComplete=function(){return t.params.onFileUploadChanged(arguments.length<=4?void 0:arguments[4]),a.onUploadComplete.apply(void 0,arguments)},e.qq.onDelete=function(){t.params.onFileUploadChanged(arguments.length<=0?void 0:arguments[0])},e.qq.onUploadAdd=function(){return a.onUploadAdd.apply(void 0,arguments)})},Patch.prototype.patchCreditCardAddressVisibilityChanged=function(){var t=this;e.JotForm.setCreditCardVisibility=function(e){t.params.onCreditCardAddressVisibilityChanged.call(null,e)}},Patch.prototype.patchIsVisible=function(){var t=e.JotForm.isVisible;e.JotForm.isVisible=function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=r[0];return(0,n.hasClass)(s,"cf-valid-hidden")&&t.call(e.JotForm,o({},r,{element:s.parentElement})),t.call.apply(t,[e.JotForm].concat(r))}},Patch.prototype.patchHandlePaymentSubProducts=function(){e.JotForm.handlePaymentSubProducts=function(){document.querySelectorAll(".form-product-has-subproducts").forEach(function(t){var i=(0,n.closest)(t,".jfProduct-list",".form-line")?(0,n.closest)(t,".jfProduct-list",".form-line"):(0,n.closest)(t,".js-product-detail",".form-line");t.addEventListener("click",function(){var o=i.querySelectorAll(".form-subproduct-quantity");t.checked||(o.forEach(function(e){if(e.value=0,"SELECT"===e.tagName){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}}),setTimeout(function(){e.JotForm.totalCounter(e.JotForm.prices)},300))})})}},Patch.prototype.patchInitShoppingBag=function(){e.JotForm.initShoppingBag=function(t,i,o,n){var r=new c.default(t);e.JotForm.productPages=r,r.initProductPages(),e.JotForm.shoppingBag=new l.default(t,i,o,r,n),e.JotForm.shoppingBag.initShoppingBag()}},Patch.prototype.patchInitProductPages=function(){e.JotForm.initProductPages=function(){}},Patch.prototype.patchInitDonation=function(){e.JotForm.initDonation=function(e,t){new h.default(e,t).initDonation()}},Patch}();t.default=p}).call(t,i(6))},4813:function(e,t,i){"use strict";(function(e){t.__esModule=!0;var i='<svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Close" fill="#FFFFFF"><polygon points="21.640625 11.171875 16.9921875 15.8203125 21.640625 20.46875 20.46875 21.640625 15.8203125 16.9921875 11.171875 21.640625 10 20.46875 14.6484375 15.8203125 10 11.171875 11.171875 10 15.8203125 14.6484375 20.46875 10"></polygon></g></g></svg>';t.getUploaderTemplate=function(e){return'<div class="qq-uploader"><div class="qq-upload-drop-area"><div class="qq-upload-drop-area-wrapper"><div class="qq-upload-drop-area-wrapper-outer"><div class="qq-upload-drop-area-wrapper-inner"><span class="qq-upload-area-logo"><svg id="uploadSVG" width="54px" height="47px" viewBox="0 0 54 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1"> <g transform="translate(-1506.000000, -2713.000000)"> <g transform="translate(1421.000000, 2713.000000)"> <path d="M125.212886,10.1718048 C127.110227,10.3826204 128.89335,10.9096517 130.562307,11.7529143 C132.231264,12.596177 133.689384,13.676591 134.93671,14.9941889 C136.184036,16.3117868 137.167828,17.8226097 137.888114,19.5267029 C138.608401,21.2307962 138.968539,23.049054 138.968539,24.9815309 C138.968539,26.8086 138.687456,28.6356416 138.125281,30.4627107 C137.563106,32.2897797 136.746207,33.9323605 135.674561,35.3905021 C134.602915,36.8486438 133.267769,38.0520318 131.669084,39.0007022 C130.070398,39.9493727 128.217005,40.4588363 126.108848,40.5291081 L122.261482,40.5291081 C121.804714,40.5291081 121.409441,40.3622149 121.07565,40.0284235 C120.741858,39.694632 120.574965,39.2993586 120.574965,38.8425913 C120.574965,38.385824 120.741858,37.9905506 121.07565,37.6567591 C121.409441,37.3229677 121.804714,37.1560744 122.261482,37.1560744 L126.108848,37.1560744 C127.549422,37.1560744 128.858216,36.7871526 130.03527,36.0492978 C131.212324,35.3114429 132.222468,34.3627867 133.06573,33.2033006 C133.908993,32.0438144 134.558998,30.743804 135.015765,29.3032303 C135.472533,27.8626567 135.700913,26.4221046 135.700913,24.9815309 C135.700913,23.4004134 135.384694,21.9159421 134.752247,20.5280723 C134.1198,19.1402026 133.258983,17.9280307 132.169768,16.8915204 C131.080554,15.85501 129.833247,15.0293277 128.427809,14.4144487 C127.022371,13.7995697 125.529116,13.4921348 123.947999,13.4921348 L122.735815,13.4394312 L122.366889,12.2799508 C121.48849,9.46907537 120.07429,7.28189569 118.124245,5.71834621 C116.1742,4.15479672 113.53026,3.37303371 110.192346,3.37303371 C108.084189,3.37303371 106.186876,3.73317173 104.500351,4.45345857 C102.813826,5.17374541 101.36449,6.17510478 100.1523,7.45756671 C98.9401098,8.74002865 98.0090213,10.2684193 97.3590063,12.0427844 C96.7089914,13.8171496 96.3839888,15.7232459 96.3839888,17.7611306 L96.4366924,17.7611306 L96.5420997,19.3422402 L95.0136938,19.6057584 C93.1514888,19.9219819 91.5703951,20.9233413 90.2703652,22.6098666 C88.9703353,24.2963919 88.3203301,26.1937043 88.3203301,28.301861 C88.3203301,30.6911051 89.1196608,32.7640947 90.7183462,34.5208919 C92.3170316,36.277689 94.2055603,37.1560744 96.3839888,37.1560744 L101.232725,37.1560744 C101.724628,37.1560744 102.128685,37.3229677 102.444909,37.6567591 C102.761132,37.9905506 102.919242,38.385824 102.919242,38.8425913 C102.919242,39.2993586 102.761132,39.694632 102.444909,40.0284235 C102.128685,40.3622149 101.724628,40.5291081 101.232725,40.5291081 L96.3839888,40.5291081 C94.8380073,40.5291081 93.3798875,40.2041055 92.0095857,39.5540906 C90.6392839,38.9040756 89.4358959,38.0169064 88.3993855,36.8925562 C87.3628752,35.768206 86.5371929,34.4681956 85.9223139,32.992486 C85.3074349,31.5167763 85,29.9532503 85,28.301861 C85,25.5963933 85.7554115,23.1544819 87.266257,20.9760534 C88.7771026,18.7976249 90.7095505,17.3395051 93.0636587,16.6016503 C93.2042025,14.2475421 93.7224499,12.0603624 94.6184164,10.0400456 C95.514383,8.0197289 96.7089871,6.26295807 98.2022647,4.76968048 C99.6955423,3.27640288 101.452313,2.10815028 103.47263,1.26488764 C105.492947,0.421624997 107.732829,0 110.192346,0 C112.089686,0 113.82889,0.237164061 115.410007,0.711499298 C116.991124,1.18583453 118.414109,1.8621913 119.679003,2.74058989 C120.943897,3.61898847 122.033095,4.69061868 122.946629,5.95551264 C123.860164,7.22040661 124.615575,8.62582326 125.212886,10.1718048 Z M113.249157,23.611236 L119.468188,30.4627107 C119.71414,30.7086623 119.837114,30.9985295 119.837114,31.3323209 C119.837114,31.6661124 119.71414,31.9735473 119.468188,32.2546348 L119.046559,32.5181531 C118.835743,32.7641047 118.563444,32.8607271 118.229652,32.8080232 C117.895861,32.7553193 117.605994,32.6059937 117.360042,32.3600421 L113.670787,28.2491573 L113.670787,45.2197331 C113.670787,45.7116364 113.503893,46.1156936 113.170102,46.4319171 C112.83631,46.7481406 112.441037,46.90625 111.98427,46.90625 C111.492366,46.90625 111.088309,46.7481406 110.772086,46.4319171 C110.455862,46.1156936 110.297753,45.7116364 110.297753,45.2197331 L110.297753,28.2491573 L106.713904,32.2546348 C106.467953,32.5005864 106.178086,32.649912 105.844294,32.7026159 C105.510503,32.7553198 105.220636,32.6586974 104.974684,32.4127458 L104.553055,32.1492275 C104.307103,31.86814 104.184129,31.5607051 104.184129,31.2269136 C104.184129,30.8931222 104.307103,30.603255 104.553055,30.3573034 L110.666678,23.611236 L110.666678,23.5585323 L111.088308,23.1369031 C111.193715,22.9963593 111.325473,22.8997369 111.483585,22.847033 C111.641697,22.7943291 111.791022,22.7679775 111.931566,22.7679775 C112.107246,22.7679775 112.265355,22.7943291 112.405899,22.847033 C112.546443,22.8997369 112.686984,22.9963593 112.827528,23.1369031 L113.249157,23.5585323 L113.249157,23.611236 Z"></path> </g> </g> </g> </svg></span><span class="qq-upload-area-text">Drop files here to upload</span> <span class="qq-upload-area-subtext">Your files will be uploaded immediately</span></div></div></div></div><div class="qq-upload-button {buttonStyle}" style="display: none;">'+e+'</div><div class="inputContainer" style="position: absolute; top: 0; right: 0"></div><div class="form-sub-label">{subLabel}</div><span style="display:none" class="multipleFileUploadLabels cancelText">Cancel</span><span style="display:none" class="multipleFileUploadLabels ofText">of</span><ul class="qq-upload-list"></ul></div>'},t.getUploadedFileTemplate=function(){return'<li tabindex="9999"><span class="qq-upload-file qq-file-uploading"></span><span class="qq-upload-cancel qq-upload-cancel-button"><span class="qq-upload-cancel-circle qq-upload-cancel-circle-button forCancel">'+i+'</span></span><span class="qq-upload-size"></span><span class="qq-upload-spinner"></span><span class="qq-upload-success-text">Success</span><span class="qq-upload-fail-text">Failed</span><span class="qq-upload-delete"><span class="qq-upload-delete-circle"><span class="qq-upload-delete-check"><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Check" fill="#FFFFFF"><polygon points="13.1645902 18.9342623 21.0809016 11 22.14 12.0590984 13.1645902 21.0345082 9 16.869918 10.0411475 15.8108197"></polygon></g></g></svg></span><span class="qq-upload-delete-cross">'+i+"</span></span></li>"},t.onUploadComplete=function(e){try{e.parentElement.scrollTop=9999}catch(e){}},t.onUploadAdd=function(){setTimeout(function(){for(var t=e.document.getElementsByClassName("qq-upload-list"),i=0,o=t.length;i<o;i++)try{t[i].scrollTop=9999}catch(e){}})},t.getUploaderSelectors=function(){return{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteItem:"qq-upload-delete",uploading:"qq-file-uploading",success:"qq-upload-success",fail:"qq-upload-fail"}}}).call(t,i(6))},4814:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=i(4815),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a={productDetail:".product__detail"},s=function(){function ShoppingBag(e,t,i,o,n){_classCallCheck(this,ShoppingBag),this.id=e,this.formProducts=t,this.activeProduct=null,this.currency=i,this.enableImagePreview=n,this.productPages=o,this.qLine=document.querySelector("#id_"+this.id),this.paymentCard=this.qLine.querySelector(".jfCard"),this.footer=this.qLine.querySelector(".paymentCard-footer-wrapper"),this.header=this.qLine.querySelector(".js-header-wrapper"),this.productModuleWrapper=this.qLine.querySelector(".jfProductModule-wrapper"),this.productListWrapper=this.qLine.querySelector(".products"),this.cardQuestionWrapper=this.qLine.querySelector(".jfCard-question"),this.products=this.qLine.querySelectorAll(".js-productItem"),this.shoppingBagButton=this.qLine.querySelector(".shopping-cart"),this.detailFooterButton=this.qLine.querySelector(".js-detail-footer-button"),this.handleProductClick=this.handleProductClick.bind(this),this.detailsBackButtonHandler=this.detailsBackButtonHandler.bind(this),this.openSummaryPage=this.openSummaryPage.bind(this),this.addToBag=this.addToBag.bind(this),this.removeFromBag=this.removeFromBag.bind(this),this.handleDetailsRemoveButton=this.handleDetailsRemoveButton.bind(this),this.orientationChange=this.orientationChange.bind(this),this.onPageChange=this.onPageChange.bind(this),this.shoppingBagButton&&(this.summaryPage=new r.default(this.qLine,this)),this.productPages&&this.productPages.setOnPageChange(this.onPageChange)}return ShoppingBag.prototype.initShoppingBag=function(){var t=this,i=0;(0,o.forEach)(this.products,function(o){var n=i;o.addEventListener("click",function(){return t.handleProductClick(o)});var r=o.querySelector(".js-product-back");r&&r.addEventListener("click",t.detailsBackButtonHandler);var a=o.querySelector(".js-add-to-bag");a&&a.addEventListener("click",t.addToBag);var s=o.querySelector(".form-product-image-with-options");s&&t.enableImagePreview&&(!0===t.enableImagePreview||"true"===t.enableImagePreview)&&(s.addEventListener("click",function(t){t.stopPropagation(),e.onProductImageClicked(n)}),i++);var l=o.querySelector(".js-update-bag");l&&l.addEventListener("click",t.addToBag);var d=o.querySelector(".js-remove-from-bag");d&&d.addEventListener("click",function(e){return t.handleDetailsRemoveButton(e,o)}),t.setProductHeight(o)}),this.shoppingBagButton&&(this.shoppingBagButton.addEventListener("click",this.openSummaryPage),this.changeShoppingBagButtonPosition()),this.productListWrapper&&this.setHeight(this.productListWrapper),this.footer&&this.setHeight(this.footer),this.formProducts.forEach(function(e,i){e&&e.selected&&"1"===e.selected&&t.products&&t.products[i]&&t.highlightProductItem(t.products[i])})},ShoppingBag.prototype.openSummaryPage=function(){if(!this.shoppingBagButton.hasClassName("empty")){this.hideQuestionHeader(),this.hideProductList(),this.hideFooter(),this.hideShoppingBagButton(),this.summaryPage.openSummaryPage();var e=this.getProductInputIDs();this.summaryPage.makeList(e,this.formProducts)}},ShoppingBag.prototype.closeSummaryPage=function(){this.summaryPage.closeSummaryPage(),this.showShoppingBagButton(),this.showFooter(),this.showProductList(),this.showQuestionHeader()},ShoppingBag.prototype.showShoppingBagButton=function(){this.shoppingBagButton.show()},ShoppingBag.prototype.hideShoppingBagButton=function(){this.shoppingBagButton.hide()},ShoppingBag.prototype.openProductDetails=function(e){var t=this.qLine.querySelectorAll(".js-productItem"),i=Array.prototype.findIndex.call(t,function(t){return t.getAttribute("data-input")===e}),o=Math.ceil((i+1)/this.getProductsPerPage());this.productPages&&this.productPages.handlePageChange(o);var n=this.qLine.querySelector('.js-productItem[data-input="'+e+'"]');this.hasProductOption(n)&&n.click()},ShoppingBag.prototype.getProductsPerPage=function(){return this.productPages.getProductsPerPage()},ShoppingBag.prototype.inputSelectors=function(){return this.getProductInputIDs().reduce(function(e,t){return""!==e?e+', [id="'+t+'"]':e+'[id="'+t+'"]'},"")},ShoppingBag.prototype.hideQuestionHeader=function(){(0,o.addClass)(this.paymentCard,"jfCard--summary")},ShoppingBag.prototype.showQuestionHeader=function(){(0,o.removeClass)(this.paymentCard,"jfCard--summary")},ShoppingBag.prototype.hideProductList=function(){this.slideUp(this.productListWrapper)},ShoppingBag.prototype.showProductList=function(){this.slideDown(this.productListWrapper)},ShoppingBag.prototype.hideFooter=function(){this.slideUp(this.footer)},ShoppingBag.prototype.showFooter=function(){this.slideDown(this.footer)},ShoppingBag.prototype.showDetailPage=function(){this.hideFooter(),this.hideShoppingBagButton(),(0,o.addClass)(this.productListWrapper,"products--selected")},ShoppingBag.prototype.setDetailPageButtons=function(e){var t=e.querySelector(".js-add-to-bag"),i=e.querySelector(".js-update-bag"),n=e.querySelector(".js-remove-from-bag");(0,o.hasClass)(e,"product--selected")?(t.hide(),i.show(),n.show()):(t.show(),i.hide(),n.hide())},ShoppingBag.prototype.addToBag=function(e){e.stopPropagation();var t=this.activeProduct.querySelector(this.inputSelectors());t.checked=!0,(0,o.triggerEvent)(t,"change"),this.calculateTotal(),this.highlightProductItem(this.activeProduct),this.updateCartItems(),this.backToProductList("details")},ShoppingBag.prototype.handleDetailsRemoveButton=function(e,t){e.stopPropagation(),this.removeFromBag(t),this.backToProductList("details")},ShoppingBag.prototype.removeFromBag=function(e){var t=e.querySelector(this.inputSelectors());t.disabled||(this.hasProductOption(e)&&this.resetDetailState(e),t.checked=!1,(0,o.triggerEvent)(t,"change"),this.calculateTotal(),this.removeHighlightProductItem(e,!0),this.updateCartItems())},ShoppingBag.prototype.updateCartItems=function(){if(this.shoppingBagButton){var e=this.getTotalSelectedItems();this.updateShoppingBagButton(e)}},ShoppingBag.prototype.updateShoppingBagButton=function(e){e>0?(0,o.removeClass)(this.shoppingBagButton,"empty"):(0,o.addClass)(this.shoppingBagButton,"empty"),this.shoppingBagButton.querySelector(".shopping-cart__count").textContent=e},ShoppingBag.prototype.getTotalSelectedItems=function(){var e=this,t=this.inputSelectors();return(0,o.reduce)(this.products,function(i,n){return n.querySelector(t).checked?e.hasSubProduct(n)?i+(0,o.reduce)(n.querySelectorAll('select[id*="quantity"], input[id*="quantity"]'),function(e,t){return parseInt(t.value,10)>0?e+1:e},0):i+1:i},0)},ShoppingBag.prototype.handleProductClick=function(e){var t=e;if(this.hasProductOption(t)){if(t===this.activeProduct)return;this.showDetailPage(t),this.setActiveProduct(t),this.setDetailPageButtons(t)}else this.zeroOptionProductClick(t)},ShoppingBag.prototype.backToProductList=function(e){"summary"===e?this.closeSummaryPage():"details"===e&&((0,o.removeClass)(this.productListWrapper,"products--selected"),this.unsetActiveProduct(),this.showShoppingBagButton()),this.showFooter()},ShoppingBag.prototype.detailsBackButtonHandler=function(e){e.stopPropagation(),this.backToProductList("details")},ShoppingBag.prototype.removeHighlightProductItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.hasProductOption(e),n=this.hasSubProduct(e);if(i){if(i&&!n)(0,o.removeClass)(e,"with-edit-option");else if(i&&n){var r=this.hasSelectedSubProductItem(e);if(t&&(0,o.removeClass)(e,"product--selected"),r)return;(0,o.removeClass)(e,"with-edit-option")}}else{var a=e.querySelector(".js-add-without-option");(0,o.removeClass)(a.parentElement,"product__action--remove")}(0,o.removeClass)(e,"product--selected")},ShoppingBag.prototype.hasSelectedSubProductItem=function(e){var t=e.querySelectorAll('[id*="quantity"]');return(0,o.reduce)(t,function(e,t){return e||!(0===t.value||""===t.value||"0"===t.value)},!1)},ShoppingBag.prototype.hasSubProduct=function(e){return(0,o.hasClass)(e,"js-hasSubProduct")},ShoppingBag.prototype.hasProductOption=function(e){return!(0,o.hasClass)(e,"js-zeroOption")},ShoppingBag.prototype.highlightProductItem=function(e){var t=this.hasProductOption(e);if((0,o.addClass)(e,"product--selected"),!t){var i=e.querySelector(".js-add-without-option");(0,o.addClass)(i.parentElement,"product__action--remove")}},ShoppingBag.prototype.getProductInputIDs=function(){return Object.keys(e.JotForm.prices).map(function(e){var t=e.split("_");return 3===t.length?e:4===t.length&&"plan"!==t[2]?(t.pop(),t.join("_")):e}).reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[])},ShoppingBag.prototype.zeroOptionProductClick=function(e){var t=this,i=e.querySelector(this.inputSelectors());if(i.checked)this.removeFromBag(e);else{if(i.checked=!0,"radio"===i.type){document.querySelectorAll(".js-productItem").forEach(function(e){t.removeHighlightProductItem(e)})}this.highlightProductItem(e),this.shakeFooter(),this.calculateTotal(),this.updateCartItems()}},ShoppingBag.prototype.setActiveProduct=function(e){var t=this;this.activeProduct=e,(0,o.addClass)(e,"product--active"),(0,o.forEach)(this.products,function(i){i!==e&&t.slideUp(i)}),this.slideDown(e.querySelector(a.productDetail)),this.setHeight(this.productListWrapper),window.addEventListener("orientationchange",this.orientationChange)},ShoppingBag.prototype.unsetActiveProduct=function(){var e=this;(0,o.removeClass)(this.activeProduct,"product--active"),(0,o.forEach)(this.products,function(t){t!==e.activeProduct&&e.slideDown(t,!0)}),this.slideUp(this.activeProduct.querySelector(a.productDetail)),this.setHeight(this.productListWrapper),this.activeProduct=null,this.activeProductDetailState=null,window.removeEventListener("orientationchange",this.orientationChange)},ShoppingBag.prototype.getProductOptions=function(e){return e.querySelector(a.productDetail).querySelectorAll("select, input")},ShoppingBag.prototype.resetDetailState=function(e){this.getProductOptions(e).forEach(function(e){var t=e;"SELECT"===t.tagName?t.selectedIndex=0:t.value="0",(0,o.triggerEvent)(t,"change")})},ShoppingBag.prototype.changeShoppingBagButtonPosition=function(){this.cardQuestionWrapper.insertBefore(this.shoppingBagButton,this.productModuleWrapper)},ShoppingBag.prototype.shakeFooter=function(){var e=this;this.shoppingBagButton&&((0,o.addClass)(this.shoppingBagButton,"shopping-cart--added"),setTimeout(function(){(0,o.removeClass)(e.shoppingBagButton,"shopping-cart--added")},350))},ShoppingBag.prototype.calculateTotal=function(){e.JotForm.countTotal(e.JotForm.prices)},ShoppingBag.prototype.slideDown=function(e){var t=e;(0,o.hasClass)(t,"product__detail")&&(t.parentElement.style.height="auto"),this.setHeight(t)},ShoppingBag.prototype.slideUp=function(e){e.style.height="0px"},ShoppingBag.prototype.setProductHeight=function(e){var t=this,i=e.querySelector(".product__image img");i&&!i.complete&&(i.onload=function(){return t.setHeight(e)}),this.setHeight(e)},ShoppingBag.prototype.setHeight=function(e){var t=e,i=t.cloneNode(!0);if(i.style.position="absolute",i.style.height="auto",i.style.width="100%",parseInt(window.getComputedStyle(t).height,10)!==parseInt(window.getComputedStyle(i).height,10)){var n=i.querySelectorAll('input[type="radio"]:checked');(0,o.forEach)(n,function(e){e.checked=!1}),t.parentElement.appendChild(i);var r=window.getComputedStyle(i).height;t.parentElement.removeChild(i),t.style.height=r}},ShoppingBag.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.setHeight(e.activeProduct.querySelector(a.productDetail)),e.setHeight(e.productListWrapper)},200)},ShoppingBag.prototype.onPageChange=function(){this.setHeight(this.productListWrapper),this.setHeight(this.footer)},ShoppingBag}();t.default=s}).call(t,i(6))},4815:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=i(9),r={summaryWrapper:".product-summary",listWrapper:".product-summary__left",itemWrapper:".product-mini",backButton:".product-summary__back"},a=function(){function SummaryPage(e,t){_classCallCheck(this,SummaryPage),this.question=e,this.shoppingBag=t,this.wrapper=e.querySelector(r.summaryWrapper),this.listWrapper=this.wrapper.querySelector(r.listWrapper),this.backButton=this.wrapper.querySelector(r.backButton),this.backButtonClick=this.backButtonClick.bind(this),this.editButtonClick=this.editButtonClick.bind(this),this.removeButtonClick=this.removeButtonClick.bind(this),this.backButton.addEventListener("click",this.backButtonClick)}return SummaryPage.prototype.makeList=function(t,i){var n=this;this.emptyList(),t.forEach(function(t){if(document.querySelector("#"+t).checked){var r=n.getProductID(t);if(n.hasSubProduct(r,i))n.getSubProducts(r,i,t).forEach(function(e){n.makeListItem(o({},e,{productID:t}),!0)});else{var a=e.JotForm.prices[t],s=a.specialPriceField&&a.specialPriceField.indexOf("quantity")>-1,l=n.getQuantity(t),d=n.getProductName(r,i),c=n.getProductPrice(t);n.makeListItem({name:d,price:c,quantity:l,productID:t,hasSpecialQuantityPricing:s})}}}),e.FormTranslation&&e.FormTranslation.setOriginalDynamicFormElements&&e.FormTranslation.setOriginalDynamicFormElements(),this.shoppingBag.setHeight(this.wrapper)},SummaryPage.prototype.makeListItem=function(e,t){var i=this,o=e.name,n=e.price,r=e.quantity,a=e.hasSpecialQuantityPricing,s=this.getProductID(e.productID),l=document.createElement("div");l.setAttribute("class","product-mini");var d=a?n:r*n,c=this.makeProductMiniHeader(o,d,s);l.appendChild(c);var u=document.createElement("div");u.setAttribute("class","product-mini__body");var h=document.createElement("div");h.setAttribute("class","product-mini__options");var p=this.makeProductMiniOption("Quantity",r,"product-mini__options__quantity_"+s);h.appendChild(p);var m=this.shoppingBag.formProducts.filter(function(e){return e.pid===s})[0];m.options.length>0&&(m.options.filter(function(e){return e.expanded}).forEach(function(t){var o=e.quantityFieldID.split("_")[4],n=i.makeProductMiniOption(t.name,t.properties.split("\n")[o],"product-mini__options__expanded_"+s+"-"+o);h.appendChild(n)}),m.options.forEach(function(o,n){if("quantity"!==o.type&&!o.expanded){var r=[];t?(r=e.quantityFieldID.split("_"),r[2]="custom",r[5]=n):(r=e.productID.split("_"),r.splice(2,0,"custom"),r.push(n));var a=r.join("_"),l=i.shoppingBag.qLine.querySelector("#"+a).value,d=i.makeProductMiniOption(o.name,l,"product-mini__options__others_"+s+"-"+n);h.appendChild(d)}})),u.appendChild(h);var f=this.makeProductMiniActions(e,t);u.appendChild(f),l.appendChild(u),this.listWrapper.appendChild(l)},SummaryPage.prototype.getProductID=function(e){return e.split("_")[2]},SummaryPage.prototype.getQuantity=function(t){return e.JotForm.prices[t]&&e.JotForm.prices[t].quantityField?this.shoppingBag.qLine.querySelector("#"+e.JotForm.prices[t].quantityField).value:1},SummaryPage.prototype.getProductName=function(e,t){return this.getProductFromID(e,t).name},SummaryPage.prototype.hasSubProduct=function(e,t){var i=this.getProductFromID(e,t);return!!parseInt(i.hasExpandedOption,10)},SummaryPage.prototype.getSubProducts=function(t,i,o){var n=this;return this.getExpandedOption(t,i).map(function(r,a){var s=e.JotForm.prices[o+"_"+a],l=n.shoppingBag.qLine.querySelector("#"+s.quantityField),d=parseInt(l.value,10);if(!(d<1)){var c=n.getProductName(t,i);if(s.specialPriceField){var u=s.specialPriceField.indexOf("quantity")>-1,h=u?d:s.specialPriceField.split("_").pop(),p=parseFloat(s.specialPriceList[parseInt(h,10)],10);return{quantity:d,quantityFieldID:l.id,price:p,name:c,hasSpecialQuantityPricing:u}}return{quantity:d,quantityFieldID:l.id,price:s.price,name:c}}}).filter(function(e){return e})},SummaryPage.prototype.getExpandedOption=function(e,t){return this.getProductFromID(e,t).options.find(function(e){return e.expanded}).properties.split("\n")},SummaryPage.prototype.getProductFromID=function(e,t){return t.find(function(t){return t.pid===e})},SummaryPage.prototype.makeNameContainer=function(e,t){var i=document.createElement("div");return i.setAttribute("class","itemName"),i.innerHTML=t+" x "+e,i},SummaryPage.prototype.getProductPrice=function(t){if(!e.JotForm.prices[t])return 0;var i=e.JotForm.prices[t];if(!i.specialPriceField)return i.price;var o=this.shoppingBag.qLine.querySelector("#"+i.specialPriceField),n=o.selectedIndex;return parseFloat(i.specialPriceList[n],10)},SummaryPage.prototype.makePriceContainer=function(e,t){var i=document.createElement("div");return i.setAttribute("class","itemPrice"),i.innerHTML=this.curr()+" "+e*t,i},SummaryPage.prototype.makeEditButton=function(e){var t=document.createElement("button");return t.setAttribute("type","button"),t.setAttribute("class","itemCta"),t.innerHTML="EDIT",t.setAttribute("data-id",e),t.addEventListener("click",this.editButtonClick),t},SummaryPage.prototype.makeProductMiniHeader=function(t,i,o){var n=e.JotForm.currencyFormat,r=n.decimal,a=n.dSeparator,s=n.tSeparator,l=document.createElement("div");l.setAttribute("class","product-mini__header");var d=document.createElement("div");d.setAttribute("class","product-mini__title payment-text dynamic-form-element"),d.setAttribute("id","product-mini__title-"+o),d.textContent=t;var c=document.createElement("div");return c.setAttribute("class","product-mini__price"),c.textContent=""+this.curr()+i.formatMoney(r,a,s),l.appendChild(d),l.appendChild(c),l},SummaryPage.prototype.makeProductMiniActions=function(e,t){var i=document.createElement("div");i.setAttribute("class","product-mini__actions");var o=document.createElement("div");o.setAttribute("class","product-mini__button product-mini__button--remove"),o.setAttribute("data-id",e.productID),t&&o.setAttribute("data-quantity-id",e.quantityFieldID),o.addEventListener("click",this.removeButtonClick);var n=document.createElement("div");return n.setAttribute("class","product-mini__button product-mini__button--edit"),n.setAttribute("data-id",e.productID),n.addEventListener("click",this.editButtonClick),i.appendChild(o),i.appendChild(n),i},SummaryPage.prototype.makeProductMiniOption=function(e,t,i){var o=document.createElement("div");o.setAttribute("class","product-mini__option");var n=document.createElement("span");n.setAttribute("class","product-mini__option-value payment-text dynamic-form-element"),n.setAttribute("id",i),n.textContent=""+e;var r=document.createElement("span");r.setAttribute("class","product-mini__option-name"),r.textContent=":";var a=document.createElement("span");return a.setAttribute("class","product-mini__option-value"),a.textContent=t,o.appendChild(n),o.appendChild(r),o.appendChild(a),o},SummaryPage.prototype.editButtonClick=function(e){this.shoppingBag.backToProductList("summary");var t=e.target.getAttribute("data-id");this.shoppingBag.openProductDetails(t)},SummaryPage.prototype.closeSummaryPage=function(){this.shoppingBag.slideUp(this.wrapper,!0)},SummaryPage.prototype.openSummaryPage=function(){this.shoppingBag.slideDown(this.wrapper)},SummaryPage.prototype.makeRemoveButton=function(e,t){var i=document.createElement("button");return i.setAttribute("type","button"),i.setAttribute("class","itemCta"),i.innerHTML="REMOVE",i.setAttribute("data-id",e.productID),t&&i.setAttribute("data-quantity-id",e.quantityFieldID),i.addEventListener("click",this.removeButtonClick),i},SummaryPage.prototype.removeButtonClick=function(e){var t=e.target,i=t.getAttribute("data-id"),o=this.shoppingBag.qLine.querySelector('li[data-input="'+i+'"]'),r=(0,n.hasClass)(o,"js-hasSubProduct"),a=this.question.querySelector("#"+i);if(r||!a.disabled){if(this.removeItemFromList(t),this.wrapper.style.height="auto",r){var s=this.shoppingBag.qLine.querySelector("#"+t.getAttribute("data-quantity-id"));s.value=0,(0,n.triggerEvent)(s,"change")}if(r&&this.shoppingBag.hasSelectedSubProductItem(o))return void this.shoppingBag.updateCartItems();this.shoppingBag.removeFromBag(o)}},SummaryPage.prototype.backButtonClick=function(){this.shoppingBag.backToProductList("summary")},SummaryPage.prototype.emptyList=function(){this.listWrapper.innerHTML=""},SummaryPage.prototype.isEditButtonVisible=function(e){return!(0,n.hasClass)(this.shoppingBag.qLine.querySelector('[data-input="'+e+'"]'),"js-zeroOption")},SummaryPage.prototype.removeItemFromList=function(e){var t=(0,n.closest)(e,r.listWrapper,".jfCard"),i=(0,n.closest)(e,r.itemWrapper,r.itemWrapper);t&&i&&t.removeChild(i)},SummaryPage.prototype.curr=function(){var e="";switch(this.shoppingBag.currency){case"TRY":e="TL";break;case"USD":e="$";break;default:e=this.shoppingBag.currency}return e},SummaryPage}();t.default=a}).call(t,i(6))},4816:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function ProductPages(e){_classCallCheck(this,ProductPages),this.handleNextClick=this.handleNextClick.bind(this),this.handlePrevClick=this.handlePrevClick.bind(this),this.id=e,this.qLine=document.querySelector("#id_"+this.id),this.products=this.qLine.querySelectorAll(".js-productItem"),this.paginationWrapper=this.qLine.querySelector(".paymentCard-pagination"),this.pageWrapper=this.qLine.querySelector(".paymentCard-paginationList"),this.previousPageButton=this.qLine.querySelector(".paymentCard-paginationLeft"),this.nextPageButton=this.qLine.querySelector(".paymentCard-paginationRight"),this.onPageChange=null}return ProductPages.prototype.initProductPages=function(){var e=this;this.paginationWrapper&&(this.productsPerPage=this.getProductsPerPage(),this.totalPage=Math.ceil(this.products.length/this.productsPerPage),(0,o.forEach)(this.products,function(e){return e.show()}),this.productsPerPage>=this.products.length?(this.paginationWrapper.style.display="none",(0,o.forEach)(this.products,function(t,i){t.setAttribute("data-page",Math.ceil((i+1)/e.productsPerPage))})):(this.paginationWrapper.style.display="block",(0,o.forEach)(this.products,function(t,i){t.setAttribute("data-page",Math.ceil((i+1)/e.productsPerPage)),i+1>e.productsPerPage&&t.hide()}),this.createPaginationItems(),this.bindPrevButtonClick(),this.bindNextButtonClick(),this.triggerPageChange()))},ProductPages.prototype.createPaginationItems=function(){var e=this;this.removeAllItems();for(var t=0;t<this.totalPage;t++)!function(t){var i=t+1,o=e.createPaginationItem(i);o.addEventListener("click",function(){e.handlePageChange(i)}),e.pageWrapper.appendChild(o)}(t)},ProductPages.prototype.createPaginationItem=function(e){var t=document.createElement("li");t.className=1===e?"paymentCard-paginationListItem active":"paymentCard-paginationListItem",t.setAttribute("data-page",e);var i=document.createElement("button");return i.className="paymentCard-paginationListButton",i.setAttribute("type","button"),i.innerText=e,t.appendChild(i),t},ProductPages.prototype.removeAllItems=function(){(this.pageWrapper.querySelectorAll(".paymentCard-paginationListItem")||[]).forEach(function(e){return e.remove()})},ProductPages.prototype.getActivePage=function(){return this.pageWrapper.querySelector(".paymentCard-paginationListItem.active")},ProductPages.prototype.getActivePageNumber=function(){var e=this.getActivePage();return e?parseInt(e.getAttribute("data-page"),10):null},ProductPages.prototype.updateButtonStatus=function(e){1===e?((0,o.addClass)(this.previousPageButton,"disabled"),this.previousPageButton.setAttribute("disabled","disabled"),(0,o.removeClass)(this.nextPageButton,"disabled"),this.nextPageButton.removeAttribute("disabled")):e===this.totalPage?((0,o.removeClass)(this.previousPageButton,"disabled"),this.previousPageButton.removeAttribute("disabled"),(0,o.addClass)(this.nextPageButton,"disabled"),this.nextPageButton.setAttribute("disabled","disabled")):((0,o.removeClass)(this.previousPageButton,"disabled"),this.previousPageButton.removeAttribute("disabled"),(0,o.removeClass)(this.nextPageButton,"disabled"),this.nextPageButton.removeAttribute("disabled"))},ProductPages.prototype.bindPrevButtonClick=function(){this.previousPageButton.removeEventListener("click",this.handlePrevClick),this.previousPageButton.addEventListener("click",this.handlePrevClick)},ProductPages.prototype.bindNextButtonClick=function(){this.nextPageButton.removeEventListener("click",this.handleNextClick),this.nextPageButton.addEventListener("click",this.handleNextClick)},ProductPages.prototype.handlePrevClick=function(){var e=this.getActivePageNumber();e&&this.handlePageChange(e-1)},ProductPages.prototype.handleNextClick=function(){var e=this.getActivePageNumber();e&&this.handlePageChange(e+1)},ProductPages.prototype.handlePageChange=function(e){var t=this.qLine.querySelector('.paymentCard-paginationListItem[data-page="'+e+'"]');t&&(this.changeActivePage(this.getActivePage(),t),this.updateProductList(e),this.updateButtonStatus(e),this.triggerPageChange())},ProductPages.prototype.updateProductList=function(e){var t=this;this.products.forEach(function(i,o){i.style.display=o<(e-1)*t.productsPerPage||o+1>e*t.productsPerPage?"none":"block"})},ProductPages.prototype.changeActivePage=function(e,t){(0,o.removeClass)(e,"active"),(0,o.addClass)(t,"active")},ProductPages.prototype.getProductsPerPage=function(){if(document.querySelector(".isMobile"))return this.products.length;var t=e.getComputedStyle(this.paginationWrapper).display;this.paginationWrapper.style.display="block";var i=this.getAvaibleMaxHeight(this.qLine.querySelector(".products"),".jfCard-question");this.paginationWrapper.style.display=t;var o=Array.from(this.products).reduce(function(t,i){var o=parseInt(e.getComputedStyle(i).height,10);return o>t?o:t},0),n=parseInt(i/o,10)||1;return parseInt(n,10)>0?n:1},ProductPages.prototype.getAvaibleMaxHeight=function(e,t){var i=this;if(t&&e.matches(t)||!e.parentElement)return this.getStopNodeInnerHeight(e);var o=this.getElementSiblings(e),n=o.reduce(function(e,t){return e+i.getSiblingHeight(t)},0);return this.getAvaibleMaxHeight(e.parentElement,t)-(this.getNodeMarginAndPadding(e)+n)},ProductPages.prototype.getElementSiblings=function(e){return Array.from(e.parentElement.childNodes).filter(function(e){return function(t){return t!==e}}(e))},ProductPages.prototype.getSiblingHeight=function(e){return this.getStyleSum(e,["height","marginTop","marginBottom"])},ProductPages.prototype.getNodeMarginAndPadding=function(e){return this.getStyleSum(e,["marginTop","marginBottom","paddingTop","paddingBottom"])},ProductPages.prototype.getStopNodeInnerHeight=function(e){return this.getStyleSum(e,["maxHeight"])-this.getStyleSum(e,["paddingTop","paddingBottom"])},ProductPages.prototype.getStyleSum=function(t,i){var o=e.getComputedStyle(t);return i.reduce(function(e,t){return e+(parseInt(o[t],10)||0)},0)},ProductPages.prototype.setOnPageChange=function(e){this.onPageChange=e},ProductPages.prototype.triggerPageChange=function(){this.onPageChange&&this.onPageChange()},ProductPages}();t.default=n}).call(t,i(6))},4817:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function Donation(e,t){_classCallCheck(this,Donation),this.id=e,this.currency=t,this.questionWrapper=document.querySelector("#id_"+this.id),this.donationField=this.questionWrapper.querySelector('input[id*="_donation"]'),this.donationSpecial=this.questionWrapper.querySelector(".donation-special"),this.suggestions=this.questionWrapper.querySelectorAll(".js-donation-suggestion"),this.donationFieldOverlay=this.questionWrapper.querySelector(".js-donation-overlay"),this.onSuggestionChange=this.onSuggestionChange.bind(this),this.onDonationFieldChange=this.onDonationFieldChange.bind(this),this.onOverlayClick=this.onOverlayClick.bind(this)}return Donation.prototype.initDonation=function(){var e=this;this.suggestions.forEach(function(t){t.addEventListener("change",e.onSuggestionChange)}),this.donationField.addEventListener("change",this.onDonationFieldChange),this.donationField.addEventListener("keyup",this.onDonationFieldChange),this.donationFieldOverlay&&this.donationFieldOverlay.addEventListener("click",this.onOverlayClick)},Donation.prototype.onSuggestionChange=function(e){var t=e.target;this.openOverlay(),this.donationField.value=t.value.replace(/[^.0-9]+/g,""),(0,o.triggerEvent)(this.donationField,"change")},Donation.prototype.onDonationFieldChange=function(e){var t=e.target,i=t.value;this.suggestions.forEach(function(e){var t=e;t.checked=t.value===i})},Donation.prototype.onOverlayClick=function(){this.closeOverlay(),this.resetDonationField(),this.donationField.focus()},Donation.prototype.resetDonationField=function(){this.donationField.value="",(0,o.triggerEvent)(this.donationField,"change")},Donation.prototype.openDonationField=function(){(0,o.addClass)(this.donationSpecial,"donation-special--active")},Donation.prototype.closeDonationField=function(){(0,o.removeClass)(this.donationSpecial,"donation-special--active")},Donation.prototype.openOverlay=function(){(0,o.removeClass)(this.donationSpecial,"donation-special--active")},Donation.prototype.closeOverlay=function(){(0,o.addClass)(this.donationSpecial,"donation-special--active")},Donation}();t.default=n},4818:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=i(9),r=function(){function Address(e){_classCallCheck(this,Address),this.cards=e.cards,this.layoutParams=e.layoutParams,this.setFieldIsFilledIfHasValue=e.setFieldIsFilledIfHasValue,this.updateFeedbackEmbedHeight=e.updateFeedbackEmbedHeight,this.autocompleteFields=[],this.addressTypeSuffixMap={country:"country",administrative_area_level_1:"state",postal_code:"postal",locality:"city",street:"addr_line1",street2:"addr_line2",searchField:"addr_search"},this.countrySpecifications={TR:"city",GB:"postal_town"},this.init=this.init.bind(this),this.getClearField=this.getClearField.bind(this),this.convertToClean=this.convertToClean.bind(this),this.getPacContainer=this.getPacContainer.bind(this),this.getQuestionCard=this.getQuestionCard.bind(this),this.bindPacContainer=this.bindPacContainer.bind(this),this.showHiddenFields=this.showHiddenFields.bind(this),this.handleSafariProcess=this.handleSafariProcess.bind(this),this.getQuestionContainer=this.getQuestionContainer.bind(this),this.setPacContainerState=this.setPacContainerState.bind(this),this.clearAddressSubFields=this.clearAddressSubFields.bind(this),this.createPacAdditionItem=this.createPacAdditionItem.bind(this),this.handleGeocodingResult=this.handleGeocodingResult.bind(this),this.bindAutocompleteEvents=this.bindAutocompleteEvents.bind(this),this.handleAutocompleteResult=this.handleAutocompleteResult.bind(this),this.AutocompleteAPI?this.init():this.convertToClean()}return Address.prototype.getPacContainer=function(e){var t=Object.keys(e).filter(function(t){var i=e[t];return i&&i.classList&&i.classList.contains("pac-container")})[0];return t?e[t]:{}},Address.prototype.handleGeocodingResult=function(e,t){var i=this,o=t.address_components.filter(function(e){return"postal_code"===e.types[0]})[0];if(o&&o.long_name){var n=new RegExp(".*(?=,.*"+o.long_name+")"),r=t.formatted_address.match(n)[0];this.setAddressFieldValue(e,"street",r)}this.handleSafariProcess(function(){return i.handleAddressComponents(e,t.address_components)})},Address.prototype.showHiddenFields=function(e){var t=this;this.getQuestionContainer(e).classList.remove("jfAddress-clean"),setTimeout(function(){t.updateFeedbackEmbedHeight()},250)},Address.prototype.bindAutocompleteEvents=function(){var t=this;this.autocompleteFields.forEach(function(i){var o=i.id,n=i.field,r=i.clearField,a=i.autocomplete,s=i.geolocationField;t.bindPacContainer(o,n,a),a.addListener("place_changed",function(){var e=Object.keys(a.gm_accessors_.place)[0],i=a.gm_accessors_.place[e].gm_accessors_.input[e],r=t.getPacContainer(i);t.setPacContainerState(r),t.handleAutocompleteResult(o,n,a.getPlace())}),r.addEventListener("click",function(){t.clearAddressSubFields(o),t.setAddressFieldValue(o,"searchField","")});var l=!1;t.GeocoderAPI&&t.PositionAPI&&s&&s.addEventListener("click",function(){!0!==l&&(l=!0,s.classList.add("isLoading"),e.navigator.geolocation.getCurrentPosition(function(i){var n=new t.PositionAPI(i.coords.latitude,i.coords.longitude);new Promise(function(e,i){(new t.GeocoderAPI).geocode({location:n},function(t,o){return l=!1,"OK"===o?e(t):i(o)})}).then(function(e){t.showHiddenFields(o),t.clearAddressSubFields(o);var i=e[0];s.classList.remove("isLoading"),t.setAddressFieldValue(o,"searchField",i.formatted_address),t.handleGeocodingResult(o,i)}).catch(function(t){switch(s.classList.remove("isLoading"),t){case"ZERO_RESULTS":case"OVER_QUERY_LIMIT":case"REQUEST_DENIED":case"INVALID_REQUEST":case"UNKNOWN_ERROR":case"ERROR":default:e.alert("error while fecthing location")}})}))})})},Address.prototype.bindPacContainer=function(e,t,i){var o=this;if(!i||!i.gm_accessors_||!i.gm_accessors_.place)return setTimeout(function(){return o.bindPacContainer(e,t,i)},250);var n=Object.keys(i.gm_accessors_.place)[0],r=i.gm_accessors_.place[n].gm_accessors_.input[n],a=this.getPacContainer(r),s=this.getQuestionCard(e),l=s.cardContainer,d=this.createPacAdditionItem(a,l,e);a.classList.add("jfAddress-itemReady"),a.appendChild(d);var c=function togglePacContainer(e){a.classList.contains("hasPreviousSelection")&&(e.target.removeEventListener("focus",togglePacContainer),e.target.removeEventListener("blur",togglePacContainer))};if("mobile"===this.layoutParams.deviceType){var u=l.querySelector(".jfAddress-search");u&&u.appendChild(a)}t.addEventListener("focus",c),t.addEventListener("blur",c)},Address.prototype.setPacContainerState=function(e){e.classList.add("hasPreviousSelection")},Address.prototype.clearAddressSubFields=function(e){var t=this;Object.keys(this.addressTypeSuffixMap).forEach(function(i){return"searchField"!==i&&t.setAddressFieldValue(e,i,"")})},Address.prototype.handleAutocompleteResult=function(e,t,i){var o=this;if(this.clearAddressSubFields(e),t.blur(),t.classList.remove("form-validation-error","validate[required]"),this.showHiddenFields(e),i.address_components)this.handleSafariProcess(function(){var t=!!i.adr_address&&i.adr_address.match(/<span class="street-address">(.*?)<\/span>/);if(t&&t[1]){var n=o.handleRelativity(i.name,t[1]),r=t[1];n<.5?r=i.name+", "+t[1]:i.name.length>=t[1]&&(r=i.name),o.setAddressFieldValue(e,"street",r)}else o.setAddressFieldValue(e,"street",i.name);var a=!!i.adr_address&&i.adr_address.match(/<span class="extended-address">(.*?)<\/span>/);a&&a[1]&&o.setAddressFieldValue(e,"street2",a[1]),o.handleAddressComponents(e,i.address_components),o.validateInputsAgain(e)});else if(i.name){var n=new this.GeocoderAPI,r=new Promise(function(e,t){return n.geocode({address:i.name},function(i,o){if("OK"===o)return e(i);t(o)})});r.then(function(t){return o.handleGeocodingResult(e,t[0])}).catch(function(){o.handleSafariProcess(function(){o.setAddressFieldValue(e,"street",i.name)})})}},Address.prototype.validateInputsAgain=function(e){this.getQuestionCard(e).cardContainer.querySelectorAll('*[class*="validate"]').forEach(function(e){e.validateInput&&e.validateInput()})},Address.prototype.handleRelativity=function(e,t){if(e===t)return 1;var i=e.split(" "),o=0;return i.forEach(function(e){return-1!==t.indexOf(e)&&o++}),o/i.length},Address.prototype.handleSafariProcess=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;return this.isSafari?setTimeout(e,t):e()},Address.prototype.handleAddressComponents=function(e,t){var i=this;t.forEach(function(t){var o=t.types;o&&o[0]&&i.addressTypeSuffixMap[t.types[0]]&&i.setAddressFieldValue(e,t.types[0],t.long_name)}),this.adaptCityState(e,t)},Address.prototype.getGeolocationField=function(e){return document.querySelector("#cid_"+e+" .jfAddress-geolocation")},Address.prototype.getClearField=function(e){return document.querySelector("#cid_"+e+" .jfAddress-clear")},Address.prototype.getQuestionCard=function(e){return this.cards.filter(function(t){return t.question.id===e})[0]||{}},Address.prototype.getQuestionContainer=function(e){var t=this.isFullScreen?this.fullScreenContainer:this.getQuestionCard(e).cardContainer;return t&&t.querySelector&&t.querySelector(".jfQuestion-fields")},Address.prototype.init=function(){var e=this;this.autocompleteFields=this.searchFields.map(function(t){var i=t.getAttribute("data-qid").match(/\d+/)[0];return{id:i,field:t,clearField:e.getClearField(i),autocomplete:new e.AutocompleteAPI(t),geolocationField:e.getGeolocationField(i)}}),this.bindAutocompleteEvents()},Address.prototype.convertToClean=function(){var e=this;this.searchFields.forEach(function(t){var i=t.getAttribute("data-qid").match(/\d+/)[0],o=e.getQuestionContainer(i);o&&o.classList&&(o.classList.remove("jfAddress-clean"),o.classList.remove("jfAddress-doubleColumn")),t&&t.remove&&t.remove()})},Address.prototype.createPacAdditionItem=function(t,i,o){var n=this,r=e.document.createElement("div");r.className="pac-item pac-item-ghost pac-item-appended";var a=e.document.createElement("span");a.className="pac-icon pac-item-ghost pac-icon-marker";var s=e.document.createElement("span");return s.className="pac-item-query pac-item-ghost",s.innerHTML="Enter Manually",r.appendChild(a),r.appendChild(s),r.addEventListener("mousedown",function(e){if(e.target&&e.target.classList.contains("pac-item-ghost")){e.stopImmediatePropagation();var r=i&&i.querySelector(".jfAddress-clean");r&&(n.setPacContainerState(t),r.classList.remove("jfAddress-clean")),n.handleSafariProcess(function(){n.setAddressFieldValue(o,"street",document.getElementById("input_"+o+"_addr_search").value)})}}),r},Address.prototype.setAddressFieldValue=function(e,t,i){var o=this.addressTypeSuffixMap[t],r=this.getQuestionContainer(e),a=r.querySelector("#input_"+e+"_"+o);if(a&&(a.value=i,this.setFieldIsFilledIfHasValue(a),"SELECT"===a.tagName)){var s=r.querySelector('[data-type="'+o+'"] input');s&&(s.value=i,(0,n.triggerEvent)(a,"change"))}},Address.prototype.adaptCityState=function(e,t){var i="",o=document.getElementById("input_"+e+"_city"),n="",r="";t.forEach(function(e){e.types&&"country"===e.types[0]?i=e.short_name:e.types&&"postal_town"===e.types[0]?r=e.long_name:e.types&&"administrative_area_level_2"===e.types[0]&&(n=e.long_name)}),i in this.countrySpecifications&&("city"===this.countrySpecifications[i]?""!==n&&(o.value=n,this.setFieldIsFilledIfHasValue(o)):"postal_town"===this.countrySpecifications[i]&&(void 0===r&&""===r||(o.value=r,this.setFieldIsFilledIfHasValue(o))))},o(Address,[{key:"googleMapsAPI",get:function(){return e.google&&e.google.maps}},{key:"placesAPI",get:function(){return this.googleMapsAPI&&this.googleMapsAPI.places}},{key:"AutocompleteAPI",get:function(){return this.placesAPI&&this.placesAPI.Autocomplete}},{key:"GeocoderAPI",get:function(){return this.googleMapsAPI&&this.googleMapsAPI.Geocoder}},{key:"PositionAPI",get:function(){return this.googleMapsAPI&&this.googleMapsAPI.LatLng}},{key:"searchFields",get:function(){var t=e.document.querySelectorAll(".form-address-search");return 0!==t.length?Object.values(t).filter(function(e){return e.tagName&&"INPUT"===e.tagName&&e.getAttribute("data-qid")}):[]}},{key:"isSafari",get:function(){return e.navigator.vendor&&e.navigator.vendor.indexOf("Apple")>-1&&e.navigator.userAgent&&!e.navigator.userAgent.match("CriOS")}},{key:"isFullScreen",get:function(){return(0,n.hasClass)(document.body,"isFullScreen")}},{key:"fullScreenContainer",get:function(){var e=document.querySelector("#jfQuestion-proxy");return e||{}}}]),Address}();t.default=r}).call(t,i(6))},4819:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=i(4647),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){function Matrix(t){_classCallCheck(this,Matrix),this.init=this.init.bind(this),this.selectNextQuestion=t.selectNextQuestion,this.isFeedbackEmbedButton=t.isFeedbackEmbedButton,this.question=t.question,this.sliders=[],this.matrixContainer=e.document.querySelector("#matrix_"+this.question.id),this.dataType=this.matrixContainer.getAttribute("data-type"),this.init()}return Matrix.prototype.init=function(){var e=this.dataType,t=this.matrixContainer,i=this.question;switch(e){case"Slider":case"Emoji Slider":this.handleSliders(t);break;case"Yes No":this.handleToggles(i,t)}},Matrix.prototype.handleToggles=function(e,t){var i=this;(0,o.forEach)(t.querySelectorAll(".forMobile .jfMatrix-choiceWrapper"),function(e){i.initMobileYesNoButtons(t,e)})},Matrix.prototype.handleSliders=function(e){var t=this,i=function(e,i){var o=t.sliders[e],n=t.sliders.length/2,r=o.isDesktopSlider,a=r?e+n:e-n,s=t.sliders[a];s.slider.setRange(i),s.slider.setFilled()},n=e.querySelectorAll(".jfMatrixInputList-item");(0,o.forEach)(n,function(e,n){var a=(0,o.closest)(e,".jfMatrix"),s=(0,o.hasClass)(a,"forDesktop"),l=new r.default({container:e,onChange:function(e){return i(n,e.value)}}),d={isDesktopSlider:s,slider:l,index:n};t.sliders.push(d)}),this.initMobileSliderButtons(e)},Matrix.prototype.initMobileSliderButtons=function(e){var t=e.querySelector(".slider"),i=e.querySelector(".jfMobileMatrix-nextRow"),n=e.querySelector(".jfMobileMatrix-prevRow"),r=(0,o.map)(e.querySelectorAll(".jfMobileMatrix-row"),function(e){return e}),a=(0,o.map)(e.querySelectorAll(".jfMobileMatrix-columnDot"),function(e){return e}),s=r.length,l=e.querySelector(".jfMobileMatrix-row.isSelected"),d=r.findIndex(function(e){return e===l});-1!==d&&a[d]&&(0,o.addClass)(a[d],"isActive");var c=(0,o.map)(t.querySelectorAll(".jfMatrixInputList-item"),function(e){return e});i.addEventListener("click",function(){var e=d+1;if(e!==s){var t=r[e];(0,o.addClass)(t,"isSelected"),(0,o.removeClass)(l,"isSelected"),e>0&&(n.disabled=!1),e+1===s&&(i.disabled=!0),(0,o.removeClass)(a[d],"isActive"),(0,o.addClass)(a[e],"isActive"),(0,o.removeClass)(c[e],"isHidden"),(0,o.addClass)(c[d],"isHidden"),l=t,d=e}}),n.addEventListener("click",function(){if(0!==d){var e=d-1,t=r[e];(0,o.addClass)(t,"isSelected"),(0,o.removeClass)(l,"isSelected"),0===e&&(n.disabled=!0),e>=s&&(i.disabled=!0),e<s-1&&(i.disabled=!1),(0,o.removeClass)(c[e],"isHidden"),(0,o.addClass)(c[d],"isHidden"),(0,o.removeClass)(a[d],"isActive"),(0,o.addClass)(a[e],"isActive"),l=t,d=e}})},Matrix.prototype.initMobileYesNoButtons=function(e,t){var i=this,o=t.querySelector(".jsMatrix-mobileYes"),n=t.querySelector(".jsMatrix-mobileNo"),r=void 0,a=e.querySelectorAll(".forMobile .jfMatrix-choiceWrapper").length,s=function(t){var o=parseInt(e.querySelector(".forMobile .jfMatrix-choiceWrapper.isActive").getAttribute("data-order"),10);if(t!==r){r=t,o<a-1&&setTimeout(function(){e.querySelector(".forMobile .jfMobileMatrix-nextRow.forMatrixNext").click()},300);o+1===a&&i.isFeedbackEmbedButton&&(clearTimeout(i.autoNextTimer),i.autoNextTimer=setTimeout(function(){i.selectNextQuestion()},500))}};o.addEventListener("change",function(){s(!0)}),n.addEventListener("change",function(){s(!1)})},Matrix}();t.default=a}).call(t,i(6))},4820:function(e,t,i){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(4821),a=_interopRequireDefault(r),s=i(4643),l=i(9),d=i(4822),c=i(4648),u=_interopRequireDefault(c),h=function(){function Email(e){_classCallCheck(this,Email);var t=e.cardContainer;this.question=e.question,this.formID=e.formID,this.showTooltip=e.showTooltip,this.removeTooltip=e.removeTooltip,this.layoutElements={cardContainer:t},this.getLayoutElements=this.getLayoutElements.bind(this),this.getLayoutElements(Email.defaultSelectors),this.onTypingFinished=this.onTypingFinished.bind(this),this.handleInputEvent=this.handleInputEvent.bind(this),this.handleConfirmationInputEvent=this.handleConfirmationInputEvent.bind(this),this.resetTimer=this.resetTimer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.validateField=this.validateField.bind(this),this.onVerificationFail=this.onVerificationFail.bind(this),this.setVerificationButtonStatus=this.setVerificationButtonStatus.bind(this),this.saveVerificationCodeInfo=this.saveVerificationCodeInfo.bind(this),this.loadVerificationCodeInfo=this.loadVerificationCodeInfo.bind(this),this.deleteVerificationCodeInfo=this.deleteVerificationCodeInfo.bind(this),this.clearVerificationCodeInfo=this.clearVerificationCodeInfo.bind(this),this.isVerificationCodeFresh=this.isVerificationCodeFresh.bind(this),this.startVerificationMode=this.startVerificationMode.bind(this),this.hasVerificationArea&&(this.initVerificationArea=this.initVerificationArea.bind(this),this.initVerificationArea());var i=this.layoutElements,o=i.primaryInput,n=i.confirmationInput;o.addEventListener("input",this.handleInputEvent),o.addEventListener("keydown",this.handleKeyDown),this.setMode=this.setMode.bind(this),this.setVerificationStatus=this.setVerificationStatus.bind(this),this.state={mode:"questionMode"},o.overridenValidateInput=this.validateField,this.hasValidation("Email_Confirm")&&(n.addEventListener("input",this.handleConfirmationInputEvent),n.overridenValidateInput=this.validateField),this.setMode(this.state.mode),this.useTooltip=!0,this.acceptedDomains&&this.moveSuggestionDropdownToBody(),this.storageEngine=new u.default({adapter:"localstorage"})}return Email.prototype.getLayoutElements=function(e){var t=this;(0,l.forEach)(Object.keys(e),function(i){var o=e[i],n=t.layoutElements[o.parent];t.layoutElements[i]=n?n.querySelector(o.selector):void 0})},Email.prototype.initVerificationArea=function(){var e=this,t=this.layoutElements,i=t.emailVerificationArea,o=t.sendVerificationCodeButton;this.handleSendVerificationCodeButton=this.handleSendVerificationCodeButton.bind(this),this.cancelVerificationStep=this.cancelVerificationStep.bind(this),this.finishVerificationStep=this.finishVerificationStep.bind(this),this.checkVerificationCode=this.checkVerificationCode.bind(this),this.resendVerificationCode=this.resendVerificationCode.bind(this),this.onVerificationSuccess=this.onVerificationSuccess.bind(this),this.verificationPrompterBox=new a.default({onFinished:this.checkVerificationCode,onSuccess:this.onVerificationSuccess,onFail:this.onVerificationFail,onResendCode:this.resendVerificationCode,onChangeEmail:function(){e._token=null,e.setMode("questionMode")},container:i}),o.addEventListener("click",this.handleSendVerificationCodeButton)},Email.prototype.setMode=function(e){var t=this.layoutElements.questionContainer,i=["questionMode","verificationMode","loadingMode"];(0,l.forEach)(i,function(e){(0,l.removeClass)(t,e)}),(0,l.addClass)(t,e),this.state=o({},this.state,{mode:e})},Email.prototype.setVerificationStatus=function(e){this.isEmailVerified=e;var t=this.layoutElements,i=t.questionContainer,o=t.primaryInput;e?(0,l.addClass)(i,"isVerifiedEmail"):(0,l.removeClass)(i,"isVerifiedEmail"),this.validateField(o)},Email.prototype.generateToken=function(e,t){var i=e.toString(),o=(new Date).getTime().toString().slice(-4),n=i.slice(-1)/1,r=t.charCodeAt(0)+n,a="JF-"+o+"-"+r;return this.saveVerificationCodeInfo(a),a},Email.prototype.isVerificationCodeFresh=function(){var e=this.loadVerificationCodeInfo();if(!e)return!1;var t=e.generatedAt;return!((new Date).getTime()-t>6e4&&(this.deleteVerificationCodeInfo(),1))},Email.prototype.saveVerificationCodeInfo=function(e){var t=JSON.stringify({token:e,generatedAt:(new Date).getTime()});this.storageEngine.set(this.localStorageKey,t)},Email.prototype.loadVerificationCodeInfo=function(){var e=null;try{e=JSON.parse(this.storageEngine.get(this.localStorageKey))}catch(e){return console.error(e),!1}return e},Email.prototype.deleteVerificationCodeInfo=function(){this.storageEngine.delete(this.localStorageKey)},Email.prototype.clearVerificationCodeInfo=function(){this.storageEngine.deleteAll("^jf_email_verification_code_"+this.formID+"_")},Email.prototype.hasValidation=function(e){return this.validations.indexOf(e)>-1},Email.prototype.closeTooltip=function(){this.removeTooltip(this.layoutElements.primaryInput)},Email.prototype.addTooltip=function(e){var t=this,i=this.layoutElements.primaryInput,o=this.emailUsername+"@"+e,n={message:"Did you mean |"+o+"|?",callback:function(){i.value=o},onClose:function(){t.useTooltip=!1}};this.showTooltip(i,n)},Email.prototype.moveSuggestionDropdownToBody=function(){var e=this.layoutElements.suggestionDropdown;e.parentNode.removeChild(e),e.style.position="fixed",document.body.appendChild(e)},Email.prototype.handleDropdownPosition=function(){var e=this.layoutElements,t=e.suggestionDropdown,i=e.primaryInput,o=i.getBoundingClientRect();t.style.top=o.bottom,t.style.left=o.left,t.style.width=o.width},Email.prototype.handleDropdownEvents=function(){var e=this;if(this.acceptedDomains){for(var t=this.handleSuggestionOptions(),i=this.layoutElements,o=i.suggestionDropdown,n=i.primaryInput,r=o.querySelector(".jfDropdown-optionList");r.hasChildNodes();)r.removeChild(r.firstChild);this.handleDropdownPosition(),document.addEventListener("click",function(t){(0,l.closest)(t.target,".jsForEmailSuggestion")||e.closeDropdown()}),(0,l.forEach)(t,function(t,i){var o=document.createElement("li"),a=e.emailUsername+"@"+t;o.setAttribute("data-value",t),o.setAttribute("key","co"+i),o.setAttribute("class","jfDropdown-optionListItem"),o.innerText=a,r.appendChild(o),o.addEventListener("click",function(t){n.value=t.target.innerHTML,t.preventDefault(),e.closeDropdown()})})}},Email.prototype.handleFuzzySearch=function(){if(!this.emailDomain||!this.emailUsername)return[];var e=this.emailDomain,t=this.suggestionList;return(0,l.fuzzySearch)(e,t)},Email.prototype.handleTooltip=function(){var e=this.handleFuzzySearch();e.length&&-1===this.suggestionList.indexOf(this.emailDomain)?this.addTooltip(e[0]):this.closeTooltip()},Email.prototype.handleSuggestionOptions=function(){var e=this.handleFuzzySearch();return e.length?e:this.suggestionList},Email.prototype.onTypingFinished=function(){var e=this.layoutElements,t=e.primaryInput,i=e.confirmationInput,o=this.hasValidation("Email_Confirm")?i.value:t.value;if(this.hasAtCharacter&&this.showSuggestions&&this.handleTooltip(),this.acceptedDomains&&this.isAcceptedDomain&&this.closeDropdown(),(0,s.isEmail)(t.value)&&o===t.value){if(this.hasError)return this.validateField(i||t);this.setVerificationButtonStatus(!0)}else this.isEmailVerificationButtonActive&&this.setVerificationButtonStatus(!1)},Email.prototype.cancelVerificationStep=function(){this._token=null,this.setMode("questionMode")},Email.prototype.finishVerificationStep=function(){this.setVerificationStatus(!0),this.setMode("questionMode"),this.verificationPrompterBox.clear(!0)},Email.prototype.startVerificationMode=function(){this.setMode("verificationMode");var e=this.layoutElements.primaryInput;this.verificationPrompterBox.setEmailAddress(e.value),this.verificationPrompterBox.layoutElements.input.focus()},Email.prototype.handleSendVerificationCodeButton=function(){var t=this;if(this.setMode("loadingMode"),this.isVerificationCodeFresh())return void this.startVerificationMode();var i=this.layoutElements.primaryInput,o=JSON.stringify({formID:e.CardForm.formID,emailAddress:i.value,token:this.token});fetch(e.CardForm.apiURL+"/sendConfirmationCodeEmail",{method:"POST",body:o}).then(function(e){e.json().then(function(e){200===e.responseCode?t.startVerificationMode():(t.setMode("questionMode"),console.error(e.message))})}).catch(function(e){e.json().then(function(e){t.setMode("questionMode"),console.error(e)})})},Email.prototype.setVerificationButtonStatus=function(e){if(this.hasVerificationArea){var t=this.layoutElements,i=t.sendVerificationCodeButton,o=t.sendVerificationCodeButtonWrapper;e?((0,l.removeClass)(o,"isPassive"),i.disabled=!1):((0,l.addClass)(o,"isPassive"),i.disabled=!0)}},Email.prototype.resendVerificationCode=function(){this._token=null,this.deleteVerificationCodeInfo(),this.handleSendVerificationCodeButton()},Email.prototype.checkVerificationCode=function(t,i){var o=this,n=this.layoutElements.primaryInput,r=JSON.stringify({formID:e.CardForm.formID,emailAddress:n.value,token:this.token,confirmationCode:t});fetch(e.CardForm.apiURL+"/verifyConfirmationCode",{method:"POST",body:r}).then(function(e){e.json().then(function(e){200===e.responseCode?(o._token=null,o.clearVerificationCodeInfo(),i(!0)):(i(!1),console.error(e.message))})}).catch(function(e){e.json().then(function(e){i(!1),console.error(e)})})},Email.prototype.onVerificationSuccess=function(){this.isEmailVerified=!0,setTimeout(this.finishVerificationStep,800)},Email.prototype.onVerificationFail=function(){},Email.prototype.closeDropdown=function(){(0,l.removeClass)(this.layoutElements.suggestionDropdown,"isOpen")},Email.prototype.openDropdown=function(){(0,l.addClass)(this.layoutElements.suggestionDropdown,"isOpen")},Email.prototype.resetTimer=function(){void 0!==this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(this.onTypingFinished,750)},Email.prototype.handleInputEvent=function(){this.isEmailVerified&&this.setVerificationStatus(!1),this.resetTimer(),this.hasAtCharacter&&this.acceptedDomains?(this.openDropdown(),this.handleDropdownEvents(),this.isAcceptedDomain&&this.closeDropdown()):(this.closeDropdown(),this.closeTooltip())},Email.prototype.handleConfirmationInputEvent=function(){this.resetTimer()},Email.prototype.handleKeyDown=function(e){e.key,e.keyCode},Email.prototype.validateField=function(t,i,o){if("loadingMode"!==this.state.mode){var n=o,r=!1,a=this.layoutElements,l=a.primaryInput,d=a.confirmationInput,c=l.value,u=this.hasValidation("Email_Confirm")?d.value:c,h={errorState:!1,errorMessage:""},p=(0,s.isEmail)(c);this.hasValidation("required")&&(0,s.isEmpty)(c)?h={errorState:!0,errorMessage:e.JotForm.texts.required}:(0,s.isFilled)(c)&&!p?h={errorState:!0,errorMessage:e.JotForm.texts.email}:this.hasValidation("disallowFree")&&p&&this.isFreeDomain?h={errorState:!0,errorMessage:e.JotForm.texts.freeEmailError}:p&&this.hasValidation("allowedDomains")&&!this.isAcceptedDomain?h={errorState:!0,errorMessage:"This domain is not allowed."}:this.hasValidation("Email_Confirm")&&t===d&&!(0,s.isEqual)(c,u)?h={errorState:!0,errorMessage:e.JotForm.texts.confirmEmail,targetInput:d}:p&&this.hasValidation("verificationCode")&&!this.isEmailVerified&&(r=!0,h={errorState:!0,errorMessage:e.JotForm.texts.validateEmail});var m=h,f=m.errorState,y=m.errorMessage,v=m.targetInput;return f?(this.setVerificationButtonStatus(r),e.JotForm.errored(v||l,y,n)):(this.setVerificationButtonStatus(p),e.JotForm.corrected(v||l))}},n(Email,[{key:"validations",get:function(){var t=this.layoutElements,i=t.primaryInput,o=t.confirmationInput;return[].concat(e.JotForm.getInputValidations(i),o?e.JotForm.getInputValidations(o):[]).filter(function(e,t,i){return i.indexOf(e)===t})}},{key:"token",get:function(){if(!this._token){var t=this.layoutElements.primaryInput;this.isVerificationCodeFresh()?this._token=this.loadVerificationCodeInfo().token:this._token=this.generateToken(e.CardForm.formID,t.value)}return this._token}},{key:"localStorageKey",get:function(){var e=this.layoutElements.primaryInput;return"jf_email_verification_code_"+this.formID+"_"+e.value}},{key:"emailDomain",get:function(){return!!this.hasAtCharacter&&this.layoutElements.primaryInput.value.split("@")[1]}},{key:"emailUsername",get:function(){return!!this.hasAtCharacter&&this.layoutElements.primaryInput.value.split("@")[0]}},{key:"hasDotCharacter",get:function(){return!!this.emailDomain&&this.emailDomain.indexOf(".")>-1}},{key:"hasVerificationArea",get:function(){return this.hasValidation("verificationCode")||this.hasValidation("domainCheck")}},{key:"hasAtCharacter",get:function(){return this.layoutElements.primaryInput.value.indexOf("@")>-1}},{key:"freeEmailAddresses",get:function(){return e.JotForm.freeEmailAddresses}},{key:"isFreeDomain",get:function(){if(this.emailDomain){var e=this.emailDomain;return this.freeEmailAddresses.filter(function(t){return("@"+e).indexOf("@"+t+".")>-1}).length>0}return!1}},{key:"isAcceptedDomain",get:function(){return this.acceptedDomains.indexOf(this.emailDomain)>-1}},{key:"hasError",get:function(){var e=this.layoutElements,t=e.primaryInput,i=e.confirmationInput;return t.errored||i&&i.errored}},{key:"isEmailVerificationButtonActive",get:function(){if(this.hasVerificationArea){return!this.layoutElements.sendVerificationCodeButton.disabled}}},{key:"hasSuggestion",get:function(){return!1}},{key:"providerList",get:function(){return d.MOST_USED_PROVIDERS}},{key:"acceptedDomains",get:function(){var e=this.layoutElements.primaryInput.getAttribute("data-accepted-domains");return!(!e||""===e)&&(e=e.strip().split("|").filter(function(e){return""!==e}),!!e.length&&e)}},{key:"showSuggestions",get:function(){return this.emailUsername.length>1&&!this.acceptedDomains&&this.useTooltip}},{key:"suggestionList",get:function(){var e=this,t=this.acceptedDomains?this.acceptedDomains:this.providerList;return this.hasValidation("disallowFree")&&(t=t.filter(function(t){var i=t.split(".")[0];return-1===e.freeEmailAddresses.indexOf(i)})),t}}]),Email}();h.defaultSelectors={primaryInput:{parent:"cardContainer",selector:".jfField[data-type=email] input.forEmail"},confirmationInput:{parent:"cardContainer",selector:".jfField[data-type=emailConfirmation] input.forEmail"},fieldContainer:{parent:"cardContainer",selector:".jfField"},questionContainer:{parent:"cardContainer",selector:".jfQuestion-fields"},suggestionDropdown:{parent:"cardContainer",selector:".jsForEmailSuggestion"},sendVerificationCodeButtonWrapper:{parent:"cardContainer",selector:".js-emailVerificationButtonWrapper"},sendVerificationCodeButton:{parent:"sendVerificationCodeButtonWrapper",selector:".js-emailVerificationButton"},emailVerificationArea:{parent:"cardContainer",selector:".jfEmailVerify-wrapper.js-emailVerificationArea"}},t.default=h}).call(t,i(6))},4821:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=i(9),a=function(){function VerificationPrompterBox(e){_classCallCheck(this,VerificationPrompterBox);var t=e.onChangeEmail,i=e.onResendCode,o=e.onFinished,n=e.onSuccess,r=e.onFail;this.functions={onChangeEmail:t,onResendCode:i,onFinished:o,onSuccess:n,onFail:r},this.handleInputEvent=this.handleInputEvent.bind(this),this.reflectOnPrompter=this.reflectOnPrompter.bind(this),this.setEmailAddress=this.setEmailAddress.bind(this),this.onResendCode=this.onResendCode.bind(this),this.onChangeEmail=this.onChangeEmail.bind(this),this.verificationCallback=this.verificationCallback.bind(this),this.clear=this.clear.bind(this),this.setLayoutElements.bind(this),this.init=this.init.bind(this),this.setLayoutElements(e),this.init()}return VerificationPrompterBox.prototype.setLayoutElements=function(e){var t=e.container,i=o({},this.defaultSelectors,e.selectors||{});this.layoutElements={container:t,input:t.querySelector(i.input),prompter:t.querySelector(i.prompter),successIcon:t.querySelector(i.successIcon),failIcon:t.querySelector(i.failIcon),changeEmailButton:t.querySelector(i.changeEmailButton),resendCodeButton:t.querySelector(i.resendCodeButton),emailAddressContainer:t.querySelector(i.emailAddressContainer)}},VerificationPrompterBox.prototype.init=function(){var e=this.layoutElements,t=e.resendCodeButton,i=e.failIcon,o=e.changeEmailButton;e.input.addEventListener("input",this.handleInputEvent),t.addEventListener("click",this.onResendCode),i.addEventListener("click",this.clear),o.addEventListener("click",this.onChangeEmail)},VerificationPrompterBox.prototype.setEmailAddress=function(e){this.layoutElements.emailAddressContainer.innerHTML=e},VerificationPrompterBox.prototype.clear=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.layoutElements,o=i.successIcon,n=i.failIcon,a=i.input;t&&((0,r.removeClass)(o,"isVisible"),(0,r.removeClass)(n,"isVisible")),e&&(a.setValue(""),this.reflectOnPrompter(""),a.focus()),a&&(0,r.removeClass)(a,"validate[required]")},VerificationPrompterBox.prototype.onChangeEmail=function(){this.clear(!0,!0),this.functions.onChangeEmail()},VerificationPrompterBox.prototype.onResendCode=function(){this.clear(!0,!0),this.functions.onResendCode()},VerificationPrompterBox.prototype.reflectOnPrompter=function(e){for(var t=this.layoutElements.prompter,i=e,o=e.length;o<4;o++)i+="<span>&bull;</span>";t.innerHTML=i},VerificationPrompterBox.prototype.verificationCallback=function(e){var t=this.layoutElements,i=t.successIcon,o=t.failIcon;e?((0,r.addClass)(i,"isVisible"),this.functions.onSuccess()):((0,r.addClass)(o,"isVisible"),this.functions.onFail())},VerificationPrompterBox.prototype.handleInputEvent=function(e){var t=this.functions.onFinished,i=this.layoutElements.input;38!==e.which&&40!==e.which||e.preventDefault();var o=e.target.value;switch(o.length>4&&(o=o.substring(0,4),i.value=o),o.length){case 4:t(o,this.verificationCallback);break;default:this.clear()}this.reflectOnPrompter(o)},n(VerificationPrompterBox,[{key:"defaultSelectors",get:function(){return{input:".jfEmailVerify-inside .jfInput-input",emailAddressContainer:".jfEmailVerify span",prompter:".js-emailVerify-prompter",successIcon:".js-emailVerify-statusIcon.js-forSuccess",failIcon:".js-emailVerify-statusIcon.js-forFail",changeEmailButton:".js-changeEmail",resendCodeButton:".js-resendCode"}}}]),VerificationPrompterBox}();t.default=a},4822:function(e,t,i){"use strict";t.__esModule=!0;var o=t.MOST_USED_PROVIDERS=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","fastmail.fm","games.com","gmx.net","hush.com","hushmail.com","icloud.com","iname.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","protonmail.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","yandex.com","bellsouth.net","charter.net","cox.net","earthlink.net","juno.com","btinternet.com","blueyonder.co.uk","freeserve.co.uk","live.co.uk","ntlworld.com","o2.co.uk","orange.net","sky.com","talktalk.co.uk","tiscali.co.uk","virgin.net","wanadoo.co.uk","bt.com","sina.com","qq.com","naver.com","hanmail.net","daum.net","nate.com","yahoo.co.jp","yahoo.co.kr","yahoo.co.id","yahoo.co.in","yahoo.com.sg","yahoo.com.ph","hotmail.fr","live.fr","laposte.net","yahoo.fr","wanadoo.fr","orange.fr","gmx.fr","sfr.fr","neuf.fr","free.fr","gmx.de","hotmail.de","live.de","online.de","t-online.de","web.de","yahoo.de","libero.it","virgilio.it","hotmail.it","aol.it","tiscali.it","alice.it","live.it","yahoo.it","email.it","tin.it","poste.it","teletu.it","mail.ru","rambler.ru","yandex.ru","ya.ru","list.ru","hotmail.be","live.be","skynet.be","voo.be","tvcablenet.be","telenet.be","hotmail.com.ar","live.com.ar","yahoo.com.ar","fibertel.com.ar","speedy.com.ar","arnet.com.ar","yahoo.com.mx","live.com.mx","hotmail.es","hotmail.com.mx","prodigy.net.mx","yahoo.com.br","hotmail.com.br","outlook.com.br","uol.com.br","bol.com.br","terra.com.br","ig.com.br","itelefonica.com.br","r7.com","zipmail.com.br","globo.com","globomail.com","oi.com.br","jotform.com"];t.default=o},4823:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=i(4647),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){function EmojiSlider(e){_classCallCheck(this,EmojiSlider),this.container=e.cardContainer,this.scaleItem=this.container.querySelector(".js-emojiSlider"),this.slider=new r.default({options:this.sliderOptions,container:this.scaleItem})}return o(EmojiSlider,[{key:"sliderOptions",get:function(){return{rowSelector:".js-emojiScale",labelSelector:".js-emojiFaces",rangeSelector:".js-emojiSlider-faceList",scaleSeperatorSelector:".js-emojiScaleSep",visibleClass:"isVisible",transitionClass:"hasTransition",filledClass:"isFilled",scaleListItemSelector:".js-emojiSlider"}}}]),EmojiSlider}();t.default=a},4824:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function feedbackIframeMessager(e){_classCallCheck(this,feedbackIframeMessager),this.formID=e.formID,this.ID="JF_feedback_embed_"+this.formID+"_iframe"}return feedbackIframeMessager.prototype.init=function(){},feedbackIframeMessager.prototype.sendPostMessage=function(e){window.parent.postMessage(e,"*")},feedbackIframeMessager.prototype.setOS=function(e){this.sendPostMessage({messageType:"setOS",OS:e})},feedbackIframeMessager.prototype.setDeviceType=function(e){this.sendPostMessage({messageType:"setDeviceType",deviceType:e})},feedbackIframeMessager.prototype.updateWindowHeight=function(e){this.sendPostMessage(e)},feedbackIframeMessager}();t.default=o},4825:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=function(){function Fullscreen(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,Fullscreen),this.el=t||e.document.documentElement,this.request=this.request.bind(this),this.exit=this.exit.bind(this),this.toggle=this.toggle.bind(this)}return Fullscreen.prototype.request=function(){this.el.requestFullscreen?this.el.requestFullscreen():this.el.mozRequestFullScreen?this.el.mozRequestFullScreen():this.el.webkitRequestFullscreen?this.el.webkitRequestFullscreen():this.el.msRequestFullscreen&&this.el.msRequestFullscreen()},Fullscreen.prototype.exit=function(){e.document.exitFullscreen?e.document.exitFullscreen():e.document.mozCancelFullScreen?e.document.mozCancelFullScreen():e.document.mozCancelFullscreen?e.document.mozCancelFullScreen():e.document.webkitExitFullscreen?e.document.webkitExitFullscreen():e.document.msExitFullscreen&&e.document.msExitFullscreen()},Fullscreen.prototype.toggle=function(){this.fullscreenElement?this.exit():this.request()},i(Fullscreen,[{key:"fullscreenElement",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement||null}}]),Fullscreen}();t.default=o}).call(t,i(6))},4826:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function Dropdown(e){_classCallCheck(this,Dropdown),this.layoutParams=e.layoutParams,this.cards=e.cards,this.validateCard=e.validateCard,this.isPreviewMode=e.isPreviewMode,this.bindDropdownEvents=this.bindDropdownEvents.bind(this),this.bindSearchInput=this.bindSearchInput.bind(this),this.bindClickOutside=this.bindClickOutside.bind(this),this.bindDropdownKeyEvents=this.bindDropdownKeyEvents.bind(this),this.setInitialValues=this.setInitialValues.bind(this),this.createClickEvent=this.createClickEvent.bind(this),this.bindSelectChangeEvent=this.bindSelectChangeEvent.bind(this),this.init=this.init.bind(this),this.init()}return Dropdown.prototype.init=function(){var e=this,t=document.querySelectorAll(".jfInput-dropdown");this.elementsArr=[],(0,o.forEach)(t,function(t){var i=t.querySelector(".jfDropdown-optionList"),o=i.querySelectorAll(".jfDropdown-optionListItem"),n=e.getElements(t);e.elementsArr.push(n),e.bindDropdownEvents(n,o),e.bindSearchInput(n,o),e.updatePopupPosition(n),e.movePopupListToBody(n)}),this.setInitialValues()},Dropdown.prototype.movePopupListToBody=function(e){(0,o.hasClass)(e.dropdown,"isDrawer")&&(e.popupContainer.parentNode.removeChild(e.popupContainer),e.popupContainer.style.position="fixed",document.body.appendChild(e.popupContainer))},Dropdown.prototype.updatePopupPosition=function(e){if((0,o.hasClass)(e.dropdown,"isDrawer")){var t=e.dropdownWrapper.getBoundingClientRect(),i=e.popupContainer;i.style.top=t.bottom,i.style.left=t.left,i.style.width=t.width}},Dropdown.prototype.getElements=function(e){return{dropdown:e,popupListUl:e.querySelector(".jfDropdown-optionList"),popupContainer:e.querySelector(".jfDropdown-optionListWrapper"),select:e.parentNode.querySelector("select"),searchInput:e.querySelector(".jfDropdown-search"),defaultChip:e.querySelector(".defaultChip"),chipContainer:e.querySelector(".jfDropdown-chipContainer"),dropdownWrapper:e.querySelector(".jfDropdown-wrapper")}},Dropdown.prototype.getList=function(e,t){for(var i=t;i.hasChildNodes();)i.removeChild(i.firstChild);(0,o.forEach)(e,function(e){i.appendChild(e)})},Dropdown.prototype.filterOptionList=function(e,t,i){var n=[],r=[];(0,o.forEach)(i.select.querySelectorAll('option[selected="true"]'),function(e){r.push(e.getAttribute("value"))});var a=(0,o.hasClass)(i.dropdown,"isMultiple");if((0,o.forEach)(t,function(t){var i=t.getAttribute("data-value");(!a||r.indexOf(i)<0)&&i.toLowerCase().indexOf(e.toLowerCase())>-1&&n.push(t)}),0===n.length){var s=t[0].cloneNode(!1);(0,o.removeClass)(s,"isSelected"),s.removeAttribute("data-value"),s.innerHTML='No Result Found For "'+e+'"',n.push(s)}return n},Dropdown.prototype.bindSearchInput=function(e,t){var i=this,n=e.searchInput,r=e.dropdown,a=n?n.placeholder||"Search":"Search",s=(0,o.hasClass)(r,"isMultiple");n&&(n.addEventListener("keyup",function(o){var n=o.target.value,r=i.filterOptionList(n,t,e);i.getList(r,e.popupListUl)}),s||(n.addEventListener("focus",function(){n.value="";var o=n.getAttribute("placeholder")||a;n.setAttribute("placeholder",o);var r=i.filterOptionList(n.value,t,e);i.getList(r,e.popupListUl),i.openDropdown(e)}),n.addEventListener("blur",function(){i.setSearchInputValue(e)})))},Dropdown.prototype.bindDropdownEvents=function(e,t){var i=this,n=e.select,r=e.dropdown,a=(0,o.hasClass)(r,"isMultiple"),s=e.searchInput,l=e.defaultChip;l&&l.querySelector(".removeChip").addEventListener("click",function(r){var a=l.getAttribute("data-value");r.stopPropagation(),r.preventDefault();var s=[];(0,o.forEach)(t,function(e){(document.body.contains(e)||e===a)&&s.push(e)}),i.getList(s,e.popupListUl),l.remove();var d=e.popupListUl.querySelectorAll(".jfDropdown-optionListItem");(0,o.forEach)(d,function(e){e.getAttribute("data-value")===a&&(0,o.removeClass)(e,"isSelected")});var c=e.select.querySelectorAll('option[value="'+a+'"]');(0,o.forEach)(c,function(e){e.removeAttribute("selected")}),i.fireChangeEvent(n)}),e.popupListUl.addEventListener("click",function(l){var d=l.target,c=d.getAttribute("data-value");if(e.select.focus(),null!==c)if(a){var u=e.select.querySelectorAll('option[value="'+c.replace(/["\\]/g,"\\$&")+'"]');(0,o.forEach)(u,function(e){e.setAttribute("selected",!0)});var h=(0,o.map)(e.chipContainer.querySelectorAll(".jfDropdown-chip"),function(e){return e.getAttribute("data-value")}).indexOf(c)>-1;if(!h){var p=document.createElement("span"),m=c===d.innerHTML?c:d.innerHTML;p.innerHTML=m+'<button class="removeChip">&times;</button>',p.setAttribute("class","jfDropdown-chip"),p.setAttribute("data-value",c),e.chipContainer.appendChild(p),d.remove(),p.querySelector(".removeChip").addEventListener("click",function(r){r.stopPropagation(),r.preventDefault();var a=[];(0,o.forEach)(t,function(e){(document.body.contains(e)||e===d)&&a.push(e)}),i.getList(a,e.popupListUl),p.remove();var s=e.select.querySelectorAll('option[value="'+c+'"]');(0,o.forEach)(s,function(e){e.removeAttribute("selected")}),i.fireChangeEvent(n)}),i.fireChangeEvent(n)}}else{(0,o.forEach)(t,function(e){(0,o.removeClass)(e,"isSelected")}),(0,o.addClass)(d,"isSelected");var f=n.querySelector('option[value="'+c.replace(/["\\]/g,"\\$&")+'"]');(0,o.forEach)(n.querySelectorAll("option"),function(e){e.removeAttribute("selected")}),f&&f.setAttribute("selected",!0),n.value=c,i.closeDropdown(e);var y=r.querySelector(".isSingle");y.innerHTML=c===d.innerHTML?c:d.innerHTML,s&&(s.value=c),i.fireChangeEvent(n)}}),e.dropdownWrapper.addEventListener("click",function(t){if(!e.select.hasAttribute("disabled")){if(t.preventDefault(),e.select.focus(),i.isPopupOpen(e)&&s)return void s.focus();i.isPopupOpen(e)?i.closeDropdown(e):i.openDropdown(e)}}),r.addEventListener("keydown",function(t){return i.bindDropdownKeyEvents(t,e)},!0),document.addEventListener("click",function(t){return i.bindClickOutside(t,e)}),window.addEventListener("resize",function(){return i.closeDropdown(e)}),((0,o.closest)(r,".jfProductModule-wrapper","jfCard-question")||(0,o.closest)(r,".jfQuestion-fields","jfCard-question")).addEventListener("scroll",function(){return i.scrollParent(e)}),e.select.addEventListener("change",function(){return i.bindSelectChangeEvent(e)})},Dropdown.prototype.bindClickOutside=function(e,t){if(this.isPopupOpen(t)){var i=(0,o.hasClass)(t.dropdown,"isMultiple"),n=t.searchInput;t.dropdownWrapper.contains(e.target)||t.popupContainer.contains(e.target)||(this.closeDropdown(t),!i&&n&&this.setSearchInputValue(t))}},Dropdown.prototype.bindDropdownKeyEvents=function(e,t){var i=t.dropdown;switch(e.keyCode){case 13:this.isPopupOpen(t)&&(e.preventDefault(),e.stopPropagation(),this.selectFromKeyboard(t));break;case 32:this.isPopupOpen(t)?i.querySelector(".jfDropdown-search")||(e.preventDefault(),e.stopPropagation(),this.selectFromKeyboard(t)):(e.preventDefault(),e.stopPropagation(),this.openDropdown(t));break;case 38:e.preventDefault(),this.isPopupOpen(t)?this.moveNextPrevElement(t,"previousElementSibling"):this.openDropdown(t);break;case 40:e.preventDefault(),this.isPopupOpen(t)?this.moveNextPrevElement(t,"nextElementSibling"):this.openDropdown(t)}},Dropdown.prototype.selectFromKeyboard=function(e){var t=e.popupListUl.querySelector(".js-selected")?e.popupListUl.querySelector(".js-selected"):e.popupListUl.querySelector(".isSelected");if(t&&t.getAttribute("data-value")){(0,o.removeClass)(t,"js-selected");var i=e.searchInput;i&&i.blur(),t.click(),e.dropdown.focus()}},Dropdown.prototype.closeDropdown=function(e){e.searchInput&&this.toggleSearchInput(e,!1),(0,o.removeClass)(e.popupContainer,"isOpen")},Dropdown.prototype.closeAllDropdowns=function(){var e=this;this.elementsArr.forEach(function(t){return e.closeDropdown(t)})},Dropdown.prototype.isPopupOpen=function(e){return(0,o.hasClass)(e.popupContainer,"isOpen")},Dropdown.prototype.openDropdown=function(e){var t=e.searchInput;(0,o.addClass)(e.popupContainer,"isOpen"),t&&(this.toggleSearchInput(e,!0),t.focus()),this.updatePopupPosition(e)},Dropdown.prototype.toggleSearchInput=function(e,t){if(e.dropdown.querySelector(".isSelected")){e.chipContainer.querySelector("span").style.display=t?"none":"block";e.searchInput.style.display=t?"block":"none"}},Dropdown.prototype.moveNextPrevElement=function(e,t){var i=void 0;if("nextElementSibling"===t)i=!1;else{if("previousElementSibling"!==t)return;i=!1}var n=e.popupListUl.querySelector(".js-selected");if(n){var r=n[t];r&&((0,o.removeClass)(n,"js-selected"),(0,o.addClass)(r,"js-selected"),r.scrollIntoView(i))}else{var a=e.popupListUl.querySelector(".isSelected");if(a){var s=a[t];s&&((0,o.addClass)(s,"js-selected"),s.scrollIntoView(i))}else{var l=e.popupListUl.querySelector(".jfDropdown-optionListItem");l&&((0,o.addClass)(l,"js-selected"),l.scrollIntoView(i))}}},Dropdown.prototype.scrollParent=function(e){this.isPopupOpen(e)&&((0,o.isVisible)(e.dropdown)?this.updatePopupPosition(e):this.closeDropdown(e))},Dropdown.prototype.setSearchInputValue=function(e){var t=e.select.value,i=e.searchInput,o=i.placeholder;t?i.value=t:(i.value="",i.placeholder=o)},Dropdown.prototype.fireChangeEvent=function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),e.dispatchEvent(t)},Dropdown.prototype.setInitialValues=function(){var e=this;this.elementsArr.forEach(function(t){var i=t.dropdown;if((0,o.hasClass)(i,"isMultiple")){var n=(0,o.map)(t.select.querySelectorAll("option",function(e){return e})).filter(function(e){return e.selected&&""!==e.innerText});n.length&&n.map(function(e){return e.getAttribute("value")}).forEach(function(i){var n=(0,o.map)(t.popupListUl.querySelectorAll("li"),function(e){return e}).find(function(e){return e.getAttribute("data-value")===i});n&&e.createClickEvent(n)})}else if(t.select.value){var r=(0,o.map)(t.popupListUl.querySelectorAll("li"),function(e){return e}).find(function(e,i){return e.getAttribute("data-value")===t.select.value&&0!==i});r&&e.createClickEvent(r)}})},Dropdown.prototype.createClickEvent=function(t){if(!this.layoutParams.hasTouch||this.isPreviewMode){var i=e.document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}},Dropdown.prototype.bindSelectChangeEvent=function(e){var t=e.dropdown;if((0,o.hasClass)(t,"form-validation-error")){var i=e.select.getAttribute("data-component"),n=void 0;switch(i){case"dropdown":n=e.select.id;break;default:n="input_"+e.select.id.split("_")[1]}var r=this.cards.filter(function(e){return e.question.qid===n})[0];this.validateCard(r)}var a=(0,o.hasClass)(t,"isMultiple");if(!this.layoutParams.hasTouch&&!a){var s=(0,o.map)(e.popupListUl.querySelectorAll("li"),function(e){return e}).find(function(t){return t.getAttribute("data-value")===e.select.value});s&&!(0,o.hasClass)(s,"isSelected")&&this.createClickEvent(s)}},Dropdown}();t.default=n}).call(t,i(6))},4827:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=i(4828),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=i(4643),d=i(9),c=function(){function Textarea(e,t,i){var o=e.cardContainer,n=e.fieldContainer,r=e.question,a=r.id,s=r.qid;_classCallCheck(this,Textarea),this.questionID=a,this.osName=i,this.browserName=t,this.commandTagMap={bold:["B","STRONG"],italic:["I","EM"],underline:["U"],insertOrderedList:["OL"],insertUnorderedList:["UL"],formatBlock:["BLOCKQUOTE"],createLink:["A"],insertImage:["IMG"],heading:["H1","H2","H3","H4","H5","H6"]},this.togglableCommands=Object.keys(this.commandTagMap),this.keyCommandMap={k:"createLink",b:"bold",i:"italic",u:"underline"},this.shortcutKey="macOS"===this.osName?"metaKey":"ctrlKey",this.preventNextKeyUp=!1,this.editorManipulationEventList=["blur","input","keyup","keydown","paste","copy","cut","delete","mouseup","textinput"],"iOS"!==this.osName?this.editorManipulationEventList=this.editorManipulationEventList.concat(["selectionchange","DOMNodeInserted","DOMNodeRemoved"]):this.editorManipulationEventList=this.editorManipulationEventList.concat(["touchend"]),this.renderType=n.getAttribute(["data-render-type"]),this.editorInput=o.querySelector("#"+s),this.limitSpan=o.querySelector("#"+s+"-limit"),this.limitSpan&&(this.maxLimit=this.limitSpan.getAttribute("data-limit"),this.minLimit=this.limitSpan.getAttribute("data-minimum"),this.limitType=this.limitSpan.getAttribute("data-limit-type"),this.limitSpan.textContent="0/"+(this.minLimit>0?this.minLimit:this.maxLimit)),this.selectionState=null,this.initEditor=this.initEditor.bind(this),this.saveSelection=this.saveSelection.bind(this),this.getActiveTags=this.getActiveTags.bind(this),this.limitValidation=this.limitValidation.bind(this),this.isCommandActive=this.isCommandActive.bind(this),this.restoreSelection=this.restoreSelection.bind(this),this.bindEditorButton=this.bindEditorButton.bind(this),this.handleKeydownEvent=this.handleKeydownEvent.bind(this),this.setHtmlFromMarkdown=this.setHtmlFromMarkdown.bind(this),this.updateToolbarStatus=this.updateToolbarStatus.bind(this),this.setMarkdownFromHtml=this.setMarkdownFromHtml.bind(this),this.setHtmlFromMarkdown=this.setHtmlFromMarkdown.bind(this),this.handleEditorMutation=this.handleEditorMutation.bind(this),this.bindEditorButtonModal=this.bindEditorButtonModal.bind(this),this.bindEditorButtonSelect=this.bindEditorButtonSelect.bind(this),this.handleEditorButtonClick=this.handleEditorButtonClick.bind(this),this.getToolbarButtonByCommand=this.getToolbarButtonByCommand.bind(this),"mde"===this.renderType&&(this.editorClassName="inlineEditor-"+a,this.editorToolbar=o.querySelector("#"+s+"_toolbar"),this.editorContainer=o.querySelector("#"+s+"_editor"),this.editorToolbarButtons=this.editorToolbar?this.editorToolbar.getElementsByClassName("jfToolbar-item"):{},this.limitSpan&&this.editorToolbar&&(this.editorToolbar.appendChild(this.limitSpan.parentNode),this.editorInput.limitValidation=this.limitValidation),this.editorContainer&&this.editorToolbar&&this.initEditor())}return Textarea.prototype.saveSelection=function(){this.selectionState=(0,d.getSelectedRange)()},Textarea.prototype.restoreSelection=function(){(0,d.setSelectionRange)(this.selectionState),this.selectionState=null},Textarea.prototype.getToolbarButtonByCommand=function(e){return this.editorToolbarButtons.namedItem("input_"+this.questionID+"_"+e)},Textarea.prototype.initBasic=function(){var e=this;(0,d.forEach)(this.editorManipulationEventList,function(t){return e.editorInput.addEventListener(t,function(){return e.limitsCounter()})})},Textarea.prototype.bindEditorButton=function(e){var t=this,i=e.getAttribute("data-command");switch(i){case"createLink":case"insertImage":this.bindEditorButtonModal(e,i);break;case"insertEmoji":this.emojiPicker=new s.default(e,this.editorContainer,this.restoreSelection);break;case"heading":this.bindEditorButtonSelect(e,i);break;default:e.addEventListener("click",function(){return t.handleEditorButtonClick(e,i)})}},Textarea.prototype.bindEditorButtonSelect=function(e,t){var i=this,o=e.querySelector("ul"),n=o.getElementsByTagName("li");if(!o)return e.hide();e.addEventListener("click",function(e){e.stopPropagation();var r=e.target;switch(r.tagName){case"DIV":(0,d.toggleClass)(o,"isVisible"),i.restoreSelection(),["Firefox","Safari"].indexOf(i.browserName)>-1&&i.saveSelection();break;default:var a=r.getAttribute("data-value");i.handleEditorButtonClick(r,t,a),(0,d.forEach)(n,function(e){return e.setAttribute("data-selected",!1)}),r.setAttribute("data-selected",!0),(0,d.removeClass)(o,"isVisible")}}),document.body.addEventListener("click",function(t){var i=t.target;i===e||(0,d.isDescendant)(e,i)||(0,d.removeClass)(o,"isVisible")})},Textarea.prototype.bindEditorButtonModal=function(e,t){var i=this,o=e.getElementsByClassName("jfToolbar-modal")[0],n=e.getElementsByClassName("modal-btn")[0],r=e.getElementsByTagName("input")[0];if(!o||!r||!n)return e.hide();var a=function(){i.handleEditorButtonClick(e,t,r.value),r.value="",(0,d.removeClass)(o,"isVisible")};e.addEventListener("click",function(n){if(n.target===e){i.restoreSelection();var a=i.isCommandActive(t);if(i.saveSelection(),a)i.handleEditorButtonClick(e,t);else{var s=i.selectionFocus.textContent;if(!i.isSelectionCollapsed&&-1!==["insertImage","createLink"].indexOf(t)&&(0,l.isValidUrl)(s))return i.handleEditorButtonClick(e,t,s);(0,d.toggleClass)(o,"isVisible"),(0,d.hasClass)(o,"isVisible")&&r.focus()}}}),r.addEventListener("blur",function(){setTimeout(function(){var t=i.selectionFocus;t!==o&&t.parentNode!==n&&t.parentNode!==e&&(0,d.removeClass)(o,"isVisible")},0)}),r.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),a())}),n.addEventListener("click",a)},Textarea.prototype.handleEditorButtonClick=function(e,t,i){switch(this.restoreSelection(),t){case"formatBlock":var o=(0,d.hasClass)(e,"active")?"<DIV>":"<BLOCKQUOTE>";document.execCommand("formatBlock",!1,o);break;case"heading":document.execCommand("formatBlock",!1,"H"+i);break;case"createLink":if(this.isCommandActive("createLink")){document.execCommand("unlink");break}if("Firefox"===this.browserName){document.execCommand("insertHTML",!1,'<a href="'+i+'" target="_blank">'+i+"</a>");break}default:document.execCommand(t,!1,i),-1!==this.togglableCommands.indexOf(t)&&this.isSelectionCollapsed&&(0,d.toggleClass)(e,"active")}},Textarea.prototype.handleEditorMutation=function(t,i){var o=this,n=t.type,r=this.osName,a=this.browserName,s=this.editorInput;"iOS"!==r||i||setTimeout(function(){return o.handleEditorMutation(t,!0)},125),s.value=this.editorContainer.textContent,s.dispatchEvent(e.createNewEvent(n));var l=-1===["blur"].indexOf(n)||"Chrome"===a,d=-1===["blur","keyup"].indexOf(n)||"Internet Explorer"===a&&"blur"===n||"Chrome"===a;switch(l&&this.saveSelection(),n){case"keydown":this.handleKeydownEvent(t);break;case"keyup":if(this.preventNextKeyUp){this.preventNextKeyUp=!1;break}default:d&&this.updateToolbarStatus()}this.limitSpan&&this.limitValidation()},Textarea.prototype.handleKeydownEvent=function(e){if(!0===e[this.shortcutKey]&&this.keyCommandMap[e.key]){e.preventDefault();var t=this.keyCommandMap[e.key],i=this.getToolbarButtonByCommand(t);this.handleEditorButtonClick(i,t),this.isSelectionCollapsed&&(this.preventNextKeyUp=!0)}else!0===e.shiftKey&&"Tab"===e.key?(document.execCommand("outdent"),e.preventDefault()):"Tab"===e.key&&(document.execCommand("indent"),e.preventDefault())},Textarea.prototype.getActiveTags=function(e){var t;if(!e)return{};if(e.parentNode===this.editorContainer){var i,o=e.tagName;return i={},i[o]=!(this.commandTagMap.heading.indexOf(o)>-1)||e.getAttribute("size"),i}return n({},this.getActiveTags(e.parentNode),(t={},t[e.tagName]=1,t))},Textarea.prototype.isCommandActive=function(e){var t=this.commandTagMap[e];return!!t&&Object.keys(this.getActiveTags(this.selectionFocus)).findIndex(function(e){return t.indexOf(e)>-1})>-1},Textarea.prototype.updateToolbarStatus=function(){var e=this,t=this.selectionFocus;if(t!==this.editorContainer){var i=this.getActiveTags(t),o=Object.keys(i);(0,d.forEach)(this.editorToolbarButtons,function(t){var n=e.commandTagMap[t.getAttribute("data-command")];if(void 0!==n){var r=t.getElementsByTagName("li"),a=(0,d.findIndex)(o,n);if(r&&r.length>0)(0,d.forEach)(r,function(e){var t=e.getAttribute("data-value"),n=o[a],r=i[n];"undefined"!==n&&"string"==typeof r&&e.setAttribute("data-selected",-1!==a&&t===r.replace(/^\D+/g,""))});else{(-1!==a?d.addClass:d.removeClass).call(e,t,"active")}}})}},Textarea.prototype.limitValidation=function(){var t="mde"===this.renderType?(0,d.htmlToText)(this.editorContainer):this.editorInput.value,i="Words"===this.limitType?t.split(/[\n\r\s]+/).length:t.length,o=this.minLimit>0&&i<this.minLimit,n=this.maxLimit>0&&i>this.maxLimit,r=o&&!n||this.minLimit>0&&this.maxLimit<0?this.minLimit:this.maxLimit;if(this.limitSpan.textContent=i+"/"+r,o||n){var a="Words"===this.limitType?"word":"character",s=o?a+"MinLimitError":a+"LimitError",l=e.JotForm.texts[s]+" "+r;return this.editorInput.errorMessage!==l&&e.JotForm.corrected(this.editorInput),e.JotForm.errored(this.editorInput,l),l}return e.JotForm.corrected(this.editorInput),!1},Textarea.prototype.setMarkdownFromHtml=function(t){if("function"==typeof e.toMarkdown){var i=void 0!==t?t:this.editorContainer.innerHTML,o=e.toMarkdown(i);this.editorInput.value=0!==o.length?"jotform_untitled_markdown"+o:""}},Textarea.prototype.setHtmlFromMarkdown=function(t){if("object"===o(e.showdown)&&"function"==typeof e.showdown.Converter){var i=void 0!==t?t:this.editorInput.value.replace("jotform_untitled_markdown",""),n=new e.showdown.Converter;this.editorContainer.innerHTML=n.makeHtml(i)}},Textarea.prototype.initEditor=function(){var e=this;if(this.editorInput.classList.contains("form-readonly"))return void(this.editorContainer.contentEditable=!1);this.setHtmlFromMarkdown(this.editorInput.value),(0,d.forEach)(this.editorToolbarButtons,this.bindEditorButton),(0,d.forEach)(this.editorManipulationEventList,function(t){return e.editorContainer.addEventListener(t,e.handleEditorMutation)})},r(Textarea,[{key:"selection",get:function(){return e.getSelection?e.getSelection():{}}},{key:"isSelectionCollapsed",get:function(){return!!this.selection&&this.selection.isCollapsed}},{key:"selectionFocus",get:function(){return this.selection?this.selection.focusNode:{}}}]),Textarea}();t.default=c}).call(t,i(6))},4828:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(4829),n=function(e){return e&&e.__esModule?e:{default:e}}(o),r=i(9),a=function(){function EmojiPicker(e,t,i){var o=this;_classCallCheck(this,EmojiPicker),this.restoreSelection=i,this.generateEmojiList=this.generateEmojiList.bind(this),this.generateEmojiButton=this.generateEmojiButton.bind(this),this.generateEmojiPicker=this.generateEmojiPicker.bind(this),this.generateEmojiListItem=this.generateEmojiListItem.bind(this),this.handleEmojiButtonClick=this.handleEmojiButtonClick.bind(this),this.handleEmojiTriggerClick=this.handleEmojiTriggerClick.bind(this),this.editor=t,this.triggetButton=e,this.emojiPicker=this.generateEmojiPicker(t);var n=document.createElement("div");n.style.position="relative",n.appendChild(this.emojiPicker),this.triggetButton.appendChild(n),this.triggetButton.addEventListener("click",this.handleEmojiTriggerClick),this.triggetButton.addEventListener("blur",function(){o.emojiPicker.style.display="none"})}return EmojiPicker.prototype.generateEmojiPicker=function(e){var t=document.createElement("div"),i=this.generateEmojiList();return(0,r.addClass)(t,"jfEmoji-picker"),t.addEventListener("blur",function(){t.style.display="none"}),e.addEventListener("keydown",function(){t.style.display="none"}),t.appendChild(i),t},EmojiPicker.prototype.generateEmojiListItem=function(){var e=document.createElement("li");return e.className="jfEmoji-picker-item",e},EmojiPicker.prototype.generateEmojiButton=function(e){var t=document.createElement("a");return t.className="jfEmoji-picker-link",t.innerHTML=String.fromCodePoint(e),t},EmojiPicker.prototype.generateEmojiList=function(){var e=this,t=document.createElement("ul");t.className="jfEmoji-picker-list";var i=(0,r.map)(n.default,function(t){var i=e.generateEmojiListItem(),o=e.generateEmojiButton(t);return o.addEventListener("click",e.handleEmojiButtonClick),i.appendChild(o),i});return(0,r.forEach)(i,function(e){return t.appendChild(e)}),t},EmojiPicker.prototype.handleEmojiButtonClick=function(t){this.restoreSelection();var i=e.getSelection(),o=i.focusNode,n=i.anchorOffset,a=i.focusOffset;if(o!==this.editor&&!(0,r.isDescendant)(this.editor,o))return this.emojiPicker.style.display="none",!1;var s=n<a,l=s?n:a,d=s?a:n,c=o.textContent.substring(0,l),u=o.textContent.substring(d),h=t.target.textContent;o.textContent=c+h+u;var p=document.createRange();p.setStart(o,c.length),p.collapse(!0),i.removeAllRanges(),i.addRange(p),this.emojiPicker.style.display="none"},EmojiPicker.prototype.handleEmojiTriggerClick=function(e){e.target===this.triggetButton&&("block"===this.emojiPicker.style.display?this.emojiPicker.style.display="none":this.emojiPicker.style.display="block")},EmojiPicker}();t.default=a}).call(t,i(6))},4829:function(e,t,i){"use strict";t.__esModule=!0;var o=[128513,128545,128514,128521,128522,128584,128556,128541,128536,128155,128525,128568,128077,128532,128557,128139,128530,128563,128540,128515,128546,128561,128527,128542,128517,128538,128586,128524,128512,128541];t.default=o},4830:function(e,t,i){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=i(9),r={creditCard:"creditCard",address:"address",email:"email",paymentType:"type",plaid:"plaid"},a={products:"products",paymentType:"paymentType",creditCard:"creditCard",address:"address",email:"email",plaid:"plaid"},s=["control_2co","control_authnet","control_bluepay","control_bluesnap","control_braintree","control_cardconnect","control_chargify","control_clickbank","control_dwolla","control_echeck","control_eway","control_firstdata","control_stripeACHManual","control_gocardless","control_googleco","control_onebip","control_payjunction","control_payment","control_paymentwall","control_paymill","control_paypal","control_paypalexpress","control_paypalpro","control_paypalSPB","control_square","control_stripe","control_stripeACH","control_wepay","control_worldpay","control_worldpayus","control_payu","control_pagseguro","control_moneris","control_sofort","control_skrill","control_paysafe"],l=function(e){return e.wrapperContainer.cloneNode(!0)},d=function(e){var t=o({},e),i=l(t);return t.wrapperContainer=i,t.cardContainer=i.querySelector(".jfCard"),t.indexContainer=i.querySelector(".jfCard-index"),t.pressEnterContainer=i.querySelector(".jfPressEnter"),t.actionsButtons={prev:t.cardContainer.querySelector(".jfCard-actions .forPrev"),next:t.cardContainer.querySelector(".jfCard-actions .forNext"),submit:t.cardContainer.querySelector(".jfCard-actions .forSubmit"),mode:"middle"},t},c=function(e){(0,n.forEach)((0,n.map)(e.parentNode.children,function(e){return e}),function(t){t!==e&&t.parentNode.removeChild(t)})},u=function(e,t,i){var o=e,n=t.innerText;t.parentNode.removeChild(t);var r=o.cardContainer.querySelector(".jfQuestion-label");r.childNodes&&r.childNodes.length&&3===r.childNodes[0].nodeType?(r.childNodes[0].nodeValue=n,r.setAttribute("id",r.getAttribute("id")+"_"+i)):r.innerText=n},h=function(e){return e.find(function(e){return s.indexOf(e.question.type)>-1})},p=function(e){var t=d(e);t.type=a.products;var i=t.wrapperContainer.querySelector(".products-container");return c(i),t.question.hideSingleProduct&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),t},m=function(e){var t=d(e);t.type=a.paymentType;var i=t.wrapperContainer.querySelector(".jfPaymentType");return i?(t.question.hideSingleProduct&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),c(i),u(t,i.querySelector(".js-header"),r.paymentType),c(i.querySelector(".js-content")),t):null},f=function(e){var t=d(e);t.type=a.creditCard;var i=t.wrapperContainer.querySelector(".jfCreditCardAddress");if(i){var o=i.querySelector(".jfCreditCardAddress-creditCardWrapper");if(o)return"none"===i.style.display&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),i.removeAttribute("style"),c(i),u(t,o.querySelector(".js-header"),r.creditCard),c(o),t}return null},y=function(e){var t=d(e);t.type=a.address;var i=t.wrapperContainer.querySelector(".jfCreditCardAddress");if(i){var o=i.querySelector(".jfCreditCardAddress-addressWrapper");if(o)return"none"===i.style.display&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),i.removeAttribute("style"),c(i),u(t,o.querySelector(".js-header"),r.address),c(o),t}return null},v=function(e){var t=d(e);t.type=a.email;var i=t.wrapperContainer.querySelector(".jfCreditCardAddress");if(i){var o=i.querySelector(".jfCreditCardAddress-emailWrapper");if(o)return t.question.hideSingleProduct&&(t.isHidden=!0,t.forceHide=!0,t.wrapperContainer.style.display="none"),c(i),u(t,i.querySelector(".js-header"),r.email),c(i.querySelector(".js-content")),c(o),t}return null},g=function(e){var t="Bank Account Details",i=d(e);i.type=a.plaid;var o=i.wrapperContainer.querySelector(".jfCreditCardAddress");if(o){var n=o.querySelector(".jfCreditCardAddress-plaidWrapper");if(n)return c(o),c(o.querySelector(".js-content")),c(n),i.label=t,i.cardContainer.querySelector(".jsQuestionLabelContainer").innerText=t,i}return null},C=function(e,t,i){var o=d(e);o.type=i;var n=".jfCreditCardAddress-"+i+"Wrapper",r=o.wrapperContainer.querySelector(".jfCreditCardAddress");if(r){var a=r.querySelector(n);if(a)return c(r),c(r.querySelector(".js-content")),c(a),o.label=t,o.cardContainer.querySelector(".jsQuestionLabelContainer").innerText=t,o.cardContainer.querySelector(".jfQuestion-label").style.padding="0",o}return null},b=function(e){var t=[].concat(e),i=h(t);if(i){var o=t.indexOf(i),r=i.wrapperContainer,a=i.formLine,s=[p(i),v(i),m(i),f(i),y(i),g(i),C(i,"Pay with PayPal","paypalSPB")].filter(function(e){return e});s.forEach(function(e,t){var i=e.wrapperContainer.querySelector(".js-productModuleWrapper");i&&(0,n.removeClass)(i,"js-productModuleWrapper"),s[t].questionContainer=e.wrapperContainer.querySelector(".jfCard-question"),s[t].actionButtonsWrapper=e.wrapperContainer.querySelector(".jfCard-actions")});var l=s.map(function(e){return e.wrapperContainer});t.splice.apply(t,[o,1].concat(s)),l.forEach(function(e){a.insertBefore(e,r)}),a.removeChild(r)}return t};t.default={populateCards:b,paymentTypes:s,paymentCards:a}},4831:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function DateHandler(e,t){_classCallCheck(this,DateHandler),this.hasTouch=t,this.card=e,this.isCalendarVisible=!1,this.inputType="date",this.updateCalendarPosition=this.updateCalendarPosition.bind(this),this.init()}return DateHandler.prototype.init=function(){this.calendarContainer=this.card.cardContainer.querySelector(".jfCalendar-wrapper"),this.setCalendarVisibility(this.isCalendarVisible),this.bindToggleButton(),this.bindDateInput(),this.moveCalendarToBody(),this.bindCalendarCloseOnDateSelect()},DateHandler.prototype.moveCalendarToBody=function(){this.calendarContainer.parentNode.removeChild(this.calendarContainer),document.body.appendChild(this.calendarContainer),this.calendarContainer.style.position="fixed"},DateHandler.prototype.updateCalendarPosition=function(){var e=this.dateInput.getBoundingClientRect();this.calendarContainer.style.top=e.bottom,this.calendarContainer.style.left=e.left+e.width/2},DateHandler.prototype.setInputType=function(e){this.inputType=e;var t=this.card.cardContainer.querySelectorAll(".jfQuestion-fields .jfField input");(0,o.forEach)(t,function(t){var i=t;i.type=e;var n=(0,o.closest)(i,".jfField");(0,o.addClass)(n,"isFilled")})},DateHandler.prototype.hideDefaultInputFields=function(){var e=this.card.cardContainer.querySelectorAll(".jfField");(0,o.forEach)(e,function(e){(0,o.addClass)(e,"isHidden"),(0,o.addClass)(e,"cf-valid-hidden")})},DateHandler.prototype.bindDateInput=function(){var e=this;this.dateInput=this.card.cardContainer.querySelector(".jfCardDateInput"),this.dateInput.addEventListener("change",function(t){e.onLiteInputChange(t.target)})},DateHandler.prototype.setCalendarVisibility=function(e){this.isCalendarVisible=e,e?((0,o.removeClass)(this.calendarContainer,"isHidden"),this.updateCalendarPosition()):(0,o.addClass)(this.calendarContainer,"isHidden")},DateHandler.prototype.bindToggleButton=function(){var e=this,t=this.card.cardContainer.querySelector(".jfField-svgWrapper.forDate");t&&t.addEventListener("click",function(){e.setCalendarVisibility(!e.isCalendarVisible)})},DateHandler.prototype.onLiteInputChange=function(e){var t=e.value||"",i=t.split("-"),o=i[0],n=i[1],r=i[2],a=new Date(o,parseInt(n,10)-1,r,0,0,0);isNaN(a)?t?(document.getElementById("year_"+this.card.question.id).value=o,document.getElementById("month_"+this.card.question.id).value=n,document.getElementById("day_"+this.card.question.id).value=r,this.card.validate()):(this.clearDateInputs(),this.card.validate()):(this.calendar.setDate(a||t),this.calendar.selectHandler(this.calendar,t))},DateHandler.prototype.clearDateInputs=function(){document.getElementById("year_"+this.card.question.id).value="",document.getElementById("month_"+this.card.question.id).value="",document.getElementById("day_"+this.card.question.id).value=""},DateHandler.prototype.onCalendarSelected=function(e){this.dateInput.value=e,this.dateInput.hasAttribute("data-valid-example")&&this.dateInput.previousSibling.classList.add("calendarSelect")},DateHandler.prototype.bindCalendarCloseOnDateSelect=function(){var e=this;this.calendarContainer.addEventListener("click",function(t){(0,o.closest)(t.target,"tbody")&&(0,o.closest)(t.target,".jfCalendar-container")&&!(0,o.closest)(t.target,"td.unselectable")&&e.setCalendarVisibility(!1)})},DateHandler}(),r=function(){function Datetime(e){_classCallCheck(this,Datetime),this.init=this.init.bind(this),this.init(e),this.listenCalendarOutsideClick(),this.listenResize()}return Datetime.prototype.init=function(e){this.cards=e.cards;var t=e.cards.filter(function(e){return["control_datetime","control_birthdate"].indexOf(e.question.type)>-1});this.handlers=t.map(function(t){return new n(t,e.hasTouch)})},Datetime.prototype.closeAllCalendars=function(){this.handlers.forEach(function(e){return e.setCalendarVisibility(!1)})},Datetime.prototype.listenCalendarOutsideClick=function(){var e=this;document.addEventListener("click",function(t){(0,o.closest)(t.target,".jfCalendar-container, .jfDropdown-toggle")||e.handlers.forEach(function(e){e.setCalendarVisibility(!1)})},!0)},Datetime.prototype.listenResize=function(){var e=this;window.addEventListener("resize",function(){e.handlers.forEach(function(e){e.updateCalendarPosition()})}),window.addEventListener("orientationchange",function(){e.handlers.forEach(function(e){e.updateCalendarPosition()})})},Datetime.prototype.onCalendarSelected=function(e,t){this.handlers.find(function(t){return t.card===e}).onCalendarSelected(t)},Datetime.prototype.onCalendarInit=function(e,t){this.handlers.find(function(t){return t.card===e}).calendar=t},Datetime}();t.default=r},4832:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n={date:{placeholder:"yyyy-mm-dd",pattern:"(?:1|2)(?:0|9)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))",validExample:"1917-01-01"}},r=function(){function InputMask(e,t){if(_classCallCheck(this,InputMask),this.type=t,this.id=e,n[t]){var i=n[t],o=i.placeholder,r=i.pattern,a=i.validExample;if(this.placeholder=o,this.pattern=r,this.validExample=a,this.field=document.getElementById(this.id),this.field&&"INPUT"===this.field.tagName){var s=this.field.parentNode.getAttribute("class");null!==s&&-1!==s.indexOf("shell")||(this.createShell(this.field),this.activateMasking(this.field))}}}return InputMask.prototype.createShell=function(e){this.setAttributes(e);var t=document.createElement("span"),i=this.mask=document.createElement("span"),o=this.emphasis=document.createElement("i"),n=document.createTextNode(this.placeholder);i.setAttribute("aria-hidden","true"),i.setAttribute("id",this.id+"Mask"),i.appendChild(o),i.appendChild(n),t.setAttribute("class","shell"),t.appendChild(i),e.parentNode.insertBefore(t,e),t.appendChild(e)},InputMask.prototype.setAttributes=function(e){e.setAttribute("data-valid-example",this.validExample),e.setAttribute("data-placeholder",this.placeholder),e.setAttribute("maxlength",this.placeholder.length),e.removeAttribute("placeholder");var t=e.getAttribute("class");(!t||t&&-1===t.indexOf("maskedDate"))&&e.setAttribute("class",t+" maskedDate")},InputMask.prototype.setValueOfMask=function(e){return this.emphasis.innerHTML=e,"<i>"+e+"</i>"+this.placeholder.substr(e.length)},InputMask.prototype.activateMasking=function(e){var t=this,i=this;e.value&&this.mask.classList.add("calendarSelect"),e.addEventListener("keyup",function(e){t.mask.classList.remove("calendarSelect"),t.handleValueChange.call(i,e)},!1)},InputMask.prototype.handleValueChange=function(e){var t=e.target;t.value!==this.emphasis.innerHTML&&(this.field.value=this.handleCurrentValue(t),this.mask.innerHTML=this.setValueOfMask(t.value))},InputMask.prototype.handleCurrentValue=function(e){var t=e.getAttribute("data-charset"),i=t||this.placeholder,o=e.value,n=void 0,r=void 0,a=void 0,s=void 0,l="",d="";for(l=t?o.replace(/\W/g,""):o.replace(/\D/g,""),n=0,r=0;n<i.length;n++){a=!isNaN(parseInt(l[r],10)),s=!!l[r]&&l[r].match(/[A-Z]/i);var c=this.mNum.indexOf(i[n])>=0,u=this.mChar.indexOf(i[n])>=0;if(c&&a||t&&u&&s)d+=l[r++];else{if(!t&&!a&&c||t&&(u&&!s||c&&!a))return d;d+=i[n]}if(void 0===l[r])break}return this.validExample?this.validateProgress(e,d):d},InputMask.prototype.validateProgress=function(e,t){var i=t,o=this.placeholder,n=this.pattern,r=this.validExample,a=new RegExp(n),s=i.length,l="";if(6===s&&"MM"===o.toUpperCase().substr(5,2))return i.substr(s-1)>1&&i.substr(s-1)<10&&(i=i.substr(0,s-1)+"0"+i.substr(s-1)),i;for(var d=s;d>=0;d--){if(l=i+r.substr(i.length),a.test(l))return i;i=i.substr(0,i.length-1)}return i},o(InputMask,[{key:"mNum",get:function(){return"XdDmMyY9"}},{key:"mChar",get:function(){return"_"}}]),InputMask}();t.default=r},4833:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function EmbedOptions(t){_classCallCheck(this,EmbedOptions),this.formID=t.formID,this.layout=t,this.layout="standard",this.listenEmbedOptionsMessage=this.listenEmbedOptionsMessage.bind(this),this.initializeStandardProgress=this.initializeStandardProgress.bind(this),this.initializeModernProgress=this.initializeModernProgress.bind(this),this.calculateFormHeight=this.calculateFormHeight.bind(this),this.handleQuestionChange=this.handleQuestionChange.bind(this),e.parent!==e&&(this.bindIframeMessageListener(),this.handleQuestionChange())}return EmbedOptions.prototype.bindIframeMessageListener=function(){window.addEventListener?window.addEventListener("message",this.listenEmbedOptionsMessage,!1):window.attachEvent&&window.attachEvent("onmessage",this.listenEmbedOptionsMessage)},EmbedOptions.prototype.populateEmbedOptionsButton=function(){var t=this;if(e.parent!==e){var i=document.createElement("img");i.classList.add("embedOptionsButton"),i.src="https://d26dzxoao6i3hh.cloudfront.net/items/0a3k132a0W1Y0p0l2W2i/blue-edit.png",i.setStyle({position:"absolute",top:"20px",left:"20px",width:"40px",cursor:"pointer"}),i.addEventListener("click",function(){window.postMessage("embedOptions:toggle:"+t.formID,"*")}),document.body.appendChild(i);var o=document.createElement("div");o.classList.add("toolTip"),o.classList.add("u-neutral"),o.classList.add("u-northWest"),o.classList.add("u-tethered"),o.setStyle({display:"none",visibility:"initial",textAlign:"center",top:"62px",left:"20px",width:"240px",borderRadius:"3px",fontSize:"13px",opacity:"initial"}),o.innerHTML="Only Form owner see this button";var n=document.createElement("span");n.setStyle({display:"block",fontSize:"10px"}),n.innerHTML='Inline Embed Feature by <a style="color: orange; text-decoration: none" href="https://jotform.com" target="_blank">JotForm</a>',o.appendChild(n),i.addEventListener("mouseenter",function(){o.style.display="block"}),i.addEventListener("mouseleave",function(){o.style.display="none"}),document.body.appendChild(o);var r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("href","https://moodular.jotform.com/dist/moodular4/tooltips.css"),document.getElementsByTagName("head")[0].appendChild(r)}},EmbedOptions.prototype.listenEmbedOptionsMessage=function(e){if(e.data)try{if("embedOptions"===e.data.split(":")[0])return;var t=JSON.parse(e.data);if(t.showOwnerButton&&this.populateEmbedOptionsButton(),t.background){document.querySelector(".jfForm-wrapper").setStyle({background:t.background});document.querySelector(".jfForm-backgroundContainer").setStyle({background:t.background});document.querySelector(".jotform-form").setStyle({background:t.background});document.querySelector(".jfProgress").setStyle({background:t.background})}if(t.cardColor&&document.querySelectorAll(".jfCard-actions").forEach(function(e){e.setStyle({background:t.cardColor})}),t.cardBorderColor&&document.querySelectorAll(".jfCard").forEach(function(e){e.setStyle({border:"1px solid "+t.cardBorderColor})}),t.nextButtonColor&&(document.querySelectorAll(".jfInput-button.forNext").forEach(function(e){e.setStyle({background:t.nextButtonColor,"border-color":t.nextButtonColor})}),document.querySelectorAll(".jfProgress-item").forEach(function(e){e.setAttribute("data-color",t.nextButtonColor)})),t.prevButtonColor&&document.querySelectorAll(".jfInput-button.forPrev").forEach(function(e){e.setStyle({background:t.prevButtonColor,"border-color":t.prevButtonColor})}),t.overviewColor){var i=document.querySelector(".jfProgress-infoContent");i&&i.setStyle({background:t.overviewColor})}if(t.progressBackground){var o=document.querySelector(".jfProgress-itemWrapper");o&&o.setStyle({background:t.progressBackground})}if(t.overviewTextColor){document.querySelectorAll(".jfProgress-infoContentText").forEach(function(e){e.setStyle({color:t.overviewTextColor})})}if(t.progressTextColor){document.querySelectorAll(".jfProgress-itemLabel").forEach(function(e){e.setStyle({color:t.progressTextColor})})}if(t.toggleProgress&&document.querySelectorAll(".jfProgress-itemWrapperLine, .jfProgress-itemWrapper").forEach(function(e){e.setStyle({display:"hide"===t.toggleProgress?"none":"block"})}),t.toggleOverview&&document.querySelector(".jfProgress-infoContent").setStyle({display:"hide"===t.toggleOverview?"none":"inline-block"}),t.toggleLogo){var n=document.querySelector(".jfForm-logo");if(n){var r="hide"===t.toggleLogo?0:1;n.style.opacity=r}}if(t.toggleTitle){var a=document.querySelector("#title-toggle"),s=document.createTextNode("\n          .formMode .jfWelcome-header, .formMode .jfWelcome-description {\n            opacity: "+("hide"===t.toggleTitle?0:1)+";\n          }\n        ");for(a||(a=document.createElement("style"),a.type="text/css",a.id="title-toggle",document.head.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);a.appendChild(s)}if(t.headerText&&document.querySelectorAll(".jfWelcome-header, .jfWelcome-description").forEach(function(e){e.setStyle({color:t.headerText})}),t.toggleShadow){var l="hide"!==t.toggleShadow?"0 10px 50px 15px rgba(0, 0, 0, .12)":"0 0px 0px 0px rgba(0, 0, 0, 0)";document.querySelectorAll(".jfCard, .jfProgress.hackweekProgress > .jfProgress-itemWrapper").forEach(function(e){e.setStyle({"box-shadow":l,"-webkit-box-shadow":l})})}if(t.onlyCard){var d=document.querySelector(".jfForm-logo");d&&d.setStyle({visibility:"show"===t.onlyCard?"hidden":"visible"});var c=document.querySelector(".jfWelcome-wrapper");c&&c.setStyle({opacity:"show"===t.onlyCard?0:1}),document.querySelector(".jfProgress-itemWrapperLine").setStyle({display:"show"===t.onlyCard?"none":"inline-block"}),document.querySelector(".jfProgress-itemWrapper").setStyle({display:"show"===t.onlyCard?"none":"inline-block"}),document.querySelector(".jfProgress-info").setStyle({visibility:"show"===t.onlyCard?"hidden":"visible"})}if(t.headerSize){var u=document.querySelector(".jfWelcome-header");u&&u.setStyle({fontSize:t.headerSize})}}catch(e){console.log("Error on embed options: ",e)}},EmbedOptions.prototype.initializeModernProgress=function(){(0,o.addClass)(document.querySelector(".jfProgress"),"hackweekProgress"),document.querySelectorAll(".jfProgress-itemLabel").forEach(function(e){var t=e;t.setAttribute("data-hwOldVal",t.innerHTML),t.innerHTML=parseInt(t.innerHTML,10)})},EmbedOptions.prototype.initializeStandardProgress=function(){(0,o.removeClass)(document.querySelector(".jfProgress"),"hackweekProgress"),document.querySelectorAll(".jfProgress-itemLabel").forEach(function(e){var t=e;t.innerHTML=t.getAttribute("data-hwOldVal"),t.removeAttribute("data-hwOldVal")});var e=document.querySelector(".jfProgress-itemWrapper");(0,o.removeClass)(e,"jfProgress-itemWrapper"),setTimeout(function(){(0,o.addClass)(e,"jfProgress-itemWrapper")},100)},EmbedOptions.prototype.calculateFormHeight=function(){(0,o.addClass)(document.querySelector(".jfForm-wrapper"),"hackweekWrapper");var e=document.getElementById("header_welcomePage").getBoundingClientRect(),t=document.getElementById("subHeader_welcomePage")?document.getElementById("subHeader_welcomePage").getBoundingClientRect():{height:0},i=t.height>2.9*e.height?3.9*e.height:e.height+t.height,n=document.getElementById("cardProgress").getBoundingClientRect(),r=document.querySelector(".formFooter")?document.querySelector(".formFooter").getBoundingClientRect().height:0,a=+window.getComputedStyle(window.CardForm.cards[0].cardContainer).fontSize.slice(0,-2),s=3.5*a+2,l=i+n.height+r+s;if("modern"===this.layout){var d=0;window.CardForm.cards.forEach(function(e){e.cardContainer.clientHeight>d&&(d=e.cardContainer.clientHeight)}),l+=d}else if("bouncy"===this.layout){var c=document.querySelector(".jfCard-wrapper.isVisible > .jfCard").getBoundingClientRect().height;l+=c}"standard"!==this.layout&&(document.querySelector(".jfProgress.hackweekProgress").style=""),window.parent.postMessage("setHeight:"+l,"*")},EmbedOptions.prototype.handleQuestionChange=function(){var e=this;document.querySelectorAll(".jfInput-button.forNext, .jfInput-button.forPrev").forEach(function(t){t.addEventListener("click",function(){"bouncy"===e.layout&&setTimeout(function(){e.calculateFormHeight()},100)})})},EmbedOptions}();t.default=n}).call(t,i(6))},4834:function(e,t,i){"use strict";(function(e){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=i(4643),r=i(9),a=i(4646),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M37.8,7.81,29.59.18a.69.69,0,0,0-.5-.18H2.36A2.31,2.31,0,0,0,0,2.23V35.67A2.39,2.39,0,0,0,2.36,38H35.8A2.26,2.26,0,0,0,38,35.67V8.36A.72.72,0,0,0,37.8,7.81ZM8.36,1.52H26.6V16H8.36ZM36.48,35.67a.74.74,0,0,1-.68.81H2.36a.88.88,0,0,1-.84-.81V2.23a.79.79,0,0,1,.84-.71H6.84V16.67a.88.88,0,0,0,.84.81H27.44a.74.74,0,0,0,.68-.81V1.52h.67l7.69,7.17Z" style="fill:#fff"/><rect x="22.04" y="3.8" width="1.52" height="9.88" style="fill:#fff"/><path d="M27.45,24.32H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,28.12H7.68a.76.76,0,1,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,31.92H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/></g></g></svg>',d=function(){function SaveAndContinueLater(e,t,i){_classCallCheck(this,SaveAndContinueLater),o(this,{continueLater:e,hiddenSubmitter:t,emailAnswerFinder:i}),this.inited=!1,this.states=Object.freeze({default:0,saving:1,saved:2,error:3}),this.isAutoCopyAvailable=!!document.queryCommandSupported("copy"),this.formId=document.forms[0].getAttribute("id"),this.overlay=new s.default({hasSaveAndContinueLater:!0}),this.initiate=this.initiate.bind(this),this.attachEvents=this.attachEvents.bind(this),this.prepareModal=this.prepareModal.bind(this),this.openSaveAndContinueLaterModal=this.openSaveAndContinueLaterModal.bind(this),this.copyContinueLaterLink=this.copyContinueLaterLink.bind(this),this.sendEmail=this.sendEmail.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputBlur=this.handleInputBlur.bind(this),this.showInputError=this.showInputError.bind(this),this.hideInputError=this.hideInputError.bind(this),this.generateLink=this.generateLink.bind(this),this.switchToManualCopyMode=this.switchToManualCopyMode.bind(this),this.continue=this.continue.bind(this),this.trySaveAgain=this.trySaveAgain.bind(this),this.handleSaveFailure=this.handleSaveFailure.bind(this),this.handleSaveSuccess=this.handleSaveSuccess.bind(this),this.saveAndContinueLaterButton=document.querySelector(".jfProgress-sacl"),this.saclModal=document.getElementById("sacl-modal"),this.sendEmailButton=this.saclModal.querySelector(".js-saveContinueSendEmail"),this.continueLaterLinkWrapper=this.saclModal.querySelector(".sacl-linkWrapper"),this.continueLaterLinkElement=this.saclModal.querySelector(".js-continueLaterLink"),this.emailFeedbackText=this.saclModal.querySelector(".js-emailSent-feedback"),this.emailInput=this.saclModal.querySelector(".js-saveForLaterEmail"),this.emailInputError=this.saclModal.querySelector(".js-sacl-input-error"),this.copyContinueLinkButton=this.saclModal.querySelector(".js-shareableLinkButton"),this.tooltipTrigger=this.saclModal.querySelector(".js-shareableLinkButton.u-tooltipTrigger"),this.tryAgainButton=this.saclModal.querySelector(".js-saveContinueTryAgain"),this.successContent=this.saclModal.querySelectorAll(".js-saveSuccessful"),this.failureContent=this.saclModal.querySelectorAll(".js-saveError"),this.saveAndContinueLaterButton&&this.copyContinueLinkButton&&this.emailInput&&this.sendEmailButton&&this.tryAgainButton&&this.attachEvents(),this.changeState(this.states.default)}return SaveAndContinueLater.prototype.initiate=function(){this.inited?(this.sessionID=e.JotForm.sessionID,this.token=this.generateToken()):(this.inited=!0,this.sessionID=this.generateSessionID(),this.token=this.generateToken(),e.JotForm.sessionID=this.sessionID,e.JotForm.submissionToken=this.token),this.generateLink()},SaveAndContinueLater.prototype.attachEvents=function(){this.saveAndContinueLaterButton.addEventListener("click",this.openSaveAndContinueLaterModal),this.copyContinueLinkButton.addEventListener("click",this.copyContinueLaterLink),this.emailInput.addEventListener("input",this.handleInputChange),this.emailInput.addEventListener("blur",this.handleInputBlur),this.sendEmailButton.addEventListener("click",this.sendEmail),this.tryAgainButton.addEventListener("click",this.trySaveAgain)},SaveAndContinueLater.prototype.trySaveAgain=function(){this.hiddenSubmitter(!0)},SaveAndContinueLater.prototype.handleSaveFailure=function(){this.failureContent.forEach(function(e){e.setStyle({display:"block"}),(0,r.removeClass)(e,"isHidden")}),this.successContent.forEach(function(e){e.setStyle({display:"none"}),(0,r.addClass)(e,"isHidden")})},SaveAndContinueLater.prototype.handleSaveSuccess=function(){this.successContent.forEach(function(e){e.setStyle({display:"block"}),(0,r.removeClass)(e,"isHidden")}),this.failureContent.forEach(function(e){e.setStyle({display:"none"}),(0,r.addClass)(e,"isHidden")})},SaveAndContinueLater.prototype.copyContinueLaterLink=function(){var t=this;this.continueLaterLinkElement.select();var i=document.execCommand("copy");if(!i){var o=document.createRange();o.selectNodeContents(this.continueLaterLinkElement);var n=e.getSelection();n.removeAllRanges(),n.addRange(o),this.continueLaterLinkElement.setSelectionRange(0,9999),i=document.execCommand("copy")}this.tooltipTrigger&&((0,r.addClass)(this.tooltipTrigger,"isActive"),setTimeout(function(){t.tooltipTrigger&&(0,r.removeClass)(t.tooltipTrigger,"isActive")},3e3))},SaveAndContinueLater.prototype.openSaveAndContinueLaterModal=function(){this.initiate(),this.continueLater.active=!0,this.hiddenSubmitter(),this.prepareModal(this.emailAnswerFinder()),this.overlay.openSaveAndContinueModal()},SaveAndContinueLater.prototype.continue=function(){this.inited=!0,this.continueLaterLinkWrapper.active=!0,this.sessionID=e.JotForm.sessionID,this.submissionToken=e.JotForm.submissionToken,this.changeState(this.states.saved)},SaveAndContinueLater.prototype.changeState=function(e){var t=document.querySelector(".jf-saclState");if(t){var i=void 0,o=void 0;switch(e){case this.states.default:i=l,o="Save & Continue Later";break;case this.states.saved:i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M37.8,7.81,29.59.18a.69.69,0,0,0-.5-.18H2.36A2.31,2.31,0,0,0,0,2.23V35.67A2.39,2.39,0,0,0,2.36,38H35.8A2.26,2.26,0,0,0,38,35.67V8.36A.72.72,0,0,0,37.8,7.81ZM8.36,1.52H26.6V16H8.36ZM36.48,35.67a.74.74,0,0,1-.68.81H2.36a.88.88,0,0,1-.84-.81V2.23a.79.79,0,0,1,.84-.71H6.84V16.67a.88.88,0,0,0,.84.81H27.44a.74.74,0,0,0,.68-.81V1.52h.67l7.69,7.17Z" style="fill:#fff"/><rect x="22.04" y="3.8" width="1.52" height="9.88" style="fill:#fff"/><path d="M27.45,24.32H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,28.12H7.68a.76.76,0,1,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,31.92H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><rect width="45" height="45" style="fill:none"/><path d="M32.72,45A12.45,12.45,0,1,1,45,32.55,12.38,12.38,0,0,1,32.72,45Zm0-22.73A10.28,10.28,0,1,0,42.86,32.55,10.22,10.22,0,0,0,32.72,22.27Z" style="fill:#fff"/><path d="M32.72,21.6a11,11,0,1,0,10.8,10.95A10.88,10.88,0,0,0,32.72,21.6Z" style="fill:#399e39"/><path d="M40,28.52l-9.14,9.62a.54.54,0,0,1-.4.17.46.46,0,0,1-.4-.17l-4.57-5a.59.59,0,0,1-.17-.4.61.61,0,0,1,.17-.41l.8-.81a.55.55,0,0,1,.8,0L30.27,35a.28.28,0,0,0,.4,0l7.71-8a.55.55,0,0,1,.8,0l.8.81a.49.49,0,0,1,0,.75Z" style="fill:#fff"/></g></g></svg>',o="Answers saved",this.handleSaveSuccess();break;case this.states.error:i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path d="M37.8,7.81,29.59.18a.69.69,0,0,0-.5-.18H2.36A2.31,2.31,0,0,0,0,2.23V35.67A2.39,2.39,0,0,0,2.36,38H35.8A2.26,2.26,0,0,0,38,35.67V8.36A.72.72,0,0,0,37.8,7.81ZM8.36,1.52H26.6V16H8.36ZM36.48,35.67a.74.74,0,0,1-.68.81H2.36a.88.88,0,0,1-.84-.81V2.23a.79.79,0,0,1,.84-.71H6.84V16.67a.88.88,0,0,0,.84.81H27.44a.74.74,0,0,0,.68-.81V1.52h.67l7.69,7.17Z" style="fill:#fff"/><rect x="22.04" y="3.8" width="1.52" height="9.88" style="fill:#fff"/><path d="M27.45,24.32H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,28.12H7.68a.76.76,0,1,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><path d="M27.45,31.92H7.68a.76.76,0,0,0,0,1.52H27.45a.76.76,0,0,0,0-1.52Z" style="fill:#fff"/><rect width="45" height="45" style="fill:none"/><path d="M32.72,45A12.45,12.45,0,1,1,45,32.55,12.38,12.38,0,0,1,32.72,45Zm0-22.73A10.28,10.28,0,1,0,42.86,32.55,10.22,10.22,0,0,0,32.72,22.27Z" style="fill:#fff"/><path d="M32.72,21.6a11,11,0,1,0,10.8,10.95A10.88,10.88,0,0,0,32.72,21.6Z" style="fill:#c1272d"/><path d="M28,28.13a1.06,1.06,0,0,1,1.12-1,1.33,1.33,0,0,1,.94.46L33,30.72l3.45-3.24a1.55,1.55,0,0,1,.92-.25,1,1,0,0,1,.69.33,1.13,1.13,0,0,1,.28.68,1.38,1.38,0,0,1-.26.89l-3.51,3.31,3.32,3.61A1.44,1.44,0,0,1,38,37a1.07,1.07,0,0,1-.33.66,1,1,0,0,1-.71.28,1.59,1.59,0,0,1-.9-.32L32.84,34l-3.5,3.31a1.33,1.33,0,0,1-1,.38,1.07,1.07,0,0,1-1.05-1.1,1.45,1.45,0,0,1,.38-.94l3.57-3.36L28.32,29.1A1.46,1.46,0,0,1,28,28.13Z" style="fill:#fff"/></g></g></svg>',o="Answers not saved",this.handleSaveFailure();break;default:i=l,o="Save & Continue Later",console.info("No such state implemented:",e)}t.innerHTML='<span class="sacl-state-icon">'+i+'</span><span class="sacl-state-text js-sacl-state-text">'+o+"</span>"}},SaveAndContinueLater.prototype.generateLink=function(){var e=window.location.pathname.replace(/^\/?|\/?$/g,"");this.continueLink=window.location.origin+"/"+e+"?session="+this.sessionID+"&stoken="+this.token},SaveAndContinueLater.prototype.prepareModal=function(e){if(!this.inited)return void this.initiate();this.continueLaterLinkElement.innerHTML=this.continueLink,e&&(this.emailInput.value=e,this.handleInputChange()),this.isAutoCopyAvailable||this.switchToManualCopyMode()},SaveAndContinueLater.prototype.switchToManualCopyMode=function(){(0,r.removeClass)(this.continueLaterLinkElement,"isHidden"),this.continueLaterLinkElement.readOnly=!0,(0,r.addClass)(this.continueLaterLinkWrapper,"isHidden")},SaveAndContinueLater.prototype.generateSessionID=function(){return"JF-S4L-"+(new Date).getTime().toString().slice(-4)},SaveAndContinueLater.prototype.generateToken=function(){return"JF-"+(new Date).getTime().toString().slice(-4)+"-"+(this.formId.toString().slice(-1)/1*4+7)},SaveAndContinueLater.prototype.showInputError=function(){(0,r.addClass)(this.emailInputError,"isActive"),(0,r.addClass)(this.emailInput,"form-validation-error")},SaveAndContinueLater.prototype.hideInputError=function(){(0,r.removeClass)(this.emailInputError,"isActive"),(0,r.removeClass)(this.emailInput,"form-validation-error")},SaveAndContinueLater.prototype.handleInputBlur=function(){var e=this.emailInput.value;(0,n.isEmail)(e)?this.hideInputError():this.showInputError()},SaveAndContinueLater.prototype.handleInputChange=function(){var e=this.emailInput.value;(0,n.isEmail)(e)&&this.hideInputError()},SaveAndContinueLater.prototype.sendEmail=function(){var t=this;this.handleInputBlur();var i=this.emailInput.value;if((0,n.isEmail)(i)){var o=JSON.stringify({formID:e.CardForm.formID,shareLink:this.continueLink,email:i,sessionID:this.sessionID,token:this.token});fetch(e.CardForm.apiURL+"/sendSaveAndContinueEmail",{method:"POST",body:o}).then(function(e){e.json().then(function(e){200===e.responseCode&&(t.emailFeedbackText.style.display="inline",t.sendEmailButton.disabled="disabled")})}).catch(function(e){e.json().then(function(e){console.error("err",e)})})}else console.error("Please enter a valid email address.")},SaveAndContinueLater}();t.default=d}).call(t,i(6))},4835:function(e,t,i){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(9),n=function(){function CardHint(e){_classCallCheck(this,CardHint);var t=e.timeout,i=e.className;this.layoutParams={timeout:t},this.layoutElements={hintContainer:document.querySelector("."+i)},this.alreadyShown=!1,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.setTimerForHide=this.setTimerForHide.bind(this)}return CardHint.prototype.show=function(){this.layoutElements.hintContainer&&!this.alreadyShown&&(this.layoutElements.hintContainer.style.display="block",(0,o.removeClass)(this.layoutElements.hintContainer,"isHidden"),this.setTimerForHide())},CardHint.prototype.hide=function(){this.layoutElements.hintContainer.style.display="none",(0,o.addClass)(this.layoutElements.hintContainer,"isHidden"),this.alreadyShown=!0},CardHint.prototype.setTimerForHide=function(){setTimeout(this.hide,this.layoutParams.timeout)},CardHint}();t.default=n},6:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},9:function(e,t,i){"use strict";(function(e){function createSubmissionToken(e){var t=Math.floor(98*Math.random())+1,i=(new Date).getTime();return"jf_"+e.toString().substr(0,5)+i+t}function createInput(t){for(var i=e.document.createElement("input"),o=Object.keys(t),n=0;n<o.length;n++){var r=o[n];i[r]=t[r]}return i}function parseJSON(e){try{return!!e&&((void 0===e?"undefined":o(e))===o("string")?JSON.parse(e):e)}catch(e){return!1}}function getInputValidations(e){return e.className.replace(/.*validate\[(.*)].*/,"$1").split(/\s*,\s*/)}function fuzzySearch(e,t){for(var i=t,o=e.split(""),n=e,r=[],a=1;a<=o.length;a++){var s=n.substr(0,a),l=n.substr(a+1,n.length-a);r.push(s+"|"+l)}var d=[];return r.forEach(function(e){i.forEach(function(t){var i=t.toLowerCase(),o=e.toLowerCase().split("|"),n=i.indexOf(o[0]),r=i.indexOf(o[1]);-1!==n&&-1!==r&&-1===d.indexOf(i)&&d.push(i)})}),d}function htmlToText(e){var t=e.childCount>0?e.childElements():[e];return l(t,function(e,t){return e+" "+t.textContent.trim()},"").trim()}function getSelectedRange(){if(e.getSelection){var t=e.getSelection();if(t.getRangeAt&&t.rangeCount){for(var i=[],o=0;o<t.rangeCount;o++)i.push(t.getRangeAt(o));return i}}else if(e.selection&&e.selection.createRange)return e.selection.createRange();return null}function setSelectionRange(t){if(t)if(e.getSelection){var i=e.getSelection();if(document.body.createTextRange){var o=document.body.createTextRange();o.collapse(),o.select()}else i.removeAllRanges();s(t,function(e){return i.addRange(e)})}else e.document.selection&&this.selectionState.select&&t.select()}function findOne(e,t){return t.some(function(t){return e.indexOf(t)>-1})}function findIndex(e,t){var i=-1;return t.some(function(t){return e.indexOf(t)>-1&&(i=e.indexOf(t),!0)}),i}function triggerEvent(e,t){if(document.createEvent){var i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i)}else e.fireEvent&&e.fireEvent("on"+t)}function enableDisableDOMElements(e,t){var i=(void 0===e?"undefined":o(e))===o([])?e:[e];s(i,function(e){e&&(t?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled"))})}function calculateOrientationType(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0){case 90:return"landscape-primary";case-90:return"landscape-secondary";case 180:return"portrait-secondary";default:return"portrait-primary"}}function sendAnalyticsData(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=a||-1===e.location.href.indexOf("jotform.pro"),l=-1!==e.location.href.indexOf("?preview");n&&"object"===(void 0===r?"undefined":o(r))&&e.XMLHttpRequest&&s&&!l||console.warn("Invalid usage");var d=new e.XMLHttpRequest,c=JSON.stringify(i({},r,{formID:t}));try{d.open("POST","https://www.jotform.com/stylebuilder/"+t+"&action=sendAnalyticData&collection="+n+"&data="+encodeURIComponent(c)),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.send()}catch(e){console.error("Couldn't sent analytics data {"+n+": "+c+"} .",e)}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.createSubmissionToken=createSubmissionToken,t.createInput=createInput,t.parseJSON=parseJSON,t.getInputValidations=getInputValidations,t.fuzzySearch=fuzzySearch,t.htmlToText=htmlToText,t.getSelectedRange=getSelectedRange,t.setSelectionRange=setSelectionRange,t.findOne=findOne,t.findIndex=findIndex,t.triggerEvent=triggerEvent,t.enableDisableDOMElements=enableDisableDOMElements,t.calculateOrientationType=calculateOrientationType,t.sendAnalyticsData=sendAnalyticsData;var n=(t.deviceSize={cardwidthp:480,cardwidthpt:736,cardwidtht:860,cardwidthsm:992,cardwidthm:1200,cardwidthxl:1366},t.cardSize={cardwidthp:"100%",cardwidthpt:"90%",cardwidtht:"95%",cardwidthsm:840,cardwidthm:940,cardwidthxl:940},t.addClass=function(e,t){var i=e,o=(i.className||"").split(" ").filter(function(e){return e});o.indexOf(t)>-1||(o.push(t),i.className=o.join(" "))}),r=t.removeClass=function(e,t){var i=e;if(i&&i.className&&"string"==typeof i.className){var o=i.className.split(" ").filter(function(e){return e&&e!==t});i.className=o.join(" ")}},a=t.hasClass=function(e,t){if(e.className&&"string"==typeof e.className){return e.className.split(" ").indexOf(t)>-1}},s=(t.toggleClass=function(e,t){if(e)return a(e,t)?r(e,t):n(e,t)},t.closest=function(e,t,i){for(var o=e,n=null;o;){if(o.matches(t)){n=o;break}if(i&&o.matches(i))break;o=o.parentElement}return n},t.isDescendant=function isDescendant(e,t){var i=t.parentNode;return null!==i&&(i===e||isDescendant(e,i))},t.forEach=function(e,t){Array.prototype.forEach.call(e,t)}),l=(t.map=function(e,t){return Array.prototype.map.call(e,t)},t.reduce=function(e,t,i){return Array.prototype.reduce.call(e,t,i)});t.hasTouch=function(){var t="rc.jotform.com"===e.location.hostname,i=!!("ontouchstart"in window||window.navigator&&window.navigator.maxTouchPoints>0&&window.navigator.msMaxTouchPoints>0&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch)&&!t;if(i){var o=document.querySelector(".jfForm-wrapper");n(o,"hasTouch")}return i},t.isVisible=function(e){if(!(e instanceof window.Element))throw Error("DomUtil: elem is not an element.");var t=window.getComputedStyle(e);if("none"===t.display)return!1;if("visible"!==t.visibility)return!1;if(t.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;var i={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(i.x<0)return!1;if(i.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(i.y<0)return!1;if(i.y>(document.documentElement.clientHeight||window.innerHeight))return!1;for(var o=document.elementFromPoint(i.x,i.y);null!==o;){if(o===e)return!0;o=o.parentNode}return!1},t.debounce=function(e,t,i){var o;return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=function(){o=null,i||e.apply(void 0,r)},l=i&&!o;clearTimeout(o),o=setTimeout(s,t),l&&e.apply(void 0,r)}},t.makeHiddenSubmissionKey=function(e){return"jfHiddenSubmission_"+e}}).call(t,i(6))}})});